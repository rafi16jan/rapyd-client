{"version":3,"sources":["react.js","api.js","components/pages/LoginPage.jsx","components/Page.jsx","components/Grid.jsx","components/Flatpickr.jsx","components/Field.jsx","components/GridEditor.jsx","components/Tree.jsx","components/pages/TreePage.jsx","components/Form.jsx","components/Header.jsx","components/Button.jsx","components/Sheet.jsx","components/Group.jsx","components/Footer.jsx","components/pages/FormPage.jsx","components/pages/HomePage.jsx","components/pages/AboutPage.jsx","components/pages/CustomPage.jsx","components/pages/NotFound.jsx","components/pages/PanelLeft.jsx","components/pages/PanelRight.jsx","routes.js","components/App.jsx","index.js","react-dom.js"],"names":["window","React","Error","module","exports","PouchDB","plugin","PouchFind","RelationalPouch","session_db","rapyd_config","localStorage","rapyd_server_url","url","location","protocol","hostname","port","globals","preload","root","document","getElementById","preloader","createElement","className","insertAdjacentHTML","backdrop","insertAdjacentElement","done","remove","_callee","session_object","new_session","regenerator_default","a","wrap","_context","prev","next","models","abrupt","tools","local_db","get","sent","login","password","encrypted","client_js_time","logout","reload","client_js","t0","console","log","ORM","t1","stop","_callee2","session","_context2","put","Object","objectSpread","_callee3","args","_context3","ajax","status","_rev","unsaved","_id","_callee4","_context4","destroy","wait_exist","fn","Promise","resolve","reject","interval","setInterval","clearInterval","_callee5","script","URL","blob","BlobBuilder","_context5","webkitURL","Blob","error","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","type","src","createObjectURL","body","appendChild","configuration","assign","env","context","user","browse","id","ajax_load","options","no_preload","ajax_resolve","xhr","response","ajax_reject","exceptionCount","exception","app","dialog","alert","warningCount","warning","offline","arguments","length","undefined","warn","toast","create","text","closeButton","closeTimeout","open","dataType","data","parseURI","XMLHttpRequest","onload","this","onerror","statusText","setRequestHeader","responseType","send","array","key","value","JSON","stringify","push","encodeURIComponent","join","api","get_session","update_session","wait","ms","setTimeout","hasValue","object","Array","String","indexOf","constructor","toString","hasKey","keys","_default","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","username","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","querySelectorAll","Symbol","iterator","addEventListener","clickEvent","bind","err","return","_this2","react_default","framework7_react_esm","noToolbar","noNavbar","noSwipeback","loginScreen","form","label","placeholder","onInput","e","setState","target","autofocus","onClick","signIn","style","float","marginLeft","setUrl","marginRight","event","preventDefault","keyCode","$f7","prompt","input","querySelector","load","self","success","Component","Page","backLink","active_url","iconMd","panelOpen","title","children","height","main","rowSelection","paginationPageSize","pagination","enableColResize","enableServerSideSorting","enableServerSideFilter","suppressMultiSort","suppressRowClickSelection","onGridReady","onRowClicked","onSelectionChanged","onPaginationChanged","onSortChanged","onFilterChanged","columnDefs","rowData","frameworkComponents","singleClickEdit","customInput","clone","inline","refs","flatpickr","cloneNode","display","onChange","readOnly","defaultDate","setDate","clear","_onChange2","asyncToGenerator","mark","_x","apply","componentDidMount","set","_ref","_x2","customComponent","ref","singleSelectInput","Templates","replace","singleSelectedItem","multipleSelectedItem","altvalue","active_error","field_map","name","cellEdit","active_id","refresh","model","active_model","field","_fields","_pending_promises","_wait_promise","ref_object","loaded","$listEl","checked","relation","records","_rec_name","from","__iter__","map","record","widget","dict","selection","date_input","selectivity","string","tree","rowIndex","active_lines","find","_original_object_for_id","invisible","Function","readonly","component","first","selections","copy","reverse","raised","items","minimumInputLength","params","fetch","_x3","_x4","_x5","_fetch","errorMessageForce","errorMessage","selectivity_react","slot","editing","multiple","setValue","onDropdownClose","onSelect","allowClear","closeOnSelect","disabled","Flatpickr_default","enableTime","enableSeconds","char","integer","boolean","init","query","limit","inverse_field","results","active_limit","active_index","offset","with_context","search","term","add","filter","toLowerCase","more","Math","random","substr","temp_records","finish","_search_count","getData","colDef","column","cellEditorFramework","temp_ids","getValue","isArray","temp_id","slice","update","oldValue","newValue","stopEditing","Field_default","autoSizeAll","gridOptions","grid","columns","getWidthForSizeColsToFit","getAllDisplayedColumns","getWidthOfColsInList","sizeColumnsToFit","isEditable","isTreeView","editable","pendingTask","write","tasked","pendingCreate","pendingWrite","tree_field","new_records","values","active_task","assertThisInitialized","selected","getSelectedRows","ids","active_ids","handleOutside","base","contains","fields","child","index","headerName","attributes","filterParams","applyButton","clearButton","onCellValueChanged","GridEditor","cellEditorParams","cellClass","checkboxSelection","headerCheckboxSelection","updated_records","specialEditor","removeEventListener","rows","count","pushed","unshift","active_sort","colId","sort","paginationGetCurrentPage","paginationGoToFirstPage","newData","paging","conditions","operator","condition1","condition2","types","startsWith","endsWith","notContains","equals","notEqual","_i","_conditions","condition","active_args","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_loop","_iterator2","getElementsByClassName","_models$env$this$stat","toConsumableArray","c","read","paginate","t6","_this3","treeView","updateRowData","unlink","pop","as_array","_this4","visibility","Grid_default","then","views","router","navigate","getSortModel","getFilterModel","addItem","top","removeItem","view","fill","customComponents","Tree","Field","cachedViews","TreePage","f7route","recurse","elements","components","element","tagName","toUpperCase","attribute","_arr","Boolean","prototype","DOMParser","parseFromString","parseView","_name","parse","operation","exceptions","RequiredError","position","task","result","history","replaceState","hash","promises","defineProperty","all","old_record","buttonStyle","width","margin-right","uploadStyle","margin","boxShadow","color","edit","back","upload","Header","backgroundColor","minHeight","button","marginTop","lastHeight","haveChild","group","previousElementSibling","clientHeight","parseInt","padding","rapydComponents","Form","Button","Sheet","Group","Footer","parent_props","split","word","inverse","HomePage","LoginPage_default","home_view","mode","FormPage_default","strong","link","popupOpen","loginScreenOpen","AboutPage","CustomPage","view_id","NotFound","hide","hidePanel","panel","leftBreakpoint","left","initBreakpoints","PanelLeft","fontWeight","panelClose","menu","childs","close","currentTarget","href","data-view","child_menu","iconSize","render","material","tabbar","tabLink","tabLinkActive","tabActive","paddingTop","mediaList","after","routes","path","PanelRight","FormPage","App","f7params","theme","colorTheme","color_theme","reveal","right","cover","preloadPreviousPage","pushState","popupClose","loginScreenClose","OfflinePluginRuntime","Framework7","use","Framework7React","ReactDOM","Framework7Components","Flatpickr","color_element","custom_navbar","innerHTML","content","getComputedStyle","hex"],"mappings":"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","file":"static/js/main.1b974578.chunk.js","sourcesContent":["if (!window.React) {\n  throw Error('React must be defined on global variable');\n}\n\nmodule.exports = window.React;\n","import PouchDB from 'pouchdb-browser';\nimport PouchFind from 'pouchdb-find';\nimport RelationalPouch from 'relational-pouch';\n\nPouchDB.plugin(PouchFind);\nPouchDB.plugin(RelationalPouch);\nwindow.PouchDB = PouchDB;\nwindow.session_db = new PouchDB('session');\n\nif (!window.rapyd_config) window.rapyd_config = {};\n\nif (!window.localStorage.rapyd_server_url) {\n  if (window.rapyd_config.url) {\n    window.localStorage.rapyd_server_url = window.rapyd_config.url;\n  }\n  else if (window.location.protocol === 'file:') {\n    window.localStorage.rapyd_server_url = 'http://localhost:8069';\n  }\n  else {\n    window.localStorage.rapyd_server_url = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : ':8069');\n  }\n}\n\nconst globals = {};\n\nfunction preload() {\n  const root = document.getElementById('app');\n  if (root) {\n    const preloader = document.createElement('div');\n    preloader.className = 'preloader-modal';\n    preloader.insertAdjacentHTML('beforeend',`\n    <div class=\"preloader color-white\">\n      <span class=\"preloader-inner\">\n        <span class=\"preloader-inner-gap\"></span>\n        <span class=\"preloader-inner-left\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n        <span class=\"preloader-inner-right\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n      </span>\n    </div>`);\n    const backdrop = document.createElement('div');\n    backdrop.className = 'preloader-backdrop';\n    root.insertAdjacentElement('beforeend', backdrop);\n    root.insertAdjacentElement('beforeend', preloader);\n    return {done: () => {\n      preloader.remove();\n      backdrop.remove();\n    }};\n  }\n}\n\nasync function get_session() {\n  const session_db = window.session_db;\n  if (window.models) {\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  try {\n    let session_object = await session_db.get('session');\n    try {\n      const new_session = await login({login: session_object.login, password: session_object.password, encrypted: true, client_js_time: session_object.client_js_time});\n      if (!new_session) {\n        await logout();\n        window.location.reload();\n      }\n      else if (!new_session.client_js) {\n        new_session.client_js = session_object.client_js;\n      }\n      session_object = new_session;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    await ORM(session_object);\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  catch(error) {\n    console.log(error);\n    return {};\n  }\n}\n\nasync function update_session(new_session) {\n  const session = await window.session_db.get('session');\n  return await window.session_db.put({...session, ...new_session});\n}\n\nasync function login(args) {\n  args.encrypted = args.encrypted ? true: false;\n  const session = await ajax('post', 'json', window.localStorage.rapyd_server_url + '/api/login', args);\n  console.log(session);\n  if (session.status === 'denied') {\n    return false;\n  }\n  else if (session.status === 'error') {\n    throw Error(\"There are an error on the server\");\n  }\n  try {\n    const session_object = await window.session_db.get('session');\n    session._rev = session_object._rev;\n    session.unsaved = session_object.unsaved;\n    session.client_js = session.client_js || session_object.client_js\n    session.client_js_time = session.client_js_time || session_object.client_js_time\n  }\n  catch(error) {\n    session.unsaved = {};\n  }\n  session._id = 'session';\n  await window.session_db.put(session);\n  return session;\n}\n\nasync function logout() {\n  try {\n    const session = await window.session_db.get('session');\n    await window.session_db.remove(session);\n  }\n  catch(error) {\n    console.log(error);\n  }\n  window.local_db.destroy();\n  return window.location.reload();\n}\n\nfunction wait(ms) {\n  return new Promise((resolve, reject) => {\n    const clear = (id) => {\n      clearInterval(id);\n      resolve();\n    }\n    const interval = setTimeout(() => clear(interval), ms);\n  });\n}\n\nfunction wait_exist(fn) {\n  return new Promise((resolve, reject) => {\n    const clear = (id) => {\n      clearInterval(id);\n      resolve();\n    }\n    const interval = setInterval(() => {if (fn()) clear(interval)}, 0);\n  });\n}\n\nasync function ORM(session) {\n  //window.localStorage.rapyd_server_url = session.url;\n  // eslint-disable-next-line\n  //new Function(session.client_js)();\n  const script = document.createElement('script');\n  const URL = window.URL || window.webkitURL;\n  let blob;\n  try {\n    blob = new Blob([session.client_js]);\n  }\n  catch(error) {\n    const BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n    blob = BlobBuilder();\n    blob.append(session.client_js);\n    blob = blob.getBlob();\n  }\n  script.type = 'text/javascript';\n  script.src = URL.createObjectURL(blob);\n  /*script.text = '//<![CDATA[\\n';\n  script.text += session.client_js;\n  script.text += '\\n//]]>';*/\n  document.body.appendChild(script);\n  await wait_exist(() => window.models);\n  const tools = window.tools;\n  tools.configuration = Object.assign(tools.configuration, window.rapyd_config);\n  tools.configuration.url = window.localStorage.rapyd_server_url;\n  const models = window.models;\n  models.env.context.unsaved = session.unsaved || {};\n  models.env.user = models.env['res.users'].browse();\n  models.env.user.id = session.id;\n  models.env.user.login = session.login;\n  models.env.user.password = session.password;\n  /*for (let model in tools.view) {\n    const views = tools.view[model];\n    for (let mode in views) {\n      if (hasValue(['id', 'string', 'custom_init'], mode)) {\n        continue;\n      }\n      views[mode] = views[mode].replace(/([a-z]*-[a-z]*[/>\\s])|([a-z]*[/>\\s])/g, (string) => string.split('-').map((word) => word.slice(0, 1).toUpperCase() + word.slice(1)).join('')).replace(/>\\s+|\\s+</g, (s) => s.trim());\n    }\n  }*/\n  tools.configuration.ajax_load = (options) => {if (!options.no_preload) options.preload = preload()};\n  tools.configuration.ajax_resolve = (resolve, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    resolve(xhr.response);\n  }\n  tools.configuration.ajax_reject = (reject, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    reject(xhr);\n  }\n  globals.exceptionCount = 0;\n  tools.configuration.exception = (error) => {\n    /*if (globals.exceptionCount !== 0) return new Promise((resolve) => {\n      globals.exceptionCount = 0;\n      resolve(true);\n      throw error;\n    });*/\n    globals.app.dialog.alert('There are some error');\n    globals.exceptionCount += 1;\n    throw error;\n  }\n  globals.warningCount = 0;\n  tools.configuration.warning = (error, offline=false) => {\n    if (globals.warningCount !== 0) return new Promise((resolve) => {\n      globals.warningCount = 0;\n      resolve(true);\n      console.warn(error);\n    });\n    console.log(globals);\n    if (offline) globals.app.toast.create({text: 'You are offline, using local data', closeButton: true, closeTimeout: 1000}).open();\n    globals.warningCount += 1;\n    console.warn(error);\n  }\n}\n\nfunction ajax(type, dataType, url, data) {\n  if (data !== undefined || null || false) {\n    data = parseURI(data);\n  }\n  return new Promise(function(resolve, reject) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(type, url, true);\n    xhr.onload = function() {\n      resolve(this.response);\n    };\n    xhr.onerror = function() {\n      reject(this.statusText);\n    };\n    if (dataType === undefined) {\n      dataType = 'json';\n    }\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.responseType = dataType;\n    try {\n      xhr.send(data);\n    }\n    catch(error) {\n      reject(error);\n    }\n  });\n}\n\nfunction parseURI(data) {\n  const array = [];\n  for (let key in data) {\n    let value = data[key];\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n    else if (value === '') {\n      value = null;\n    }\n    array.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return array.join('&');\n}\n\nfunction hasKey(object, key) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  return Object.keys(object).indexOf(key) > -1;\n}\n\nfunction hasValue(object, value) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  if ([Array, String].indexOf(object.constructor) < 0) {\n    object = object.toString();\n  }\n  return object.indexOf(value) > -1;\n}\n\nexport default {globals, preload, get_session, update_session, wait, wait_exist, login, logout, ORM, ajax, parseURI, hasValue, hasKey};\n","import React from 'react';\nimport {\n  Page,\n  LoginScreenTitle,\n  List,\n  ListInput,\n  //ListButton,\n  Button,\n} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  componentDidMount() {\n    for (let input of document.querySelectorAll('input[type=text], input[type=password]')) {\n      input.addEventListener('keyup', this.clickEvent.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Page noToolbar noNavbar noSwipeback loginScreen>\n        <LoginScreenTitle>Welcome</LoginScreenTitle>\n        <List form>\n          <ListInput\n            label=\"Username\"\n            type=\"text\"\n            placeholder=\"Your username\"\n            value={this.state.username}\n            onInput={(e) => {\n              this.setState({ username: e.target.value});\n            }}\n            autofocus\n          />\n          <ListInput\n            label=\"Password\"\n            type=\"password\"\n            placeholder=\"Your password\"\n            value={this.state.password}\n            onInput={(e) => {\n              this.setState({ password: e.target.value});\n            }}\n          />\n          <Button onClick={this.signIn.bind(this)} style={{float: 'left', marginLeft: '10px'}}>Login</Button>\n          <Button onClick={this.setUrl.bind(this)} style={{float: 'right', marginRight: '10px'}}>Settings</Button>\n        </List>\n      </Page>\n    )\n  }\n  clickEvent(event) {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.signIn();\n    }\n  }\n  setUrl() {\n    const app = this.$f7;\n    app.dialog.prompt('', 'Server URL', (url) => localStorage.rapyd_server_url = url);\n    const input = document.querySelector('input.dialog-input');\n    if (input) {\n      input.value = localStorage.rapyd_server_url;\n    }\n  }\n  async signIn() {\n    const load = api.preload();\n    const self = this;\n    const app = self.$f7;\n    //const router = self.$f7.router;\n    try {\n      const success = await api.login({login: self.state.username, password: self.state.password, encrypted: false});\n      load.done();\n      if (!success) {\n        return app.dialog.alert('Username/Password wrong, relogin');\n      }\n      app.dialog.alert('Login Successful!', () => {\n        window.location.reload();\n      });\n    }\n    catch(error) {\n      load.done();\n      app.dialog.alert('Network Error');\n      throw error;\n    }\n  }\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n} from 'framework7-react';\n\nexport default (props) => (\n  <Page>\n    <Navbar backLink={window.models.env.context.active_url === '/' ? false : 'Back'}>\n      {window.models.env.context.active_url === '/' &&\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>}\n      <NavTitle>{props.title}</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    {props.children}\n  </Page>\n);\n","import React from 'react';\nimport {AgGridReact} from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\n\nexport default class extends React.Component {\n  render(props) {\n    return (\n      <div style={{height: '100%'}} className=\"ag-theme-material\">\n        <AgGridReact rowSelection=\"multiple\" paginationPageSize={props.paginationPageSize} pagination enableColResize enableServerSideSorting enableServerSideFilter  suppressMultiSort suppressRowClickSelection onGridReady={props.onGridReady} onRowClicked={props.onRowClicked} onSelectionChanged={props.onSelectionChanged} onPaginationChanged={props.onPaginationChanged} onSortChanged={props.onSortChanged} onFilterChanged={props.onFilterChanged} columnDefs={props.columnDefs} rowData={props.rowData} frameworkComponents={props.frameworkComponents} singleClickEdit/>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n  }*/\n\n  componentDidMount() {\n    console.log(this.props.customInput)\n    const clone = this.props.customInput || (!this.props.inline ? this.refs.flatpickr : this.refs.flatpickr.cloneNode(false));\n    if (!clone) return;\n    if (this.props.inline) {\n      clone.style.display = '';\n      this.refs.flatpickr.insertAdjacentElement('afterend', clone);\n    }\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value !== this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr = flatpickr(clone, {...this.props, onChange: async (value) => {await onChange(value); this.flatpickr.open()}});\n  }\n\n  componentDidUpdate() {\n    if (this.props.customInput) this.componentDidMount();\n    if (!this.flatpickr) return;\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value !== this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr.set('onChange', async (value) => {await onChange(value); this.flatpickr.open()});\n    this.flatpickr.setDate(this.props.defaultDate);\n  }\n\n  render(props) {\n    return props.customComponent || (\n      <input ref=\"flatpickr\" style={props.inline && {display: 'none'}}/>\n    );\n  }\n}\n","\nimport React from 'react';\nimport {\n    List,\n    ListInput,\n    F7Button as Button,\n} from 'framework7-react';\nimport {React as Selectivity, Templates} from 'selectivity/react';\nimport 'selectivity/styles/selectivity-react.css';\nimport Flatpickr from './Flatpickr';\nimport api from 'api';\n\n\nconst singleSelectInput = Templates.singleSelectInput;\nTemplates.singleSelectInput = (options) => singleSelectInput(options).replace('<i class=\"fa fa-sort-desc selectivity-caret\"></i>', '<i class=\"selectivity-caret material-icons\">expand_more</i>');\nconst singleSelectedItem = Templates.singleSelectedItem;\nTemplates.singleSelectedItem = (options) => singleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove material-icons\">close</i>');\nconst multipleSelectedItem = Templates.multipleSelectedItem;\nTemplates.multipleSelectedItem = (options) => multipleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove selectivity-multi-remove material-icons\">close</i>');\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n\n    this.props = props;\n  }*/\n\n  async setValue(value, altvalue) {\n    window.models.env.context.active_error && (window.models.env.context.active_error.field_map[this.props.name] = false);\n    if (!this.props.cellEdit) window.models.env.context.active_id[this.props.name] = value;\n    await this.setState({value: altvalue || value});\n    return window.models.env.context.refresh();\n  }\n\n  async componentDidMount() {\n    //if (!window.models.env.context.active_id) window.models.env.context.active_id = window.models.env[window.models.env.context.active_model].browse();\n    await api.wait_exist(() => window.models.env.context.active_id);\n    const props = this.props;\n    const models = window.models;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    const context = window.models.env.context;\n    if (context.active_id._pending_promises.length > 0) await context.active_id._wait_promise();\n    const value = props.cellEdit ? null : context.active_id && context.active_id[this.props.name];\n    if (this.props.ref_object) Object.assign(this.props.ref_object, this.refs, {loaded: true});\n    if (this.refs.input) {\n      if (!api.hasValue(['text', 'data', 'boolean'], type)) {\n        this.refs.input.$listEl[0].querySelector('input').value = value;\n      }\n      else if (type === 'boolean') {\n        this.refs.input.$listEl[0].querySelector('input').checked = value;\n      }\n      else {\n        this.refs.input.$listEl[0].querySelector('textarea').value = type !== 'data' ? value : JSON.stringify(value);\n      }\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      if (!value) {\n        return this.setState({value: undefined});\n      }\n      //const model = props.model || window.models.env.context.active_model;\n      //const field = window.models.env[model]._fields[props.name];\n      const records = await models.env[field.relation].browse(value);\n      if (value.constructor === String) {\n        return this.setState({value: {id: records.id, text: records[records._rec_name || 'name']}});\n      }\n      else if (value.constructor === Array) {\n        return this.setState({value: Array.from(records.__iter__()).map((record) => ({id: record.id, text: record[record._rec_name || 'name']}))});\n      }\n    }\n    else if (type === 'selection') {\n      if (this.props.widget === 'statusbar') return this.setState({value});\n      return this.setState({value: value && {id: value, text: window.tools.dict(field.selection)[value]}});\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      return this.setState({value, input: this.refs.date_input.$listEl[0].querySelector('input')});\n    }\n    else {\n      return this.setState({value});\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) this.refs.selectivity.selectivity.destroy();\n  }\n\n  render(props) {\n    const models = window.models;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    if (!field) return;\n    const string = props.string || field.string;\n    const type = field.type;\n    const types = {char: 'text', text: 'textarea', float: 'number', integer: 'number', data: 'textarea', 'boolean': 'checkbox'};\n    const context = window.models.env.context;\n    const refs = this.refs;\n    const active_id = props.cellEdit ? this.props.tree.state.records[this.props.rowIndex].id && context.active_lines[model].find(this.props.tree.state.records[this.props.rowIndex].id) || this.props.tree.state.records[this.props.rowIndex]._original_object_for_id : context.active_id\n    const invisible = props.invisible instanceof Function && active_id ? props.invisible(active_id) : props.invisible;\n    props.readonly = field.readonly || props.readonly;\n    const readonly = props.readonly instanceof Function && active_id ? props.readonly(active_id) : props.readonly;\n\n    async function fetch(url, init, query) {\n      try {\n        const limit = 10\n        models.env.context.active_limit = limit;\n        models.env.context.active_index = query.offset / limit;\n        const records = await models.env[field.relation].with_context({no_preload: true}).search([(models.env[field.relation]._rec_name || 'name'), 'ilike', query.term]);\n        if (models.env.context.active_lines[field.relation]) {\n          for (var inverse_field in models.env.context.active_lines[model]) {\n            records.add(models.env.context.active_lines[field.relation][inverse_field].filter((record) => record[record._rec_name || 'name'] && record[record._rec_name || 'name'].toLowerCase().indexOf(query.term.toLowerCase()) !== -1));\n          }\n        }\n        const results = [];\n        if (type === 'selection') return {results, more: false};\n        for (let record of records) {\n          if (!record.id) {\n            const id = 'etemp' + Math.random().toString(36).substr(2, 9);\n            if (!api.globals.temp_records) api.globals.temp_records = {};\n            api.globals.temp_records[id] = record;\n            results.push({id, text: record[record._rec_name || 'name']});\n            continue;\n          }\n          results.push({id: record.id, text: record[record._rec_name || 'name']});\n        }\n        models.env.context.active_index = 0;\n        console.log((query.offset / limit + 1) * limit < records._search_count);\n        console.log(results);\n        return {results: results, more: (query.offset / limit + 1) * limit < records._search_count};\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n\n    if (api.hasValue(['many2many', 'one2many'], type) && props.children) {\n      return props.children;\n    }\n\n    let component;\n\n    if (type === 'selection' && props.widget === 'statusbar') {\n      let first = true;\n      const selections = window.tools.copy(field.selection).reverse();\n      component = (\n        <div style={invisible ? {display: 'none'} : {}}>\n          {selections.map((selection) => \n          first ? <Button raised={models.env.context.active_id && models.env.context.active_id[props.name] === selection[0]} className=\"rapyd-statusbars\">{(first = false) || selection[1]}</Button> : [<span className=\"rapyd-statusbars rapyd-statusbar-arrow\">{'>'}</span>, <Button raised={models.env.context.active_id && models.env.context.active_id[props.name] === selection[0]} className=\"rapyd-statusbars\">{selection[1]}</Button>]\n          )}\n        </div>\n      );\n      return component;\n    }\n\n    if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one', 'selection'], type)) {\n      let ajax;\n      let items = null;\n      if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type)) {\n        ajax = {url: window.tools.configuration.url, minimumInputLength: 0, params: () => ({}), placeholder: '', fetch: fetch};\n      }\n      else if (type === 'selection') {\n        items = field.selection.map((selection) => ({id: selection[0], text: selection[1]}));\n      }\n      component = (\n        <ListInput label={string} input={false} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\">\n          <Selectivity ref=\"selectivity\" slot=\"input\" ajax={ajax} items={items} placeholder={props.placeholder || ''} readOnly={readonly || !context.editing} multiple={api.hasValue(['many2many', 'one2many'], type)} data={this.state.value} onChange={(event) => this.setValue(event.value, event.data)} onDropdownClose={props.onSelect} allowClear closeOnSelect/>\n        </ListInput>\n      );\n      if (props.cellEdit) return component.children[0];\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      const input = (\n        <ul>\n          <ListInput ref=\"date_input\" label={string} placeholder={props.placeholder || ''} disabled={readonly || !context.editing} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\"/>\n        </ul>\n      );\n      component = (\n        <Flatpickr customComponent={input} customInput={this.state.input} enableTime={type === 'datetime' && true} enableSeconds={type === 'datetime' && true} defaultDate={this.state.value} onChange={(value) => this.setValue(value)}/>\n      );\n      if (props.cellEdit) return component.children.children;\n    }\n    else {\n      component = (\n        <ListInput ref=\"input\" label={string} type={types[type]} placeholder={props.placeholder || ''} disabled={readonly || !context.editing} onChange={(event) => this.setValue(event.target.type !== 'checkbox' ? event.target.value : event.target.checked)} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\"/>\n      );\n    }\n\n    return (\n      <List style={invisible ? {display: 'none'} : {}}>\n        {component}\n      </List>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Field from './Field';\nimport api from 'api';\n\nexport default class extends Component {\n  async afterGuiAttached() {\n    await api.wait_exist(() => this.refs.loaded);\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) this.refs.selectivity.selectivity.open();\n  }\n\n  getValue() {\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) {\n      const value = this.refs.selectivity.selectivity.getData();\n      if (!value) return value;\n      const colDef = window.tools.copy(this.props.column.colDef);\n      delete colDef.cellEditorFramework;\n      let temp_ids = this.refs.selectivity.selectivity.getValue();\n      if (!Array.isArray(temp_ids)) temp_ids = [temp_ids];\n      const records = window.models.env[window.models.env[this.props.model]._fields[this.props.name].relation];\n      for (let temp_id of temp_ids) {\n        if (temp_id.slice(0, 5) === 'etemp') {\n          records.add(api.globals.temp_records[temp_id]);\n        }\n        else {\n          const record = records.browse();\n          record.update({id: temp_id});\n          records.add(record);\n        }\n      }\n      console.log(records);\n      this.props.tree.onChange({colDef, data: this.props.tree.state.records[this.props.rowIndex], oldValue: null, newValue: records});\n      if (!Array.isArray(value)) {\n        return value.text;\n      }\n      return value.map((data) => data.text).join(', '); \n    }\n  }\n\n  async onSelect() {\n    await api.wait(10);\n    this.props.api.stopEditing();\n  }\n\n  render(props) {\n    //const field = props.field_object;\n    //delete props.field_object;\n    this.refs = {};\n    const onSelect = this.onSelect.bind(this);\n    const component = (<Field {...props} ref_object={this.refs} cellEdit={true} onSelect={onSelect}/>);\n    return component;\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport Grid from './Grid';\nimport GridEditor from './GridEditor';\nimport {Button, Icon} from 'framework7-react';\nimport api from 'api';\n\nfunction autoSizeAll(gridOptions) {\n  if (this) {\n    this.gridOptions = gridOptions;\n    //await api.wait_exist(() => getComputedStyle(this.base).display != 'none');\n  }\n  /*var allColumnIds = [];\n  let first = true;\n  gridOptions.columnApi.getAllColumns().forEach(function(column) {\n    if (first) {\n      first = false;\n      return;\n    }\n    allColumnIds.push(column.colId);\n  });*/\n  let grid = gridOptions.api\n  //let panel = grid['gridPanel'];\n  let availableWidth = grid['gridPanel'].getWidthForSizeColsToFit();\n  let columns = grid['gridPanel']['columnController'].getAllDisplayedColumns();\n  let usedWidth = grid['gridPanel']['columnController'].getWidthOfColsInList(columns);\n  //if (usedWidth < availableWidth) {\n  grid.sizeColumnsToFit();\n  //}\n  //gridOptions.api.sizeColumnsToFit();\n  //gridOptions.columnApi.autoSizeColumns(allColumnIds);\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const model = props.model || window.models.env.context.active_model;\n    function isEditable() {\n      if (props.isTreeView && !props.editable) {\n        return false;\n      }\n      if (window.models.env.context.editing) {\n        return true;\n      }\n      return false;\n    }\n    this.isEditable = isEditable;\n    this.pendingTask = {create: false, write: false, tasked: false};\n    this.pendingCreate = false;\n    this.pendingWrite = false;\n    function onChange(params) {\n      if (!params.colDef.cellEditorFramework && params.newValue != params.oldValue) {\n        const value = params.newValue;\n        const record = params.data.id ? window.models.env.context.active_lines[this.state.model][this.state.tree_field].find(params.data.id) : this.state.new_records.values === params.data._original_object_for_id && this.state.new_records || Array.from(this.state.new_records.__iter__()).find((record) => record.values === params.data._original_object_for_id);\n        if (!this.pendingTask.write && record.id) {\n          this.pendingTask.write = true;\n        }\n        else if (!this.pendingTask.write && !record.id) {\n          this.pendingTask.create = true;          \n        }\n        if (!this.pendingTask.tasked && (this.pendingTask.create || this.pendingTask.write)) {\n          this.pendingTask.tasked = true;\n          window.models.env.context.active_task.push((async () => {\n            if (this.pendingTask.create) await this.state.new_records.create();\n            if (this.pendingTask.write) await window.models.env.context.active_lines[this.state.model][this.state.tree_field].write();\n          }).bind(this));\n        }\n        record[params.colDef.field] = value;\n      }\n    }\n    this.onChange = onChange.bind(this);\n    function onSelectionChanged(event) {\n      const selected = event.api.getSelectedRows();\n      const ids = [];\n      for (let data of selected) {\n        if (data.id) ids.push(data.id);\n      }\n      return this.setState({active_ids: ids, selected});\n    }\n    this.onSelectionChanged = onSelectionChanged.bind(this);\n    function handleOutside(event) {\n      if (this.refs.grid && !this.refs.grid.base.querySelector('div.ag-body').contains(event.target) && this.gridOptions) this.gridOptions.api.stopEditing();\n    }\n    this.handleOutside = handleOutside.bind(this);\n    const children = props.children.constructor === Array ? props.children : [props.children];\n    const fields = children.map((child, index) => ({headerName: (() => child.attributes.string || window.models.env[model]._fields[child.attributes.name].string)(), field: child.attributes.name, filterParams: {applyButton: true, clearButton: true}, editable: isEditable, onCellValueChanged: this.onChange, ...((['date', 'datetime'].indexOf(window.models.env[model]._fields[child.attributes.name].type) !== -1 || window.models.env[model]._fields[child.attributes.name].relation) ? {cellEditorFramework: GridEditor, cellEditorParams: {...child.props, model, tree: this}, cellClass: 'editable-special-cell'} : {})}));\n    fields[0].checkboxSelection = true;\n    fields[0].headerCheckboxSelection = true;\n    //fields[0].suppressSizeToFit = true;\n    const records = [];\n    this.state = {fields: fields, records: records, new_records: window.models.env[model], updated_records: {}, limit: 50, model: model, frameworkComponents: {specialEditor: GridEditor}, selected: []};\n    if (props.field) {\n      this.state.tree_field = props.field;\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleOutside);\n    //return autoSizeAll.bind(this)(this.gridOptions);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleOutside);\n  }\n\n  paginate(rows, index=0) {\n    if (rows.length < 1) {\n      return rows;\n    }\n    //rows = rows.concat(this.state.new_records)\n    const count = rows[0]._search_count;\n    if (index > 0) {\n      let pushed = 0;\n      while (pushed < this.state.limit * index) {\n        rows.unshift({});\n        pushed += 1;\n      }\n    }\n    while (rows.length < count) {\n      rows.push({});\n    }\n    return rows;\n  }\n\n  sort(fields, params) {\n    const models = window.models;\n    if (fields.length > 0) {\n      models.env.context.active_sort = fields[0].colId + ' ' + fields[0].sort;\n    }\n    else {\n      delete models.env.context.active_sort;\n    }\n    /*const load = api.preload();\n    try {\n      const args = [];\n      if (this.state.tree_field) {\n        args.push([this.state.tree_field, 'in', window.models.env.context.active_ids]);\n      }\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();*/\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  filter(fields, params) {\n    const models = window.models;\n    //const load = api.preload();\n    const args = this.state.tree_field ? [[this.state.tree_field, 'in', window.models.env.context.active_ids]] : [];\n    const values = [];\n    for (let field in fields) {\n      let conditions = [fields[field]];\n      let operator = 'AND';\n      if (fields[field].operator !== undefined) {\n        conditions = [fields[field].condition1, fields[field].condition2];\n        operator = fields[field].operator;\n      }\n      const types = {startsWith: 'ilike', endsWith: 'ilike', contains: 'ilike', notContains: 'not ilike', equals: '=', notEqual: '!='};\n      if (operator === 'OR') {\n        args.push('|');\n      }\n      for (let condition of conditions) {\n        /*if (operator === 'OR') {\n          args.push('|');\n        }*/\n        args.push([field, types[condition.type], condition.filter]);\n        values.push(condition.filter);\n      }\n    }\n    models.env.context.active_args = args;\n    /*try {\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }*/\n    let index = 0;\n    for (let input of window.document.getElementsByClassName('ag-filter-filter')) {\n      if (values[index] !== undefined) {\n        let value = values[index];\n        setTimeout(() => input.value = value, 1000);\n      }\n      index += 1;\n    }\n    //load.done();\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  async paging(index, params) {\n    if (params.newData !== false) {\n      return;\n    }\n    const load = api.preload();\n    try {\n      const models = window.models;\n      const args = models.env.context.active_args || (this.state.tree_field ? [[this.state.tree_field, 'in', window.models.env.context.active_ids || []]] : []);\n      models.env.context.active_limit = this.state.limit;\n      models.env.context.active_index = index;\n      let records = await models.env[this.state.model].search(...args);\n      if (!this.props.isTreeView) {\n        if (!models.env.context.active_lines) models.env.context.active_lines = {};\n        if (!models.env.context.active_lines[this.state.model]) models.env.context.active_lines[this.state.model] = {};\n        if (!models.env.context.active_lines[this.state.model][this.state.tree_field]) {\n          models.env.context.active_lines[this.state.model][this.state.tree_field] = records;\n        }\n        else {\n          records = models.env.context.active_lines[this.state.model][this.state.tree_field].add(records);\n        }\n      }\n      else {\n        records.add(this.state.new_records);\n      }\n      if (records.length > 0) {\n        window.c = this;\n        await this.setState({records: this.paginate(await records.read(true), index)})\n      }\n      else if (records.length === 0) await this.setState({records: []});\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();\n  }\n\n  async addItem() {\n    if (!this.isEditable()) return;\n    const record = window.models.env[this.state.model].browse();\n    if (window.models.env.context.active_id.id) record[this.state.tree_field] = window.models.env.context.active_id.id;\n    if (record._pending_promises.length > 0) {\n      await record._wait_promise();\n      if (!this.pendingTask.tasked) {\n        this.pendingTask.create = true;\n        this.pendingTask.tasked = true;\n        window.models.env.context.active_task.push((async () => {\n          if (this.pendingTask.create) await this.state.new_records.create();\n          if (this.pendingTask.write) await window.models.env.context.active_lines[this.state.model][this.state.tree_field].write();\n        }).bind(this));\n      }\n    }\n    const values = await record.read(true);\n    this.state.new_records.add(record);\n    this.state.records.push(values[0]);\n    if (!this.props.treeView) window.models.env.context.active_lines[this.state.model][this.state.tree_field].add(record);\n    await this.setState({records: this.state.records, new_records: this.state.new_records});\n    this.gridOptions.api.updateRowData({add: values});\n  }\n\n  async removeItem() {\n    if (this.props.isTreeView) {\n      const records = await window.models.env[this.state.model].browse(this.state.active_ids);\n      await records.unlink();\n      await this.paging.bind(this)(0, {newData: false});\n      //this.gridOptions.api.updateRowData({remove: this.state.selected});\n      return this.setState({selected: []});\n    }\n    for (let data of this.state.selected) {\n      for (let index in this.state.records) {\n        if (data === this.state.records[index]) this.state.records.pop(index);\n      }\n      if (!window.models.env.context.active_id.id) {\n        const values = window.models.env.context.active_lines[this.state.model][this.state.tree_field].values;\n        if (!Array.isArray(values)) {\n          if (data._original_object_for_id === values) window.models.env.context.active_lines[this.state.model][this.state.tree_field] = window.models.env[this.state.model];\n          continue;\n        }\n        for (let index in values.as_array()) {\n          if (data._original_object_for_id === values[index]) values.pop(index);\n        }\n        continue;\n      }\n      const params = {data};\n      params.oldValue = \"\";\n      params.newValue = null;\n      params.colDef = {field: this.state.tree_field};\n      this.onChange(params);\n    }\n    await this.setState({records: this.state.records, selected: []});\n    this.gridOptions.api.updateRowData({remove: this.state.selected});\n  }\n\n  render(props) {\n    const model = props.model || window.models.env.context.active_model;\n    const models = window.models;\n    const grid = (\n      <div className=\"card-body\" style={{height: this.state.records.length * 48 + 112 + (this.isEditable() ? 30 : 0) <= 440 ? this.state.records.length * 48 + 112 + (this.isEditable() ? 30 : 0) + 'px' : '67vh', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {visibility: 'hidden'} : {})}}>\n        <Grid ref=\"grid\" onGridReady={((params) => autoSizeAll.bind(this)(params) && window.addEventListener('resize', () => autoSizeAll(params))).bind(this)} onRowClicked={(params) => models.env[model].browse(params.data.id || params.data._original_object_for_id.id).then((record) => models.env.context.active_id = record).then(() => api.globals.app.views.main.router.navigate('/form/' + model + '?id=' + params.data.id))} onPaginationChanged={(params) => this.paging.bind(this)(params.api.paginationGetCurrentPage(), params)} onSortChanged={(params) => this.sort.bind(this)(params.api.getSortModel(), params)} onFilterChanged={(params) => this.filter.bind(this)(params.api.getFilterModel(), params)} onSelectionChanged={this.onSelectionChanged} paginationPageSize={this.state.limit} columnDefs={this.state.fields} rowData={this.state.records} frameworkComponents={this.state.frameworkComponents}/>\n        <Button onClick={this.addItem.bind(this)} style={{display: this.isEditable() ? 'inline-block' : 'none', top: '-45px'}}>Add</Button>\n        <Button onClick={this.removeItem.bind(this)} style={{display: (props.isTreeView || this.isEditable()) && this.state.selected.length > 0 ? 'inline-block' : 'none', top: '-45px'}}>Delete</Button>\n      </div>\n    );\n    if (!props.isTreeView) {\n      if (window.models.env.context.editing) delete grid.props.children[0].props.onRowClicked;\n      return grid;\n    }\n    return (\n      <Page title={window.tools.view[model].string}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <br/>\n              <Button onClick={() => api.globals.app.views.main.router.navigate('/form/' + model)} style={{display: 'inline-block'}} fill>Create</Button>\n            </div>\n          </div>\n          {grid}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n//import Parser from 'react-jsx-parser';\nimport Tree from '../Tree';\nimport Field from '../Field';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nconst customComponents = {Tree, Field};\n\nfunction parseView(view, model) {\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements) {\n    let components = [];\n    for (let element of elements) {\n      const component = customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', 'if (!active_id) return false; \\nreturn ' + props[attribute]]))();\n        }\n      }\n      props.isTreeView = true;\n      components.push(React.createElement(component, props, recurse(element.children)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  console.log(props);\n  let model = window.models.env.context.active_model;\n  if (props.f7route) {\n    model = props.f7route.params.model;\n    window.models.env.context.active_url = props.f7route.url;\n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  const view = window.tools.view[model].tree;\n  window.models.env.context.active_model = model;\n\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = evals(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  return cachedViews[view];\n\n  /*return (\n    <Parser components={{Tree}} jsx={view} renderInWrapper={false}/>\n  );*/\n}\n","import React from 'react';\nimport Page from './Page';\nimport {Button} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    //const model = window.models.env.context.active_model;\n    const models = window.models;\n    //const active_id = window.models.env.context.active_id || null;\n    models.env.context.editing = false;\n    //models.env.context.new_value = {};\n    this.state = models.env.context;//{editing: false, active_id: active_id};\n  }\n\n  async componentDidMount(props) {\n    const model = window.models.env.context.active_model;\n    const models = window.models;\n    models.env.context.active_lines = {};\n    models.env.context.active_task = [];\n    const form = this;\n    if (!models.env.context.active_ids || models.env.context.active_ids.length < 1 || !models.env.context.active_ids[0]) {\n      models.env.context.active_id = models.env[model].browse();\n      models.env.context.editing = true;\n      return this.setState(models.env.context);\n    }\n    else if (!models.env.context.active_id) {\n      models.env.context.active_id = await models.env[model].browse(models.env.context.active_ids);\n    }\n    return models.env.context.refresh();\n  }\n\n  async edit() {\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    const offline = this.props.offline ? JSON.parse(this.props.offline) : false;\n    if (!this.state.editing) {\n      models.env.context.editing = true;\n      return await this.setState({...models.env.context, offline});\n    }\n    const operation = models.env.context.active_id.id ? 'write' : 'create';\n    try {\n      await models.env.context.active_id[operation]({}, !offline);\n    }\n    catch(error) {\n      if (error && error.constructor === window.tools.exceptions.RequiredError) {\n        error.field_map = {};\n        for (let field of error.fields) {\n          error.field_map[field] = true;\n        }\n        models.env.context.active_error = error;\n        await this.setState({active_id: models.env.context.active_id});\n        api.globals.app.toast.create({text: 'Some fields are required', closeButton: false, closeTimeout: 2000, position: 'center'}).open();\n        return;\n      }\n      else {\n        throw error;\n      }\n    }\n    for (let task of models.env.context.active_task) {\n      const result = task();\n      if (result && result.constructor === Promise) await result;\n    }\n    models.env.context.active_task = [];\n    if (operation === 'create') {\n      window.history.replaceState(undefined, undefined, window.location.hash + '?id=' + models.env.context.active_id.id);\n      const promises = [];\n      for (let model in models.env.context.active_lines) {\n        for (let inverse_field in models.env.context.active_lines[model]) {\n          promises.push(models.env.context.active_lines[model][inverse_field].write({[inverse_field]: models.env.context.active_id.id}));\n        }\n      }\n      await Promise.all(promises);\n    }\n    models.env.context.editing = false;\n    if (offline) models.env.context.unsaved = {...models.env.context.unsaved, [model]: {...(models.env.context.unsaved && models.env.context.unsaved[model]), [models.env.context.active_id.id]: models.env.context.active_id.id}};\n    await api.update_session({unsaved: models.env.context.unsaved});\n    return await this.setState({...models.env.context, offline});\n  }\n\n  async upload() {\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    let record = await models.env[model].browse(models.env.context.active_id.id);\n    if (record.length < 1) {\n      let old_record = record;\n      record = await record.create();\n      await old_record.unlink(false);\n      models.env.context.active_id = record;\n    }\n    else {\n      record = await models.env.context.active_id.write();\n      models.env.context.active_id = record;\n    }\n    if (models.env.context.unsaved && models.env.context.unsaved[model] && models.env.context.unsaved[model][record.id]) delete models.env.context.unsaved[model][record.id];\n    await api.update_session({unsaved: models.env.context.unsaved});\n    return await this.setState({...models.env.context, offline: false});\n  }\n\n  render(props) {\n    const model = window.models.env.context.active_model;\n    console.log(this.state);\n    //const models = window.models;\n    const buttonStyle = {width: 'auto', float: 'left', 'margin-right': '10px'};\n    const uploadStyle = {};\n    if (!this.state.offline) uploadStyle['display'] = 'none';\n    return (\n      <Page title={window.tools.view[model].string}>\n        <div className=\"card\" style={{margin: 0, boxShadow: 'none'}}>\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <span style={{color: '#666666'}}>{' / ' + (this.state.active_id && this.state.active_id.id ? this.state.active_id.name : 'New')}</span>\n              <div>\n                <Button onClick={this.edit.bind(this)} style={buttonStyle} fill>{this.state.editing ? 'Save' : 'Edit'}</Button>\n                <Button onClick={() => api.globals.app.views.main.router.back()} style={{...buttonStyle, ...(!this.state.editing ? {display: 'none'} : {})}}>{'Cancel'}</Button>\n                <Button onClick={this.upload.bind(this)} style={{...buttonStyle, ...uploadStyle}} fill>{'Upload'}</Button>\n              </div>\n            </div>\n          </div>\n          {props.children}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n\nexport default (props) => (\n  <div style={{margin: 0, backgroundColor: '#8F8F8F', 'minHeight': '56px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {display: 'none'} : {})}}>\n    {props.children}\n  </div>\n)\n","import React from 'react';\nimport {\n    Button,\n} from 'framework7-react';\nimport api from 'api';\n\nasync function button(props) {\n  const load = api.preload();\n  if (props.name) {\n    try {\n      await window.models.env.context.active_id[props.name]();\n    }\n    catch(error) {\n      console.log(error);\n      load.done();\n    }\n  }\n  await window.models.env.context.refresh();\n  load.done();\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = window.models.env.context;\n  }\n\n  render(props) {\n    return (\n      <Button fill onClick={() => button.bind(this)(props)} style={{display: (props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? 'none' : 'block', float: 'left', width: 'auto', margin: '10px'}}>{props.string}</Button>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{minHeight: '250px', marginTop: '20px'}}>\n        <div className=\"card-content form-sheet\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.lastHeight = 0.0;\n  }\n\n  componentDidMount(props) {\n    if (this.haveChild && this.refs.group.previousElementSibling === null) {\n      return;\n    }\n    const interval = setInterval(() => {\n      if (!this.refs.group || !this.refs.group.previousElementSibling) return clearInterval(interval);\n      const lastHeight = this.refs.group.previousElementSibling.clientHeight - 20;\n      if (lastHeight !== this.state.lastHeight) {\n        this.setState({lastHeight: lastHeight});\n      }\n    }, 500);\n  }\n\n  render(props) {\n    this.haveChild = props.children !== undefined;\n    if (props.width && props.width.slice(-1) === '%' && parseInt(props.width.slice(0, -1)) > 97) {\n      props.width = '97%';\n    }\n    return (\n      <div ref=\"group\" className=\"component-group\" style={{float: 'left', width: props.width || '46.5%', padding: '10px', marginTop: '20px', height: props.children ? 'auto' : this.state.lastHeight + 'px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {display: 'none'} : {})}}>\n        {props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{margin: 0, boxShadow: 'none', padding: '20px', minHeight: '30%', marginTop: '30px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {display: 'none'} : {})}}>\n        <div className=\"card-header\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', 'if (!active_id) return false; \\nreturn ' + props[attribute]]))();\n        }\n      }\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default class extends React.Component {\n  render(props) {\n    const refresh = () => this.setState({});\n    this.refresh = refresh.bind(this);\n    window.models.env.context.refresh = this.refresh;\n    let model = window.models.env.context.active_model;\n    if (props.f7route) {\n      model = props.f7route.params.model;\n      window.models.env.context.active_url = props.f7route.url;\n    } else {\n      window.models.env.context.active_url = '/';\n    }\n    const id = props.f7route.query.id;\n    const view = window.tools.view[model].form;\n    window.models.env.context.active_model = model;\n    if (id) {\n      window.models.env.context.active_ids = [id];\n    }\n    else {\n      delete window.models.env.context.active_ids;\n    }\n    /*if (id) {\n      window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n    }*/\n    if (!cachedViews[view]) {\n      // eslint-disable-next-line\n      //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n      cachedViews[view] = parseView(view, model);\n    }\n\n    return cachedViews[view];\n  }\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n    Toolbar,\n    Block,\n    BlockTitle,\n    List,\n    ListItem,\n    Row,\n    Col,\n    Button\n} from 'framework7-react';\nimport LoginPage from './LoginPage';\nimport TreePage from './TreePage';\nimport FormPage from './FormPage';\n//import api from 'api';\n\nexport default function (props) {\n\n  if (window.models === undefined) {\n    return (<LoginPage/>);\n  }\n  else if (window.tools.configuration.home_view) {\n    const mode = window.tools.configuration.home_view.split('.').slice(-1)[0];\n    const model = window.tools.configuration.home_view.split('.').slice(0, -1).join('.');\n    window.models.env.context.active_model = model;\n    if (mode === 'tree') {\n      return (<TreePage/>);\n    }\n    else if (mode === 'form') {\n      return (<FormPage/>);\n    }\n  }\n\n  return (\n  <Page>\n    <Navbar>\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>\n      <NavTitle>Home</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    <Toolbar>\n      <Link>Left Link</Link>\n      <Link>Right Link</Link>\n    </Toolbar>\n    <Block strong>\n      <p>Here is your blank Framework7 app. Let's see what we have here.</p>\n    </Block>\n    <BlockTitle>Navigation</BlockTitle>\n    <List>\n      <ListItem link=\"/about/\" title=\"About\"></ListItem>\n      <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n    </List>\n    <BlockTitle>Modals</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised popupOpen=\"#popup\">Popup</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised loginScreenOpen=\"#login-screen\">Login Screen</Button>\n        </Col>\n      </Row>\n    </Block>\n    <BlockTitle>Panels</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"left\">Left Panel</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"right\">Right Panel</Button>\n        </Col>\n      </Row>\n    </Block>\n    <List>\n      <ListItem link=\"/dynamic-route/blog/45/post/125/?foo=bar#about\" title=\"Dynamic Route\"></ListItem>\n      <ListItem link=\"/load-something-that-doesnt-exist/\" title=\"Default Route (404)\"></ListItem>\n    </List>\n  </Page>\n  );\n}\n","import React from 'react';\nimport { Page, Navbar, Link, Block, BlockTitle } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"About\" backLink=\"Back\"></Navbar>\n    <BlockTitle>About My App</BlockTitle>\n    <Block strong>\n      <p>Here is About page!</p>\n      <p>You can go <Link back>back</Link>.</p>\n      <p>Mauris posuere sit amet metus id venenatis. Ut ante dolor, tempor nec commodo rutrum, varius at sem. Nullam ac nisi non neque ornare pretium. Nulla mauris mauris, consequat et elementum sit amet, egestas sed orci. In hac habitasse platea dictumst.</p>\n      <p>Fusce eros lectus, accumsan eget mi vel, iaculis tincidunt felis. Nulla tincidunt pharetra sagittis. Fusce in felis eros. Nulla sit amet aliquam lorem, et gravida ipsum. Mauris consectetur nisl non sollicitudin tristique. Praesent vitae metus ac quam rhoncus mattis vel et nisi. Aenean aliquet, felis quis dignissim iaculis, lectus quam tincidunt ligula, et venenatis turpis risus sed lorem. Morbi eu metus elit. Ut vel diam dolor.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', 'if (!active_id) return false; \\nreturn ' + props[attribute]]))();\n        }\n      }\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  let model = window.models.env.context.active_model;\n  let mode;\n  if (props.f7route) {\n    const view_id = props.f7route.params.view_id.split('.');\n    model = view_id.slice(0, -1).join('.');\n    mode = view_id[view_id.length - 1];\n    window.models.env.context.active_url = props.f7route.url;\n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  //const id = props.f7route.query.id;\n  const view = window.tools.view[model][mode];\n  window.models.env.context.active_model = model;\n  //window.models.env.context.active_ids = [id];\n  /*if (id) {\n    window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n  }*/\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  return cachedViews[view];\n\n}\n","import React from 'react';\nimport { Page, Navbar, Block } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Not found\" backLink=\"Back\" />\n    <Block strong>\n      <p>Sorry</p>\n      <p>Requested content not found.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport {Page, Navbar, Link} from 'framework7-react';\n\nimport api from 'api';\n\nlet hide = false;\n\nfunction hidePanel() {\n  api.globals.app.params.panel.leftBreakpoint = hide ? 768 : 1000000;\n  api.globals.app.panel.left.initBreakpoints();\n  hide = !hide;\n}\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Menu\"/>\n    <div id=\"menu\" className=\"list list-block media-list chevron-center inset\" style={{fontWeight: 500}} panelClose>\n      {window.tools.keys(window.tools.menu, 'sequence').as_array().map((menu, index) => (\n      <ul>\n        <li className=\"accordion-item\">\n          <a className={'item-link item-content' + (window.tools.menu[menu].childs.length < 1 ? ' panel-close external' : '')} onClick={window.tools.menu[menu].childs.length < 1 && ((event) => event.preventDefault() || api.globals.app.panel.left.close() === {} || api.globals.app.views.main.router.navigate(event.currentTarget.href.split('#!')[1]))} href={window.tools.menu[menu].childs.length < 1 && '#!/' + (window.tools.menu[menu].view_id ? 'view' : 'tree') + '/' + (window.tools.menu[menu].view_id || window.tools.menu[menu].model)} data-view=\"#main-view\">\n            <div className=\"item-inner\">\n              <div className=\"item-title\">{window.tools.menu[menu].string}</div>\n            </div>\n          </a>\n          {window.tools.menu[menu].childs.as_array().map((child_menu, index) => (\n          <div className=\"accordion-item-content\">\n            <a className=\"item-content panel-close external\" onClick={(event) => event.preventDefault() || api.globals.app.panel.left.close() === {} || api.globals.app.views.main.router.navigate(event.currentTarget.href.split('#!')[1])} href={'#!/' + (child_menu.view_id ? 'view' : 'tree') + '/' + (child_menu.view_id || child_menu.model)} data-view=\"#main-view\">\n              <div className=\"item-inner\">\n                <div className=\"item-title\">{child_menu.string}</div>\n              </div>\n            </a>\n          </div>))}\n        </li>\n      </ul>))}\n    </div>\n    <Link iconMd=\"material:more_horiz\" iconSize=\"30\" onClick={hidePanel} style={{display: 'inline-block', margin: '10px'}}/>\n  </Page>\n);\n","import React from 'react';\nimport api from 'api';\nimport { Page, Navbar, NavLeft, Block, Button, BlockTitle, List, ListItem, Icon, Toolbar, Link, Tabs, Tab } from 'framework7-react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {'name': ''};\n  }\n\n  async componentDidMount(props) {\n    api.globals.app = this.$f7;\n    window.c = api;\n    this.setState({'name': await window.models.env.user.browse(window.models.env.user.id.toString()).then((record) => record.name)});\n  }\n\n  render = (props) => (\n    <Page>\n      <Navbar>\n        <NavLeft className=\"user-link\">\n          <List>\n            <ListItem link=\"#\" title={this.state.name}>\n              <Icon material=\"person\"></Icon>\n            </ListItem>\n          </List>\n        </NavLeft>\n      </Navbar>\n      <Toolbar tabbar>\n        <Link tabLink=\"#notification\" tabLinkActive>Notifications</Link>\n        {/*<Link tabLink=\"#message\">Messages</Link>*/}\n      </Toolbar>\n      <Tabs>\n        <Tab id=\"notification\" className=\"page-content\" tabActive style={{paddingTop: '0px'}}>\n          <List mediaList style={{marginTop: '0px'}}>\n            <ListItem link=\"#\" title=\"Notification Title\" after=\"17:20\" text=\"Notification Text\"/>\n          </List>\n          <Button fill onClick={api.logout} style={{display: 'inline-block', margin: '10px'}}>Logout</Button>\n        </Tab>\n        {/*<Tab id=\"message\" className=\"page-content\">\n          <Block>\n            <p>Tab 2 content</p>\n            ...\n          </Block>\n        </Tab>*/}\n      </Tabs>\n      {/*<Block strong>\n        <p>Right panel content goes here</p>\n      </Block>\n      <BlockTitle>Load page in panel</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\"></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n      </List>\n      <BlockTitle>Load page in main view</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\" view=\"#main-view\" panelClose></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\" view=\"#main-view\" panelClose></ListItem>\n      </List>*/}\n    </Page>\n  )\n}\n","import HomePage from './components/pages/HomePage';\nimport AboutPage from './components/pages/AboutPage';\nimport TreePage from './components/pages/TreePage';\nimport FormPage from './components/pages/FormPage';\nimport CustomPage from './components/pages/CustomPage';\nimport NotFound from './components/pages/NotFound';\nimport PanelLeft from './components/pages/PanelLeft';\nimport PanelRight from './components/pages/PanelRight';\n\nconst routes = () => window.models ? [\n  {\n    path: '/',\n    component: HomePage,\n  },\n  {\n    path: '/panel-left/',\n    component: PanelLeft,\n  },\n  {\n    path: '/panel-right/',\n    component: PanelRight,\n  },\n  {\n    path: '/about/',\n    component: AboutPage,\n  },\n  {\n    path: '/tree/:model',\n    component: TreePage,\n  },\n  {\n    path: '/form/:model',\n    component: FormPage,\n  },\n  {\n    path: '/view/:view_id',\n    component: CustomPage,\n  },\n  {\n    path: '(.*)',\n    component: NotFound,\n  },\n] : [{path: '(.*)', component: HomePage}];\n\nexport default routes;\n","import React from 'react';\nimport {\n  App,\n  Panel,\n  View,\n  Statusbar,\n  Popup,\n  Page,\n  Navbar,\n  NavRight,\n  Link,\n  Block,\n  LoginScreen,\n  LoginScreenTitle,\n  List,\n  ListItem,\n  Label,\n  Input,\n  ListButton,\n  BlockFooter\n} from 'framework7-react';\n\nimport routes from '../routes';\n\n//import api from 'api';\n\nexport default function (props) {\n\n  // Framework7 parameters here\n  const f7params = {\n    id: 'org.rapyd.client', // App bundle ID\n    name: 'App', // App name\n    theme: 'md', // Automatic theme detection\n    // App routes\n    routes: routes(),\n    panel: {\n      leftBreakpoint: 960,\n    },\n  };\n\n  return (\n    <App params={f7params} colorTheme={(window.tools && window.tools.configuration.color_theme) ? (window.tools && window.tools.configuration.color_theme) : 'gray'}>\n      {/* Statusbar */}\n      <Statusbar />\n\n      { window.models !== undefined &&\n        <Panel left reveal>\n          <View url=\"/panel-left/\" />\n        </Panel>\n      }\n\n      { window.models !== undefined &&\n        <Panel right cover>\n          <View url=\"/panel-right/\"/>\n        </Panel>\n      }\n\n      {/* Main View */}\n      <View id=\"main-view\" url=\"/\" main className=\"ios-edges\" preloadPreviousPage={false} pushState/>\n\n      {/* Popup */}\n      <Popup id=\"popup\">\n        <View>\n          <Page>\n            <Navbar title=\"Popup\">\n              <NavRight>\n                <Link popupClose>Close</Link>\n              </NavRight>\n            </Navbar>\n            <Block>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, architecto. Cupiditate laudantium rem nesciunt numquam, ipsam. Voluptates omnis, a inventore atque ratione aliquam. Omnis iusto nemo quos ullam obcaecati, quod.</Block>\n          </Page>\n        </View>\n      </Popup>\n\n      {/* Login Screen */}\n      <LoginScreen id=\"login-screen\">\n        <View>\n          <Page loginScreen>\n            <LoginScreenTitle>Login</LoginScreenTitle>\n            <List form>\n              <ListItem>\n                <Label>Username</Label>\n                <Input name=\"username\" placeholder=\"Username\" type=\"text\"></Input>\n              </ListItem>\n              <ListItem>\n                <Label>Password</Label>\n                <Input name=\"password\" type=\"password\" placeholder=\"Password\"></Input>\n              </ListItem>\n            </List>\n            <List>\n              <ListButton title=\"Sign In\" loginScreenClose></ListButton>\n              <BlockFooter>\n                <p>Click Sign In to close Login Screen</p>\n              </BlockFooter>\n            </List>\n          </Page>\n        </View>\n      </LoginScreen>\n    </App>\n  );\n}\n","// Import React and ReactDOM\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Import Framework7\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n// Import Framework7-React plugin\nimport Framework7React from 'framework7-react';\n\nimport * as Framework7Components from 'framework7-react';\n\n// Import main App component\nimport App from './components/App.jsx';\n\nimport Page from './components/Page.jsx';\n\nimport Flatpickr from './components/Flatpickr.jsx';\n\n// Framework7 styles\nimport 'framework7/css/framework7.min.css';\n\n// Icons\nimport './css/icons.css';\n\n// Custom app styles\nimport './css/app.css';\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\n\nimport api from 'api';\n\nOfflinePluginRuntime.install();\n\n// Init Framework7-React plugin\nFramework7.use(Framework7React);\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nwindow.rapydComponents = {...Framework7Components, ...window.rapydComponents, Page, Flatpickr};\n\n// Mount React App\n(async () => {\n  await api.get_session();\n  await ReactDOM.render(\n    React.createElement(App),\n    document.getElementById('app'),\n  );\n  if (window.tools && window.tools.configuration.custom_navbar) {\n    var style = document.createElement('style');\n    style.innerHTML = '.navbar, .toolbar {background-color: ' + window.tools.configuration.custom_navbar + '!important}';\n    document.querySelector('head').append(style);\n  }\n  if (document.querySelector('div.navbar')) {\n    const color_element = document.createElement('meta');\n    color_element.name = 'theme-color';\n    color_element.content = '#' + getComputedStyle(document.querySelector('.navbar'), null).backgroundColor.replace('rgb(', '').replace(')', '').split(', ').map(function(c) {return parseInt(c).toString(16)}).map(function(hex) {return hex.length === 1 ? \"0\" + hex : hex}).join('');\n    document.querySelector('head').appendChild(color_element);\n  }\n})();\n","if (!window.ReactDOM) {\n  throw Error('ReactDOM must be defined on global variable');\n}\n\nmodule.exports = window.ReactDOM;\n"],"sourceRoot":""}