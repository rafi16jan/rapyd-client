{"version":3,"sources":["react.js","api.js","components/pages/LoginPage.jsx","components/Page.jsx","components/Grid.jsx","components/Flatpickr.jsx","components/Field.jsx","components/GridEditor.jsx","components/Tree.jsx","components/pages/TreePage.jsx","components/Form.jsx","components/Header.jsx","components/Button.jsx","components/Sheet.jsx","components/Group.jsx","components/Footer.jsx","components/pages/FormPage.jsx","components/pages/CustomPage.jsx","components/pages/HomePage.jsx","components/pages/AboutPage.jsx","components/pages/NotFound.jsx","components/pages/PanelLeft.jsx","components/pages/PanelRight.jsx","routes.js","components/App.jsx","index.js","react-dom.js"],"names":["window","React","Error","module","exports","PouchDB","plugin","PouchFind","RelationalPouch","session_db","rapyd_config","localStorage","rapyd_server_url","url","location","protocol","hostname","port","globals","preload","root","document","getElementById","preloader","createElement","className","insertAdjacentHTML","backdrop","insertAdjacentElement","done","value","remove","_callee","session_object","new_session","regenerator_default","a","wrap","_context","prev","next","models","abrupt","tools","local_db","get","sent","login","password","encrypted","client_js_time","logout","reload","client_js","t0","console","log","ORM","t1","stop","_callee2","session","_context2","put","Object","objectSpread","_callee3","args","_context3","ajax","status","_rev","unsaved","_id","_callee4","_context4","destroy","wait_exist","fn","Promise","resolve","reject","interval","setInterval","clearInterval","_callee5","script","URL","blob","BlobBuilder","_context5","webkitURL","Blob","error","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","type","src","createObjectURL","body","appendChild","configuration","assign","env","context","user","browse","id","ajax_load","options","no_preload","ajax_resolve","xhr","response","ajax_reject","exceptionCount","exception","app","dialog","alert","warningCount","warning","offline","arguments","length","undefined","warn","toast","create","text","closeButton","closeTimeout","open","dataType","data","parseURI","XMLHttpRequest","onload","this","onerror","statusText","setRequestHeader","responseType","send","array","key","JSON","stringify","push","encodeURIComponent","join","api","get_session","update_session","wait","ms","setTimeout","readAsDataURL","file","load","reader","FileReader","event","target","result","then","catch","hasValue","object","Array","String","indexOf","constructor","toString","hasKey","keys","_default","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","username","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","querySelectorAll","Symbol","iterator","addEventListener","clickEvent","bind","err","return","_this2","react_default","framework7_react_esm","noToolbar","noNavbar","noSwipeback","loginScreen","form","label","placeholder","onInput","e","setState","autofocus","onClick","signIn","style","float","marginLeft","setUrl","marginRight","preventDefault","keyCode","$f7","prompt","input","querySelector","self","success","Component","Page","backLink","active_url","popup","iconMd","panelOpen","title","popupClose","children","height","main","rowSelection","paginationPageSize","pagination","enableColResize","enableServerSideSorting","enableServerSideFilter","suppressMultiSort","suppressRowClickSelection","onGridReady","onRowClicked","onSelectionChanged","onPaginationChanged","onSortChanged","onFilterChanged","columnDefs","rowData","frameworkComponents","singleClickEdit","flatpickr","customInput","_flatpickr","clone","customComponent","inline","refs","cloneNode","display","onChange","readOnly","defaultDate","setDate","clear","allowKeyboard","_onChange2","asyncToGenerator","mark","_x","apply","componentDidMount","set","_ref","_x2","selectedDateObj","ref","singleSelectInput","Templates","replace","singleSelectedItem","multipleSelectedItem","altvalue","active_error","field_map","name","input_type","split","cellEdit","active_id","refresh","_wait_promise","exist","selectivity","lastSelectivity","model","field","_fields","relation","records","_rec_name","from","__iter__","map","record","dict","selection","active_model","base","checked","_pending_promises","ref_object","loaded","setInputValue","setSelectivityValue","widget","date_input","string","types","char","integer","boolean","binary","tree","rowIndex","active_lines","tree_field","find","_original_object_for_id","invisible","Function","readonly","component","first","selections","copy","reverse","raised","items","minimumInputLength","params","fetch","_x4","_x5","_x6","_fetch","disabled","editing","errorMessageForce","errorMessage","selectivity_react","slot","multiple","setValue","onDropdownOpen","selectivityOpened","onDropdownClose","onSelect","allowClear","closeOnSelect","Flatpickr_default","enableTime","enableSeconds","files","zIndex","init","query","_models$env$field$rel","limit","domain","inverse_field","results","active_limit","active_index","offset","toConsumableArray","with_context","search","term","concat","add","filter","toLowerCase","more","Math","random","substr","temp_records","finish","_search_count","getData","colDef","column","cellEditorFramework","temp_ids","getValue","isArray","temp_id","slice","update","oldValue","newValue","selected","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","row","gridOptions","deselectAll","stopEditing","Field_default","autoSizeAll","listener","gridCore","getFilterInstance","eClearButton","sizeColumnsToFit","Tree","isEditable","isTreeView","editable","pendingTask","write","tasked","pendingCreate","pendingWrite","taskJob","active_task","new_records","parent_model","defineProperty","ids","assertThisInitialized","_this3","selectedOnchange","cellEditorParams","refreshCells","getSelectedRows","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","active_ids","handleOutside","grid","contains","fields","child","index","headerName","attributes","suppressMovable","filterParams","applyButton","clearButton","onCellValueChanged","sort","default_sort","GridEditor","cellClass","checkboxSelection","headerCheckboxSelection","specialEditor","removeEventListener","resizeListener","rows","count","pushed","unshift","active_sort","colId","paginationGetCurrentPage","paginationGoToFirstPage","newData","forcePopup","paging","values","conditions","operator","condition1","condition2","startsWith","endsWith","notContains","equals","notEqual","condition","result_ids","_iterator4","getElementsByClassName","_iteratorNormalCompletion4","_step4","_loop","isPopup","deleting","_models$env$this$stat","_window$tools","_this4","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","apply_domain","_records2","sort_by","read","paginate","t6","treeView","updateRowData","popup_modal","getDOMNode","selected_ids","active_field","parent_tree","unlink","splice","_values","_this5","min","position","left","top","Grid_default","views","router","navigate","getSortModel","getFilterModel","addItem","backgroundColor","chooseItem","choose","selectItem","removeItem","view","actions","entries","_ref2","_ref3","slicedToArray","function_name","animate","prototype","DOMParser","parseFromString","tree_arch","element","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","attribute","pagingCalled","fill","customComponents","Field","function_string","cachedViews","TreePage","f7route","setAttribute","recurse","elements","components","tagName","toUpperCase","_i","_arr","Boolean","parseView","edit_function","edit","_name","parse","operation","exceptions","RequiredError","task","hash","reloadCurrent","promises","all","old_record","buttonStyle","width","margin-right","uploadStyle","margin","boxShadow","color","back","upload","Header","minHeight","button","marginTop","flex-wrap","previousTitle","group","previousElementSibling","nextElementSibling","offsetLeft","parseInt","padding","fontSize","lineHeight","rapydComponents","Form","Button","Sheet","Group","Footer","parent_props","word","inverse","outerHTML","CustomPage","mode","active_mode","view_id","contexts","innerHTML","custom_init","HomePage","LoginPage_default","home_view","FormPage_default","strong","link","popupOpen","loginScreenOpen","AboutPage","NotFound","hide","hidePanel","panel","leftBreakpoint","initBreakpoints","PanelLeft","fontWeight","panelClose","menu","as_array","childs","close","currentTarget","href","data-view","child_menu","iconSize","render","material","tabbar","tabLink","tabLinkActive","tabActive","paddingTop","mediaList","after","routes","path","PanelRight","FormPage","App","f7params","theme","colorTheme","color_theme","reveal","right","cover","preloadPreviousPage","pushState","loginScreenClose","OfflinePluginRuntime","Framework7","use","Framework7React","ReactDOM","Framework7Components","Flatpickr","color_element","custom_navbar","content","getComputedStyle","c","hex"],"mappings":"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","file":"static/js/main.35fbcf93.chunk.js","sourcesContent":["if (!window.React) {\n  throw Error('React must be defined on global variable');\n}\n\nmodule.exports = window.React;\n","import PouchDB from 'pouchdb-browser';\nimport PouchFind from 'pouchdb-find';\nimport RelationalPouch from 'relational-pouch';\n\nPouchDB.plugin(PouchFind);\nPouchDB.plugin(RelationalPouch);\nwindow.PouchDB = PouchDB;\nwindow.session_db = new PouchDB('session');\n\nif (!window.rapyd_config) window.rapyd_config = {};\n\nif (!window.localStorage.rapyd_server_url) {\n  if (window.rapyd_config.url) {\n    window.localStorage.rapyd_server_url = window.rapyd_config.url;\n  }\n  else if (window.location.protocol === 'file:') {\n    window.localStorage.rapyd_server_url = 'http://localhost:8069';\n  }\n  else {\n    window.localStorage.rapyd_server_url = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : ':8069');\n  }\n}\n\nconst globals = {};\n\nfunction preload() {\n  const root = document.getElementById('app');\n  if (root) {\n    const preloader = document.createElement('div');\n    preloader.className = 'preloader-modal';\n    preloader.insertAdjacentHTML('beforeend',`\n    <div class=\"preloader color-white\">\n      <span class=\"preloader-inner\">\n        <span class=\"preloader-inner-gap\"></span>\n        <span class=\"preloader-inner-left\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n        <span class=\"preloader-inner-right\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n      </span>\n    </div>`);\n    const backdrop = document.createElement('div');\n    backdrop.className = 'preloader-backdrop';\n    root.insertAdjacentElement('beforeend', backdrop);\n    root.insertAdjacentElement('beforeend', preloader);\n    return {done: (value) => {\n      preloader.remove();\n      backdrop.remove();\n      return value;\n    }};\n  }\n}\n\nasync function get_session() {\n  const session_db = window.session_db;\n  if (window.models) {\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  try {\n    let session_object = await session_db.get('session');\n    try {\n      const new_session = await login({login: session_object.login, password: session_object.password, encrypted: true, client_js_time: session_object.client_js_time});\n      if (!new_session) {\n        await logout();\n        window.location.reload();\n      }\n      else if (!new_session.client_js) {\n        new_session.client_js = session_object.client_js;\n      }\n      session_object = new_session;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    await ORM(session_object);\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  catch(error) {\n    console.log(error);\n    return {};\n  }\n}\n\nasync function update_session(new_session) {\n  const session = await window.session_db.get('session');\n  return await window.session_db.put({...session, ...new_session});\n}\n\nasync function login(args) {\n  args.encrypted = args.encrypted ? true: false;\n  const session = await ajax('post', 'json', window.localStorage.rapyd_server_url + '/api/login', args);\n  console.log(session);\n  if (session.status === 'denied') {\n    return false;\n  }\n  else if (session.status === 'error') {\n    throw Error(\"There are an error on the server\");\n  }\n  try {\n    const session_object = await window.session_db.get('session');\n    session._rev = session_object._rev;\n    session.unsaved = session_object.unsaved;\n    session.client_js = session.client_js || session_object.client_js\n    session.client_js_time = session.client_js_time || session_object.client_js_time\n  }\n  catch(error) {\n    session.unsaved = {};\n  }\n  session._id = 'session';\n  await window.session_db.put(session);\n  return session;\n}\n\nasync function logout() {\n  try {\n    const session = await window.session_db.get('session');\n    await window.session_db.remove(session);\n  }\n  catch(error) {\n    console.log(error);\n  }\n  window.local_db.destroy();\n  return window.location.reload();\n}\n\nfunction wait(ms) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => resolve(), ms);\n  });\n}\n\nfunction wait_exist(fn) {\n  return new Promise((resolve, reject) => {\n    const clear = (id) => {\n      clearInterval(id);\n      resolve();\n    }\n    const interval = setInterval(() => {if (fn()) clear(interval)}, 0);\n  });\n}\n\nasync function ORM(session) {\n  //window.localStorage.rapyd_server_url = session.url;\n  // eslint-disable-next-line\n  //new Function(session.client_js)();\n  const script = document.createElement('script');\n  const URL = window.URL || window.webkitURL;\n  let blob;\n  try {\n    blob = new Blob([session.client_js]);\n  }\n  catch(error) {\n    const BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n    blob = BlobBuilder();\n    blob.append(session.client_js);\n    blob = blob.getBlob();\n  }\n  script.type = 'text/javascript';\n  script.src = URL.createObjectURL(blob);\n  /*script.text = '//<![CDATA[\\n';\n  script.text += session.client_js;\n  script.text += '\\n//]]>';*/\n  document.body.appendChild(script);\n  await wait_exist(() => window.models);\n  const tools = window.tools;\n  tools.configuration = Object.assign(tools.configuration, window.rapyd_config);\n  tools.configuration.url = window.localStorage.rapyd_server_url;\n  const models = window.models;\n  models.env.context.unsaved = session.unsaved || {};\n  models.env.user = models.env['res.users'].browse();\n  models.env.user.id = session.id;\n  models.env.user.login = session.login;\n  models.env.user.password = session.password;\n  /*for (let model in tools.view) {\n    const views = tools.view[model];\n    for (let mode in views) {\n      if (hasValue(['id', 'string', 'custom_init'], mode)) {\n        continue;\n      }\n      views[mode] = views[mode].replace(/([a-z]*-[a-z]*[/>\\s])|([a-z]*[/>\\s])/g, (string) => string.split('-').map((word) => word.slice(0, 1).toUpperCase() + word.slice(1)).join('')).replace(/>\\s+|\\s+</g, (s) => s.trim());\n    }\n  }*/\n  tools.configuration.ajax_load = (options) => {if (!options.no_preload) options.preload = preload()};\n  tools.configuration.ajax_resolve = (resolve, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    resolve(xhr.response);\n  }\n  tools.configuration.ajax_reject = (reject, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    reject(xhr);\n  }\n  globals.exceptionCount = 0;\n  tools.configuration.exception = (error) => {\n    /*if (globals.exceptionCount !== 0) return new Promise((resolve) => {\n      globals.exceptionCount = 0;\n      resolve(true);\n      throw error;\n    });*/\n    globals.app.dialog.alert('There are some error');\n    globals.exceptionCount += 1;\n    throw error;\n  }\n  globals.warningCount = 0;\n  tools.configuration.warning = (error, offline=false) => {\n    if (globals.warningCount !== 0) return new Promise((resolve) => {\n      globals.warningCount = 0;\n      resolve(true);\n      console.warn(error);\n    });\n    console.log(globals);\n    if (offline) globals.app.toast.create({text: 'You are offline, using local data', closeButton: true, closeTimeout: 1000}).open();\n    globals.warningCount += 1;\n    console.warn(error);\n  }\n}\n\nfunction ajax(type, dataType, url, data) {\n  if (data !== undefined || null || false) {\n    data = parseURI(data);\n  }\n  return new Promise(function(resolve, reject) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(type, url, true);\n    xhr.onload = function() {\n      resolve(this.response);\n    };\n    xhr.onerror = function() {\n      reject(this.statusText);\n    };\n    if (dataType === undefined) {\n      dataType = 'json';\n    }\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.responseType = dataType;\n    try {\n      xhr.send(data);\n    }\n    catch(error) {\n      reject(error);\n    }\n  });\n}\n\nfunction parseURI(data) {\n  const array = [];\n  for (let key in data) {\n    let value = data[key];\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n    else if (value === '') {\n      value = null;\n    }\n    array.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return array.join('&');\n}\n\nfunction readAsDataURL(file) {\n  const load = preload();\n  return new Promise((resolve, reject) => {\n    if (!file) reject(new Error('No file available'));\n    const reader = new FileReader();\n    reader.onload = (event) => resolve(event.target.result);\n    reader.readAsDataURL(file);\n  }).then(load.done).catch((error) => {\n    load.done();\n    throw error;\n  });\n}\n\nfunction hasKey(object, key) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  return Object.keys(object).indexOf(key) > -1;\n}\n\nfunction hasValue(object, value) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  if ([Array, String].indexOf(object.constructor) < 0) {\n    object = object.toString();\n  }\n  return object.indexOf(value) > -1;\n}\n\nexport default {globals, preload, get_session, update_session, wait, wait_exist, login, logout, ORM, ajax, readAsDataURL, parseURI, hasValue, hasKey};\n","import React from 'react';\nimport {\n  Page,\n  LoginScreenTitle,\n  List,\n  ListInput,\n  //ListButton,\n  Button,\n} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  componentDidMount() {\n    for (let input of document.querySelectorAll('input[type=text], input[type=password]')) {\n      input.addEventListener('keyup', this.clickEvent.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Page noToolbar noNavbar noSwipeback loginScreen>\n        <LoginScreenTitle>Welcome</LoginScreenTitle>\n        <List form>\n          <ListInput\n            label=\"Username\"\n            type=\"text\"\n            placeholder=\"Your username\"\n            value={this.state.username}\n            onInput={(e) => {\n              this.setState({ username: e.target.value});\n            }}\n            autofocus\n          />\n          <ListInput\n            label=\"Password\"\n            type=\"password\"\n            placeholder=\"Your password\"\n            value={this.state.password}\n            onInput={(e) => {\n              this.setState({ password: e.target.value});\n            }}\n          />\n          <Button onClick={this.signIn.bind(this)} style={{float: 'left', marginLeft: '10px'}}>Login</Button>\n          <Button onClick={this.setUrl.bind(this)} style={{float: 'right', marginRight: '10px'}}>Settings</Button>\n        </List>\n      </Page>\n    )\n  }\n  clickEvent(event) {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.signIn();\n    }\n  }\n  setUrl() {\n    const app = this.$f7;\n    app.dialog.prompt('', 'Server URL', (url) => localStorage.rapyd_server_url = url);\n    const input = document.querySelector('input.dialog-input');\n    if (input) {\n      input.value = localStorage.rapyd_server_url;\n    }\n  }\n  async signIn() {\n    const load = api.preload();\n    const self = this;\n    const app = self.$f7;\n    //const router = self.$f7.router;\n    try {\n      const success = await api.login({login: self.state.username, password: self.state.password, encrypted: false});\n      load.done();\n      if (!success) {\n        return app.dialog.alert('Username/Password wrong, relogin');\n      }\n      app.dialog.alert('Login Successful!', () => {\n        window.location.reload();\n      });\n    }\n    catch(error) {\n      load.done();\n      app.dialog.alert('Network Error');\n      throw error;\n    }\n  }\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n} from 'framework7-react';\n\nexport default (props) => (\n  <Page>\n    <Navbar backLink={(window.models.env.context.active_url === '/' || props.popup) ? false : 'Back'}>\n      {window.models.env.context.active_url === '/' &&\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>}\n      <NavTitle>{props.title}</NavTitle>\n      {!props.popup ?\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight> :\n      <NavRight>\n        <Link iconMd=\"material:close\" popupClose></Link>\n      </NavRight>}\n    </Navbar>\n    {props.children}\n  </Page>\n);\n","import React from 'react';\nimport {AgGridReact} from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\n\nexport default class extends React.Component {\n  render(props) {\n    return (\n      <div style={{height: '100%'}} className=\"ag-theme-material\">\n        <AgGridReact rowSelection=\"multiple\" paginationPageSize={props.paginationPageSize} pagination enableColResize enableServerSideSorting enableServerSideFilter  suppressMultiSort suppressRowClickSelection onGridReady={props.onGridReady} onRowClicked={props.onRowClicked} onSelectionChanged={props.onSelectionChanged} onPaginationChanged={props.onPaginationChanged} onSortChanged={props.onSortChanged} onFilterChanged={props.onFilterChanged} columnDefs={props.columnDefs} rowData={props.rowData} frameworkComponents={props.frameworkComponents} singleClickEdit/>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n  }*/\n\n  componentWillUnmount() {\n    if (this.flatpickr) this.flatpickr.destroy()\n    if (this.props.customInput) delete this.props.customInput._flatpickr;\n    delete this.flatpickr;\n  }\n\n  componentDidMount() {\n    const clone = this.props.customComponent ? this.props.customInput : (!this.props.inline ? this.refs.flatpickr : this.refs.flatpickr.cloneNode(false));\n    console.log(clone);\n    if (!clone) return;\n    if (this.props.inline) {\n      clone.style.display = '';\n      this.refs.flatpickr.insertAdjacentElement('afterend', clone);\n    }\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value !== this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr = clone._flatpickr || flatpickr(clone, {...this.props, allowKeyboard: false, onChange: async (value) => {await onChange(value); this.flatpickr.open()}});\n  }\n\n  componentDidUpdate() {\n    if (this.props.customInput) this.componentDidMount();\n    if (!this.flatpickr) return;\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value !== this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr.set('onChange', async (value) => {await onChange(value); this.flatpickr.open()});\n    if (this.props.defaultDate) this.flatpickr.setDate(this.props.defaultDate);\n    else {\n      this.flatpickr.selectedDateObj = null;\n      this.flatpickr.input.value = '';\n    }\n  }\n\n  render(props) {\n    return props.customComponent || (\n      <input ref=\"flatpickr\" style={props.inline && {display: 'none'}}/>\n    );\n  }\n}\n","import React from 'react';\nimport {\n    List,\n    ListInput,\n    F7Button as Button,\n} from 'framework7-react';\nimport {React as Selectivity, Templates} from 'selectivity/react';\nimport 'selectivity/styles/selectivity-react.css';\nimport Flatpickr from './Flatpickr';\nimport api from 'api';\n\n\nconst singleSelectInput = Templates.singleSelectInput;\nTemplates.singleSelectInput = (options) => singleSelectInput(options).replace('<i class=\"fa fa-sort-desc selectivity-caret\"></i>', '<i class=\"selectivity-caret material-icons\">expand_more</i>');\nconst singleSelectedItem = Templates.singleSelectedItem;\nTemplates.singleSelectedItem = (options) => singleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove material-icons\">close</i>');\nconst multipleSelectedItem = Templates.multipleSelectedItem;\nTemplates.multipleSelectedItem = (options) => multipleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove selectivity-multi-remove material-icons\">close</i>');\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n\n    this.props = props;\n  }*/\n\n  async setValue(value, altvalue) {\n    window.models.env.context.active_error && (window.models.env.context.active_error.field_map[this.props.name] = false);\n    if (this.input_type && this.input_type === 'file' && value) {\n      value = await api.readAsDataURL(value);\n      value = value.split('base64,')[1];\n    }\n    if (!this.props.cellEdit) window.models.env.context.active_id[this.props.name] = value;\n    else return window.models.env.context.refresh();\n    await window.models.env.context.active_id._wait_promise();\n    await this.setState({value: altvalue || value});\n    return window.models.env.context.refresh();\n  }\n\n  async setSelectivityValue(value) {\n    if (!window.tools.exist(value)) return;\n    await api.wait_exist(() => this.refs.selectivity);\n    if (value && value === this.lastSelectivity) return;\n    console.log(value);\n    this.lastSelectivity = value;\n    const props = this.props;\n    const models = window.models;\n    const model = props.model;// || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    if (!model) {\n      return;// this.setState({value: null});\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      //const model = props.model || window.models.env.context.active_model;\n      //const field = window.models.env[model]._fields[props.name];\n      const records = await models.env[field.relation].browse(value);\n      if (!records.length) return;\n      if (value.constructor === String) {\n        return this.setState({value: {id: records.id, text: records[records._rec_name || 'name']}});\n      }\n      else if (value.constructor === Array) {\n        return this.setState({value: Array.from(records.__iter__()).map((record) => ({id: record.id, text: record[record._rec_name || 'name']}))});\n      }\n    }\n    else if (type === 'selection') {\n      return this.setState({value: value && {id: value, text: window.tools.dict(field.selection)[value]}});\n    }\n  }\n\n  setInputValue(value) {\n    const props = this.props;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    if (type === 'binary') return;\n    if (this.refs.input) {\n      if (!api.hasValue(['text', 'data', 'boolean'], type)) {\n        this.refs.input.base.querySelector('input').value = value;\n      }\n      else if (type === 'boolean') {\n        this.refs.input.base.querySelector('input').checked = value;\n      }\n      else {\n        this.refs.input.base.querySelector('textarea').value = type !== 'data' ? value : JSON.stringify(value);\n      }\n    }\n  }\n\n  async componentDidMount() {\n    //if (!window.models.env.context.active_id) window.models.env.context.active_id = window.models.env[window.models.env.context.active_model].browse();\n    await api.wait_exist(() => window.models.env.context.active_id);\n    const props = this.props;\n    const models = window.models;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    const context = window.models.env.context;\n    if (context.active_id._pending_promises.length > 0) await context.active_id._wait_promise();\n    const value = props.cellEdit ? null : context.active_id && context.active_id[this.props.name];\n    if (this.props.ref_object) Object.assign(this.props.ref_object, this.refs, {loaded: true});\n    if (this.refs.input) {\n      return this.setInputValue(value);\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      return this.setSelectivityValue(value);\n    }\n    else if (type === 'selection') {\n      if (this.props.widget === 'statusbar') return this.setState({value});\n      return this.setSelectivityValue(value);\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      return this.setState({value, input: this.refs.date_input.base.querySelector('input')});\n    }\n    else {\n      return this.setState({value});\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) this.refs.selectivity.selectivity.destroy();\n  }\n\n  render(props) {\n    const models = window.models;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    if (!field) return;\n    const string = props.string || field.string;\n    const type = field.type;\n    const types = {char: 'text', text: 'textarea', float: 'number', integer: 'number', data: 'textarea', 'boolean': 'checkbox', 'binary': 'file'};\n    const context = window.models.env.context;\n    const refs = this.refs;\n    const active_id = props.cellEdit ? this.props.tree.state.records[this.props.rowIndex].id && context.active_lines[this.props.tree.state.model][(field.type !== 'one2many' ? 'many2many_' : '') + this.props.tree.state.tree_field].find(this.props.tree.state.records[this.props.rowIndex].id) || this.props.tree.state.records[this.props.rowIndex]._original_object_for_id : context.active_id;\n    const invisible = props.invisible instanceof Function && active_id ? props.invisible(active_id, models.env.context.active_id) : props.invisible;\n    props.readonly = field.readonly || props.readonly;\n    const readonly = props.readonly instanceof Function && active_id ? props.readonly(active_id) : props.readonly;\n    const value = props.cellEdit ? null : context.active_id && context.active_id[this.props.name];\n\n    async function fetch(url, init, query) {\n      try {\n        const limit = 10\n        models.env.context.active_limit = limit;\n        models.env.context.active_index = query.offset / limit;\n        const domain = (active_id && props.domain) ? props.domain(...(!props.cellEdit ? [active_id] : [active_id, models.env.context.active_id])) : [];\n        const records = await models.env[field.relation].with_context({no_preload: true}).search([(models.env[field.relation]._rec_name || 'name'), 'ilike', query.term], ...domain);\n        if (models.env.context.active_lines[field.relation]) {\n          for (var inverse_field in models.env.context.active_lines[field.relation]) {\n            records.add(models.env.context.active_lines[field.relation][inverse_field].filter((record) => record[record._rec_name || 'name'] && record[record._rec_name || 'name'].toLowerCase().indexOf(query.term.toLowerCase()) !== -1));\n          }\n        }\n        const results = [];\n        if (type === 'selection') return {results, more: false};\n        for (let record of records) {\n          if (!record.id) {\n            const id = 'etemp' + Math.random().toString(36).substr(2, 9);\n            if (!api.globals.temp_records) api.globals.temp_records = {};\n            api.globals.temp_records[id] = record;\n            results.push({id, text: record[record._rec_name || 'name']});\n            continue;\n          }\n          results.push({id: record.id, text: record[record._rec_name || 'name']});\n        }\n        models.env.context.active_index = 0;\n        console.log((query.offset / limit + 1) * limit < records._search_count);\n        console.log(results);\n        return {results: results, more: (query.offset / limit + 1) * limit < records._search_count};\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n\n    if (api.hasValue(['many2many', 'one2many'], type) && props.children) {\n      return props.children;\n    }\n\n    let component;\n\n    if (type === 'selection' && props.widget === 'statusbar') {\n      let first = true;\n      const selections = window.tools.copy(field.selection).reverse();\n      component = (\n        <div style={invisible ? {display: 'none'} : {}}>\n          {selections.map((selection) =>\n          first ? <Button raised={models.env.context.active_id && models.env.context.active_id[props.name] === selection[0]} className=\"rapyd-statusbars\">{(first = false) || selection[1]}</Button> : [<span className=\"rapyd-statusbars rapyd-statusbar-arrow\">{'>'}</span>, <Button raised={models.env.context.active_id && models.env.context.active_id[props.name] === selection[0]} className=\"rapyd-statusbars\">{selection[1]}</Button>]\n          )}\n        </div>\n      );\n      return component;\n    }\n\n    let isSelectivity;\n    if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one', 'selection'], type)) {\n      isSelectivity = true;\n      let ajax;\n      let items = null;\n      if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type)) {\n        ajax = {url: window.tools.configuration.url, minimumInputLength: 0, params: () => ({}), placeholder: '', fetch: fetch};\n      }\n      else if (type === 'selection') {\n        items = field.selection.map((selection) => ({id: selection[0], text: selection[1]}));\n      }\n      component = (\n        <ListInput label={string} input={false} disabled={readonly || !context.editing} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\">\n          <Selectivity ref=\"selectivity\" slot=\"input\" data={this.state.value || null} ajax={ajax} items={items} placeholder={props.placeholder || ''} readOnly={readonly || !context.editing} multiple={api.hasValue(['many2many', 'one2many'], type)} onChange={(event) => this.setValue(event.value, event.data)} onDropdownOpen={() => this.setState({'selectivityOpened': true})} onDropdownClose={() => (props.onSelect ? props.onSelect() : true) && this.setState({'selectivityOpened': false})} allowClear closeOnSelect/>\n        </ListInput>\n      );\n      if (props.cellEdit) return component.children[0];\n      api.wait(500).then(() => api.wait_exist(() => context.active_id)).then(() => context.active_id[props.name] && this.setSelectivityValue(context.active_id[props.name]));\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      const input = (\n        <ul>\n          <ListInput ref=\"date_input\" label={string} placeholder={props.placeholder || ''} disabled={readonly || !context.editing} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\"/>\n        </ul>\n      );\n      component = (\n        <Flatpickr customComponent={input} customInput={this.state.input} enableTime={type === 'datetime' && true} enableSeconds={type === 'datetime' && true} defaultDate={value || this.state.value} onChange={(value) => this.setValue(value)}/>\n      );\n      if (props.cellEdit) return component.children.children;\n    }\n    else {\n      this.input_type = types[type];\n      component = (\n        <ListInput ref=\"input\" label={string} type={types[type]} placeholder={props.placeholder || ''} disabled={readonly || !context.editing} onChange={(event) => this.setValue(event.target.type === 'checkbox' ? event.target.checked : event.target.type === 'file' ? event.target.files[0] : event.target.value)} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\"/>\n      );\n      api.wait_exist(() => this.refs.input).then(() => this.setInputValue(value || this.state.value || null));\n    }\n\n    return (\n      <List style={{...(invisible ? {display: 'none'} : {}), ...(!this.state.selectivityOpened ? {'zIndex': '0'} : {})}}>\n        {component}\n      </List>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Field from './Field';\nimport api from 'api';\n\nexport default class extends Component {\n  async afterGuiAttached() {\n    await api.wait_exist(() => this.refs.loaded);\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) this.refs.selectivity.selectivity.open();\n  }\n\n  getValue() {\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) {\n      let value = this.refs.selectivity.selectivity.getData();\n      if (!value) return this.props.tree.state.records[this.props.rowIndex][this.props.name];\n      const colDef = window.tools.copy(this.props.column.colDef);\n      delete colDef.cellEditorFramework;\n      let temp_ids = this.refs.selectivity.selectivity.getValue();\n      if (!Array.isArray(temp_ids)) temp_ids = [temp_ids];\n      const field = window.models.env[this.props.model]._fields[this.props.name];\n      const records = field.relation && window.models.env[field.relation];\n      for (let temp_id of temp_ids) {\n        if (!field.relation) break;\n        if (temp_id.slice(0, 5) === 'etemp') {\n          records.add(api.globals.temp_records[temp_id]);\n        }\n        else {\n          const record = records.browse();\n          record.update({id: temp_id});\n          records.add(record);\n        }\n      }\n      this.props.tree.onChange({colDef, data: this.props.tree.state.records[this.props.rowIndex], oldValue: null, newValue: field.relation ? records : this.refs.selectivity.selectivity.getValue()});\n      if (!Array.isArray(value)) {\n        value = value.text;\n      }\n      else {\n        value = value.map((data) => data.text).join(', ');\n      }\n      if (this.props.tree.state.selected) {\n        for (let row of this.props.tree.state.selected) {\n          if (row === this.props.tree.state.records[this.props.rowIndex]) continue;\n          this.props.tree.onChange({colDef, data: row, oldValue: null, newValue: field.relation ? records : this.refs.selectivity.selectivity.getValue()});\n          row[this.props.name] = value;\n        }\n        api.wait(100).then(() => this.props.tree.gridOptions.api.deselectAll() || this.props.tree.setState({records: this.props.tree.state.records}));\n      }\n      return value;\n    }\n  }\n\n  async onSelect() {\n    await api.wait(10);\n    this.props.api.stopEditing();\n  }\n\n  render(props) {\n    //const field = props.field_object;\n    //delete props.field_object;\n    this.refs = {};\n    const onSelect = this.onSelect.bind(this);\n    const component = (<Field {...props} ref_object={this.refs} cellEdit={true} onSelect={onSelect}/>);\n    return component;\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport Grid from './Grid';\nimport GridEditor from './GridEditor';\nimport {Button, Popup} from 'framework7-react';\nimport api from 'api';\n\nfunction autoSizeAll(gridOptions, listener) {\n  if (this) {\n    this.gridOptions = gridOptions;\n    for (let column of gridOptions.api.gridCore.gridOptions.columnDefs) {\n      gridOptions.api.getFilterInstance(column.field).eClearButton.addEventListener('click', () => gridOptions.api.onFilterChanged());\n    }\n  }\n  /*if (listener && !gridOptions.api.gridCore.eGridDiv.parentElement) {\n    window.removeEventListener('resize', listener);\n    return;\n  }*/\n  //let grid = gridOptions.api\n  gridOptions.api.sizeColumnsToFit();\n}\n\nexport default class Tree extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const model = props.model || window.models.env.context.active_model;\n    function isEditable() {\n      if (props.isTreeView && !props.editable) {\n        return false;\n      }\n      if (window.models.env.context.editing) {\n        return true;\n      }\n      return false;\n    }\n    this.isEditable = isEditable;\n    this.pendingTask = {create: false, write: false, tasked: false};\n    this.pendingCreate = false;\n    this.pendingWrite = false;\n    function taskJob() {\n      if (this.pendingTask.tasked) return;\n      this.pendingTask.tasked = true;\n      window.models.env.context.active_task.push((async () => {\n        if (this.pendingTask.create) await this.state.new_records.create();\n        if (this.pendingTask.write) await window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field].write();\n        if (this.props.parent_model) window.models.env.context.active_id.write({[this.state.tree_field]: window.models.env.context.active_lines[this.state.model]['many2many_' + this.state.tree_field].ids});\n      }).bind(this));\n    }\n    this.taskJob = taskJob.bind(this);\n    function onChange(params) {\n      if (!params.colDef.cellEditorFramework && params.newValue != params.oldValue) {\n        const value = params.newValue;\n        const records = window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field];\n        const record = params.data.id ? records.find(params.data.id) : records.find(params.data._original_object_for_id);\n        if (!this.pendingTask.write && record.id) {\n          this.pendingTask.write = true;\n        }\n        else if (!this.pendingTask.create && !record.id) {\n          this.pendingTask.create = true;\n        }\n        if (!this.pendingTask.tasked && (this.pendingTask.create || this.pendingTask.write)) {\n          this.taskJob();\n        }\n        record[params.colDef.field] = value;\n        if (!params.selectedOnchange && this.state.selected) {\n          for (let row of this.state.selected) {\n            if (row === params.data) continue;\n            this.onChange({colDef: params.colDef, selectedOnchange: true, data: row, oldValue: null, newValue: value});\n            if (!params.colDef.cellEditorParams) row[params.colDef.field] = value;\n          }\n          api.wait(100).then(() => this.gridOptions.api.deselectAll()).then(() => this.setState({records: this.state.records})).then(() => !params.colDef.cellEditorParams && this.gridOptions.api.refreshCells());\n        }\n      }\n    }\n    this.onChange = onChange.bind(this);\n    function onSelectionChanged(event) {\n      const selected = event.api.getSelectedRows();\n      const ids = [];\n      for (let data of selected) {\n        if (data.id) ids.push(data.id);\n      }\n      return this.setState({active_ids: ids, selected});\n    }\n    this.onSelectionChanged = onSelectionChanged.bind(this);\n    function handleOutside(event) {\n      if (this.refs.grid && !this.refs.grid.base.querySelector('div.ag-body').contains(event.target) && this.gridOptions) this.gridOptions.api.stopEditing();\n    }\n    this.handleOutside = handleOutside.bind(this);\n    const children = props.children.constructor === Array ? props.children : [props.children];\n    const fields = children.map((child, index) => ({headerName: (() => child.attributes.string || window.models.env[model]._fields[child.attributes.name].string)(), field: child.attributes.name, suppressMovable: true, filterParams: {applyButton: true, clearButton: true}, editable: isEditable, invisible: child.props.invisible, onCellValueChanged: this.onChange, ...(child.props.sort ? (this.default_sort = child.props.name + ' ' + child.props.sort) && {sort: child.props.sort} : {}), ...((['date', 'datetime', 'selection'].indexOf(window.models.env[model]._fields[child.attributes.name].type) !== -1 || window.models.env[model]._fields[child.attributes.name].relation) ? {cellEditorFramework: GridEditor, cellEditorParams: {...child.props, model, tree: this}, cellClass: 'editable-special-cell'} : {})}));\n    fields[0].checkboxSelection = true;\n    fields[0].headerCheckboxSelection = true;\n    //fields[0].suppressSizeToFit = true;\n    const records = [];\n    this.state = {fields: fields, records: records, new_records: window.models.env[model], limit: 50, model: model, frameworkComponents: {specialEditor: GridEditor}, selected: []};//, popupOpened: false};\n    if (props.field) {\n      this.state.tree_field = props.field;\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.gridOptions) autoSizeAll(this.gridOptions);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleOutside);\n    //return autoSizeAll.bind(this)(this.gridOptions);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleOutside);\n    window.removeEventListener('resize', this.resizeListener);\n  }\n\n  paginate(rows, index=0) {\n    if (rows.length < 1) {\n      return rows;\n    }\n    //rows = rows.concat(this.state.new_records)\n    const count = rows[0]._search_count;\n    if (index > 0) {\n      let pushed = 0;\n      while (pushed < this.state.limit * index) {\n        rows.unshift({});\n        pushed += 1;\n      }\n    }\n    while (rows.length < count) {\n      rows.push({});\n    }\n    return rows;\n  }\n\n  sort(fields, params) {\n    console.log(this);\n    const models = window.models;\n    if (fields.length > 0) {\n      models.env.context.active_sort = fields[0].colId + ' ' + fields[0].sort;\n    }\n    else {\n      delete models.env.context.active_sort;\n    }\n    /*const load = api.preload();\n    try {\n      const args = [];\n      if (this.state.tree_field) {\n        args.push([this.state.tree_field, 'in', window.models.env.context.active_ids]);\n      }\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();*/\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      params.forcePopup = true;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  async filter(fields, params) {\n    const models = window.models;\n    //const load = api.preload();\n    if (this.state.tree_field) await api.wait_exist(() => models.env.context.active_id);\n    const args = [];//this.state.tree_field ? [!this.props.parent_model && [this.state.tree_field, 'in', window.models.env.context.active_ids] || ['id', 'in', window.models.env.context.active_id[this.state.tree_field] || []]] : [];\n    const values = [];\n    for (let field in fields) {\n      let conditions = [fields[field]];\n      let operator = 'AND';\n      if (fields[field].operator !== undefined) {\n        conditions = [fields[field].condition1, fields[field].condition2];\n        operator = fields[field].operator;\n      }\n      const types = {startsWith: 'ilike', endsWith: 'ilike', contains: 'ilike', notContains: 'not ilike', equals: '=', notEqual: '!='};\n      if (operator === 'OR') {\n        args.push('|');\n      }\n      for (let condition of conditions) {\n        /*if (operator === 'OR') {\n          args.push('|');\n        }*/\n        values.push(condition.filter);\n        if (models.env[this.state.model]._fields[field].relation) {\n          const relation = models.env[models.env[this.state.model]._fields[field].relation];\n          const result_ids = await relation.search([relation._rec_name || 'name', types[condition.type], condition.filter]);\n          args.push([field, 'in', result_ids.ids]);\n          continue;\n        }\n        args.push([field, types[condition.type], condition.filter]);\n      }\n    }\n    this.args = args;\n    /*try {\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }*/\n    let index = 0;\n    for (let input of window.document.getElementsByClassName('ag-filter-filter')) {\n      if (values[index] !== undefined) {\n        let value = values[index];\n        setTimeout(() => input.value = value, 1000);\n      }\n      index += 1;\n    }\n    //load.done();\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      params.forcePopup = true;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  async paging(index, params) {\n    if (params.newData !== false) {\n      return;\n    }\n    if (this.props.isPopup && !params.forcePopup) return;\n    //const load = api.preload();\n    try {\n      const models = window.models;\n      if (this.state.tree_field) await api.wait_exist(() => models.env.context.active_id);\n      if (params.deleting) {\n        if (!this.args) this.args = [];\n        this.args.push(['id', 'not in', this.state.active_ids]);\n      }\n      const args = (this.state.tree_field ? [!this.props.parent_model && [this.state.tree_field, 'in', window.models.env.context.active_ids || []] || ['id', 'in', window.models.env.context.active_id[this.state.tree_field] || []]] : []);\n      if (this.args) args.push(...this.args);\n      models.env.context.active_limit = this.state.limit;\n      models.env.context.active_index = index;\n      if (!models.env.context.active_sort && this.default_sort) (models.env.context.active_sort = this.default_sort) && delete this.default_sort;\n      let records = await models.env[this.state.model].search(...args, ...(this.props.domain || []));\n      if (!this.props.isTreeView) {\n        if (!models.env.context.active_lines) models.env.context.active_lines = {};\n        if (!models.env.context.active_lines[this.state.model]) models.env.context.active_lines[this.state.model] = {};\n        if (!models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field]) {\n          models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field] = records;\n        }\n        else {\n          records = models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field].add(records);\n        }\n      }\n      else {\n        records.add(this.state.new_records);\n      }\n      if (records.length > 0) {\n        if (this.args) {\n          records = records.filter((record) => {\n            const domain = window.tools.copy(this.args);\n            for (let args of domain) if (Array.isArray(args)) args[0] = record[args[0]];\n            return window.tools.apply_domain(...domain);\n          });\n        }\n        await this.setState({records: this.paginate(await records.sort_by(...(!models.env.context.active_sort ? [records._rec_name || 'name', false] : models.env.context.active_sort.split(' ').map((value) => value == 'asc' ? false : value))).read(true, this.state.fields.map((field) => field.field)), index)})\n      }\n      else if (records.length === 0) await this.setState({records: []});\n    }\n    catch(error) {\n      console.error(error);\n    }\n    //load.done();\n  }\n\n  async addItem() {\n    if (!this.isEditable()) return;\n    const record = window.models.env[this.state.model].browse();\n    if (window.models.env.context.active_id.id && !this.props.parent_model) record[this.state.tree_field] = window.models.env.context.active_id.id;\n    if (record._pending_promises.length > 0) {\n      await record._wait_promise();\n      if (!this.pendingTask.tasked) {\n        this.pendingTask.create = true;\n        this.taskJob();\n      }\n    }\n    const values = await record.read(true, this.state.fields.map((field) => field.field));\n    this.state.new_records.add(record);\n    this.state.records.push(values[0]);\n    if (!this.props.treeView) window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field].add(record);\n    await this.setState({records: this.state.records, new_records: this.state.new_records});\n    this.gridOptions.api.updateRowData({add: values});\n  }\n\n  async chooseItem() {\n    //await this.setState({popupOpened: true});\n    await this.refs.popup.paging(0, {newData: false, forcePopup: true});\n    this.refs.popup_modal.getDOMNode().className = 'popup modal-in';\n    autoSizeAll(this.refs.popup.gridOptions);\n    return;\n  }\n\n  async selectItem() {\n    if (this.state.active_ids.length > 0) {\n      const selected_ids = await window.models.env[this.props.model].browse(this.state.active_ids);\n      const records = window.models.env.context.active_lines[this.props.model]['many2many_' + this.props.active_field].add(selected_ids);\n      window.models.env.context.active_id[this.props.active_field] = records;\n      await window.models.env.context.active_id._wait_promise();\n      await this.props.parent_tree.paging(0, {newData: false});\n      this.gridOptions.api.deselectAll();\n      this.props.parent_tree.refs.popup_modal.getDOMNode().className = this.props.parent_tree.refs.popup_modal.getDOMNode().className.replace('modal-in', 'modal-out');\n      //return await this.parent_tree.setState({popupOpened: false});\n    }\n  }\n\n  async removeItem() {\n    if (this.props.isTreeView) {\n      const records = await window.models.env[this.state.model].browse(this.state.active_ids);\n      await records.unlink();\n      await this.paging.bind(this)(0, {newData: false});\n      //this.gridOptions.api.updateRowData({remove: this.state.selected});\n      return this.gridOptions.api.deselectAll();//this.setState({selected: []});\n    }\n    const field = window.models.env[this.props.parent_model || this.state.model]._fields[this.state.tree_field];\n    const type = field.type;\n    for (let data of this.state.selected) {\n      let index = this.state.records.length;\n      while (index--) {\n        if (data === this.state.records[index]) this.state.records.splice(index);\n      }\n      if (!window.models.env.context.active_id.id || type != 'many2one') {\n        console.log(type)\n        const records = window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field];\n        const values = records.values;\n        if (!Array.isArray(values)) {\n          if (type != 'many2one') {\n            if (data._original_object_for_id && data._original_object_for_id === values) records._values[0] = {};\n            else if (data.id === values.id) (records._values[0] = {}) && delete records._values[data.id];\n            continue;\n          }\n          if (data._original_object_for_id ? data._original_object_for_id === values : data.id === values.id) window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field] = window.models.env[this.state.model];\n          continue;\n        }\n        let index = values.length\n        while (index--) {\n          if (data._original_object_for_id && data._original_object_for_id === values[index]) values.splice(index);\n          else if (!data._original_object_for_id && data.id === values[index].id) values.splice(index) || delete records._values[data.id];\n        }\n        continue;\n      }\n      if (type != 'many2one') continue;\n      const params = {data};\n      params.oldValue = \"\";\n      params.newValue = null;\n      params.colDef = {field: this.state.tree_field};\n      this.onChange(params);\n    }\n    const selected = this.state.selected;\n    //await this.setState({records: this.state.records, selected: []});\n    if (type != 'many2one') window.models.env.context.active_id[this.state.tree_field] = window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field];\n    //this.gridOptions.api.updateRowData({remove: selected});\n    await this.paging.bind(this)(0, {newData: false, deleting: true});\n    return this.gridOptions.api.deselectAll();\n  }\n\n  render(props) {\n    const model = props.model || window.models.env.context.active_model;\n    const models = window.models;\n    const editableHeight = () => this.isEditable() ? (30) : 0\n    const grid = (\n      <div className=\"card-body\" style={{height: Math.min(this.state.records.length, this.state.limit) * 48 + 112 + editableHeight()/* <= 440 ? this.state.records.length * 48 + 112 + editableHeight() + 'px' : '67vh'*/ + 'px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {position: 'absolute', left: '-9999px', top: '-9999px'} : {})}}>\n        <Grid ref=\"grid\" onGridReady={((params) => autoSizeAll.bind(this)(params) || window.addEventListener('resize', this.resizeListener = () => autoSizeAll(params, this.resizeListener))).bind(this)} onRowClicked={(params) => models.env[this.state.model].browse(null).then((record) => delete models.env.context.active_id).then(() => api.globals.app.views.main.router.navigate('/form/' + model + '?id=' + params.data.id))} onPaginationChanged={(params) => this.paging.bind(this)(params.api.paginationGetCurrentPage(), params)} onSortChanged={(params) => this.sort.bind(this)(params.api.getSortModel(), params)} onFilterChanged={(params) => this.filter.bind(this)(params.api.getFilterModel(), params)} onSelectionChanged={this.onSelectionChanged} paginationPageSize={this.state.limit} columnDefs={this.state.fields.filter((field) => !props.isTreeView && models.env.context.active_id && field.invisible instanceof Function ? !field.invisible({}, models.env.context.active_id) : !field.invisible)} rowData={this.state.records} frameworkComponents={this.state.frameworkComponents}/>\n        <Button onClick={this.addItem.bind(this)} style={{display: this.isEditable() && (props.create instanceof Function ? props.create(models.env.context.active_id) : props.create) !== false ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Add</Button>\n        <Button onClick={this.chooseItem.bind(this)} style={{display: (props.choose || props.parent_model) && this.isEditable() ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Choose</Button>\n        <Button onClick={this.selectItem.bind(this)} style={{display: props.isPopup && this.state.selected.length > 0 ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Select</Button>\n        <Button onClick={this.removeItem.bind(this)} style={{display: (props.isTreeView || this.isEditable()) && !props.isPopup && this.state.selected.length > 0 ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Delete</Button>\n        {!props.isPopup && window.tools.view[this.state.model].actions.tree && Object.entries(window.tools.view[this.state.model].actions.tree).map(([function_name, string]) => (\n          <Button onClick={(() => models.env[this.state.model].browse(this.state.active_ids).then((records) => records[function_name]()).then(() => this.gridOptions.api.deselectAll())).bind(this)} style={{display: (props.isTreeView || !models.env.context.editing) && this.state.selected.length > 0 ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>{string}</Button>\n        ))}\n        {!props.isTreeView && props.parent_model &&\n        <Popup ref=\"popup_modal\" backdrop={false} animate={true}>{/* opened={this.state.popupOpened} onPopupClosed={() => this.setState({popupOpened : false})}>*/}\n          <Page popup title={window.tools.view[this.state.model] ? window.tools.view[this.state.model].string : 'Choose'}>\n            <div className=\"card\">\n              <Tree ref=\"popup\" isTreeView isPopup parent_tree={this} active_field={this.state.tree_field} model={this.state.model} domain={this.state.records.length > 0 && [['id', 'not in', window.models.env.context.active_lines[props.model]['many2many_' + props.field].ids]].concat(props.domain ? props.domain(models.env.context.active_id) : [])}>\n                {Array.prototype.slice.call(new DOMParser().parseFromString(window.tools.view[this.state.model].tree || props.tree_arch || '<tree><field name=\"' + (window.models.env[this.state.model]._rec_name || 'name') + '\"/></tree>', 'text/xml').children[0].children).map((element) => {\n                  const props = {model};\n                  for (let attribute of element.attributes) {\n                    props[attribute.name] = attribute.value;\n                  }\n                  return React.createElement(null, props);\n                })}\n              </Tree>\n            </div>\n          </Page>\n        </Popup>\n        }\n      </div>\n    );\n    if (!props.isTreeView) api.wait(500).then(() => !this.pagingCalled && !this.state.records.length && (this.pagingCalled = true) && this.paging(0, {newData: false}));\n    if (!props.isTreeView || props.isPopup) {\n      if (window.models.env.context.editing) delete grid.props.children[0].props.onRowClicked;\n      return grid;\n    }\n    return (\n      <Page title={props.title || window.tools.view[this.state.model].string}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {props.title || window.tools.view[this.state.model].string}\n              <br/>\n              <Button onClick={() => api.globals.app.views.main.router.navigate('/form/' + model)} style={{display: 'inline-block'}} fill>Create</Button>\n            </div>\n          </div>\n          {grid}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n//import Parser from 'react-jsx-parser';\nimport Tree from '../Tree';\n//import Field from '../Field';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nconst customComponents = {Tree, Field: null};\n\nconst function_string =\n`if (!active_id) return false;\nvar True = true;\nvar False = false;\nvar None = null;\nreturn `;\n\n\nfunction parseView(view, model, title) {\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  console.log(view);\n  if (title) view.setAttribute('title', title);\n  function recurse(elements) {\n    let components = [];\n    for (let element of elements) {\n      const component = customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + props[attribute]]))();\n        }\n      }\n      if (props.domain) props.domain = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + '[' + props.domain + ']']))();\n      props.isTreeView = true;\n      components.push(React.createElement(component, props, recurse(element.children)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  console.log(props);\n  let model = window.models.env.context.active_model;\n  if (props.f7route && props.f7route.url) window.models.env.context.active_url = props.f7route.url;\n  else window.models.env.context.active_url = '/';\n  if (props.f7route && props.f7route.params && props.f7route.params.model) {\n    model = props.f7route.params.model;\n  }/* else {\n    window.models.env.context.active_url = '/';\n  }*/\n  const view = window.tools.view[model].tree;\n  window.models.env.context.active_model = model;\n\n  if (!cachedViews[view + (props.title ? '-' + props.title : '')]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = evals(Parser(view, {presets: [preset]}).code);\n    cachedViews[view + (props.title ? '-' + props.title : '')] = parseView(view, model, props.title);\n  }\n\n  return cachedViews[view + (props.title ? '-' + props.title : '')];\n\n  /*return (\n    <Parser components={{Tree}} jsx={view} renderInWrapper={false}/>\n  );*/\n}\n","import React from 'react';\nimport Page from './Page';\nimport {Button} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    //const model = window.models.env.context.active_model;\n    const models = window.models;\n    //const active_id = window.models.env.context.active_id || null;\n    models.env.context.editing = false;\n    //models.env.context.new_value = {};\n    this.state = models.env.context;//{editing: false, active_id: active_id};\n    this.state.edit_function = this.edit.bind(this);\n  }\n\n  async componentDidMount(props) {\n    const model = window.models.env.context.active_model;\n    const models = window.models;\n    models.env.context.active_lines = {};\n    models.env.context.active_task = [];\n    const form = this;\n    if (!models.env.context.active_ids || models.env.context.active_ids.length < 1 || !models.env.context.active_ids[0]) {\n      models.env.context.active_id = models.env[model].browse();\n      await window.models.env.context.active_id._wait_promise();\n      models.env.context.editing = true;\n      return this.setState(models.env.context);\n    }\n    //else if (!models.env.context.active_id) {\n    models.env.context.active_id = await models.env[model].browse(models.env.context.active_ids);\n    //}\n    return models.env.context.refresh();\n    //api.globals.app.views.main.router.refreshPage();\n  }\n\n  async edit() {\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    const offline = this.props.offline ? JSON.parse(this.props.offline) : false;\n    if (!this.state.editing) {\n      models.env.context.editing = true;\n      return await this.setState({...models.env.context, offline});\n    }\n    const operation = models.env.context.active_id.id ? 'write' : 'create';\n    try {\n      await models.env.context.active_id[operation]({}, !offline);\n    }\n    catch(error) {\n      if (error && error.constructor === window.tools.exceptions.RequiredError) {\n        error.field_map = {};\n        for (let field of error.fields) {\n          error.field_map[field] = true;\n        }\n        models.env.context.active_error = error;\n        await this.setState({active_id: models.env.context.active_id});\n        api.globals.app.toast.create({text: 'Some fields are required', closeButton: false, closeTimeout: 2000, position: 'center'}).open();\n        return;\n      }\n      else {\n        throw error;\n      }\n    }\n    for (let task of models.env.context.active_task) {\n      const result = task();\n      if (result && result.constructor === Promise) await result;\n    }\n    models.env.context.active_task = [];\n    if (operation === 'create') {\n      api.globals.app.views.main.router.navigate(window.location.hash.replace('#!', '') + '?id=' + models.env.context.active_id.id, {reloadCurrent: true});\n      const promises = [];\n      for (let model in models.env.context.active_lines) {\n        for (let inverse_field in models.env.context.active_lines[model]) {\n          if (inverse_field.slice(0, 10) === 'many2many_') continue;\n          promises.push(models.env.context.active_lines[model][inverse_field].write({[inverse_field]: models.env.context.active_id.id}));\n        }\n      }\n      await Promise.all(promises);\n    }\n    models.env.context.editing = false;\n    if (offline) models.env.context.unsaved = {...models.env.context.unsaved, [model]: {...(models.env.context.unsaved && models.env.context.unsaved[model]), [models.env.context.active_id.id]: models.env.context.active_id.id}};\n    await api.update_session({unsaved: models.env.context.unsaved});\n    await this.setState({...models.env.context, offline});\n    //api.globals.app.views.main.router.refreshPage();\n  }\n\n  async upload() {\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    let record = await models.env[model].browse(models.env.context.active_id.id);\n    if (record.length < 1) {\n      let old_record = record;\n      record = await record.create();\n      await old_record.unlink(false);\n      models.env.context.active_id = record;\n    }\n    else {\n      record = await models.env.context.active_id.write();\n      models.env.context.active_id = record;\n    }\n    if (models.env.context.unsaved && models.env.context.unsaved[model] && models.env.context.unsaved[model][record.id]) delete models.env.context.unsaved[model][record.id];\n    await api.update_session({unsaved: models.env.context.unsaved});\n    return await this.setState({...models.env.context, offline: false});\n  }\n\n  render(props) {\n    const model = window.models.env.context.active_model;\n    console.log(this.state);\n    //const models = window.models;\n    const buttonStyle = {width: 'auto', float: 'left', 'margin-right': '10px'};\n    const uploadStyle = {};\n    if (!this.state.offline) uploadStyle['display'] = 'none';\n    return (\n      <Page title={window.tools.view[model].string}>\n        <div className=\"card\" style={{margin: 0, boxShadow: 'none'}}>\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <span style={{color: '#666666'}}>{' / ' + (this.state.active_id && this.state.active_id.id ? this.state.active_id.name : 'New')}</span>\n              <div>\n                <Button onClick={this.edit.bind(this)} style={buttonStyle} fill>{this.state.editing ? 'Save' : 'Edit'}</Button>\n                <Button onClick={() => api.globals.app.views.main.router.back()} style={{...buttonStyle, ...(!this.state.editing ? {display: 'none'} : {})}}>{'Cancel'}</Button>\n                <Button onClick={this.upload.bind(this)} style={{...buttonStyle, ...uploadStyle}} fill>{'Upload'}</Button>\n              </div>\n            </div>\n          </div>\n          {props.children}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n\nexport default (props) => (\n  <div style={{margin: 0, backgroundColor: '#8F8F8F', 'minHeight': '56px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {display: 'none'} : {})}}>\n    {props.children}\n  </div>\n)\n","import React from 'react';\nimport {\n    Button,\n} from 'framework7-react';\nimport api from 'api';\n\nasync function button(props) {\n  const load = api.preload();\n  if (props.name) {\n    try {\n      if (window.models.env.context.editing) await window.models.env.context.edit_function();\n      await window.models.env.context.refresh();\n      //await api.globals.app.views.main.router.refreshPage();\n      if (!window.models.env.context.active_error) {\n        await window.models.env.context.active_id[props.name]();\n        await window.models.env.context.refresh();\n      }\n    }\n    catch(error) {\n      console.log(error);\n      await window.models.env.context.refresh();\n      //await api.globals.app.views.main.router.refreshPage();\n      load.done();\n    }\n  }\n  //await window.models.env.context.refresh();\n  load.done();\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = window.models.env.context;\n  }\n\n  render(props) {\n    return (\n      <Button fill onClick={() => button.bind(this)(props)} style={{display: (props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? 'none' : 'block', float: 'left', width: 'auto', margin: '10px'}}>{props.string}</Button>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{minHeight: '250px', marginTop: '20px'}}>\n        <div className=\"card-content form-sheet\" style={{'display': 'flex', 'flex-wrap': 'wrap'}}>\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {BlockTitle} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    //this.state.lastHeight = 0.0;\n    this.state.previousTitle = false;\n  }\n\n  async componentDidMount() {\n    await api.wait_exist(() => this.refs.group);\n    await api.wait(500);\n    if (!this.props.title) {\n      let index = 0\n      for (let element of [this.refs.group.previousElementSibling, this.refs.group.nextElementSibling]) {\n        if (element && (!index ? element.offsetLeft === 0 : element.offsetLeft > 0) && element.querySelector('div.component-group-title')) {\n          this.setState({previousTitle: true});\n          break;\n        }\n        index += 1;\n      }\n    }\n    /*if (this.props.children || this.refs.group.previousElementSibling === null || this.refs.group.previousElementSibling.offsetLeft !== 0) {\n      return;\n    }\n    this.interval = setInterval(() => {\n      if (!this.refs.group || !this.refs.group.previousElementSibling) return clearInterval(this.interval);\n      const lastHeight = this.refs.group.previousElementSibling.clientHeight - 20;\n      if (lastHeight !== this.state.lastHeight) {\n        this.setState({lastHeight: lastHeight});\n      }\n    }, 500);*/\n  }\n\n  componentWillUnmount() {\n    if (this.interval) clearInterval(this.interval);\n  }\n\n  render(props) {\n    if (props.width && props.width.slice(-1) === '%' && parseInt(props.width.slice(0, -1)) > 97) {\n      props.width = '97%';\n    }\n    return (\n      <div ref=\"group\" className=\"component-group\" style={{float: 'left', width: props.width || '46.5%', padding: '10px', marginTop: '20px', height: 'auto', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {position: 'absolute', left: '-9999px', top: '-9999px'} : {})}}>\n        {(props.title || this.state.previousTitle) && (\n          <BlockTitle className=\"component-group-title\" style={{'fontSize': '25px', 'lineHeight': 'unset', ...(this.state.previousTitle ? {'height': '37px'} : {})}}>{props.title || ''}</BlockTitle>\n        )}\n        {props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{margin: 0, boxShadow: 'none', padding: '20px', minHeight: '30%', marginTop: '30px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {display: 'none'} : {})}}>\n        <div className=\"card-header\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nconst function_string =\n`if (!active_id) return false;\nvar True = true;\nvar False = false;\nvar None = null;\nreturn `;\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly', 'create']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', 'parent', function_string + props[attribute]]))();\n        }\n      }\n      if (props.domain) props.domain = new (Function.prototype.bind.apply(Function, [null, 'active_id', 'parent', function_string + '[' + props.domain + ']']))();\n      if (component === Tree) {\n        const field = window.models.env[model]._fields[parent_props.name];\n        props.model = field.relation;\n        props.field = field.type === 'one2many' ? field.inverse : parent_props.name;\n        if (field.type !== 'one2many') {\n          props.parent_model = model;\n          props.tree_arch = element.outerHTML;\n        }\n        if (parent_props.invisible) props.invisible = parent_props.invisible;\n        if (parent_props.domain) props.domain = parent_props.domain;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default class extends React.Component {\n  render(props) {\n    const refresh = () => this.setState({});\n    this.refresh = refresh.bind(this);\n    window.models.env.context.refresh = this.refresh;\n    let model = window.models.env.context.active_model;\n    if (props.f7route && props.f7route.url) window.models.env.context.active_url = props.f7route.url;\n    else window.models.env.context.active_url = '/';\n    if (props.f7route && props.f7route.params && props.f7route.params.model) {\n      model = props.f7route.params.model;\n    }\n    const id = props.f7route.query.id;\n    const view = window.tools.view[model].form;\n    window.models.env.context.active_model = model;\n    if (id) {\n      window.models.env.context.active_ids = [id];\n      //delete window.models.env.context.active_id;\n    }\n    else {\n      delete window.models.env.context.active_ids;\n    }\n    /*if (id) {\n      window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n    }*/\n    if (!cachedViews[view]) {\n      // eslint-disable-next-line\n      //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n      cachedViews[view] = parseView(view, model);\n    }\n\n    return cachedViews[view];\n  }\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\nimport TreePage from './TreePage';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, TreePage, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nconst function_string =\n`if (!active_id) return false;\nvar True = true;\nvar False = false;\nvar None = null;\nreturn `;\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, TreePage, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + props[attribute]]))();\n        }\n      }\n      if (props.domain) props.domain = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + '[' + props.domain + ']']))();\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props) || element.innerHTML));\n    }\n    if (!components.length) return null;\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  let model = window.models.env.context.active_model;\n  let mode = window.models.env.context.active_mode;\n  if (props.f7route && props.f7route.url) window.models.env.context.active_url = props.f7route.url;\n  else window.models.env.context.active_url = '/';\n  if (props.f7route && props.f7route.params && props.f7route.params.view_id) {\n    const view_id = props.f7route.params.view_id.split('.');\n    model = view_id.slice(0, -1).join('.');\n    mode = view_id[view_id.length - 1];\n    //window.models.env.context.active_url = props.f7route.url;\n  }\n  //const id = props.f7route.query.id;\n  const view = window.tools.view[model][mode];\n  if (window.tools.view[model].contexts[mode]) Object.assign(window.models.env.context, window.tools.view[model].contexts[mode]);\n  window.models.env.context.active_model = model;\n  //window.models.env.context.active_ids = [id];\n  /*if (id) {\n    window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n  }*/\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  if (window.tools.view[model].custom_init && window.tools.view[model].custom_init[model + '.' + mode]) window.tools.view[model].custom_init[model + '.' + mode](props);\n\n  return cachedViews[view];\n\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n    Toolbar,\n    Block,\n    BlockTitle,\n    List,\n    ListItem,\n    Row,\n    Col,\n    Button\n} from 'framework7-react';\nimport LoginPage from './LoginPage';\nimport TreePage from './TreePage';\nimport FormPage from './FormPage';\nimport CustomPage from './CustomPage';\n//import api from 'api';\n\nexport default function (props) {\n\n  if (window.models === undefined) {\n    return (<LoginPage/>);\n  }\n  else if (window.tools.configuration.home_view) {\n    const mode = window.tools.configuration.home_view.split('.').slice(-1)[0];\n    const model = window.tools.configuration.home_view.split('.').slice(0, -1).join('.');\n    window.models.env.context.active_mode = mode;\n    window.models.env.context.active_model = model;\n    if (mode === 'tree') {\n      return (<TreePage/>);\n    }\n    else if (mode === 'form') {\n      return (<FormPage/>);\n    }\n    else if (mode !== 'chat') return (<CustomPage/>);\n  }\n\n  return (\n  <Page>\n    <Navbar>\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>\n      <NavTitle>Home</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    <Toolbar>\n      <Link>Left Link</Link>\n      <Link>Right Link</Link>\n    </Toolbar>\n    <Block strong>\n      <p>Here is your blank Framework7 app. Let's see what we have here.</p>\n    </Block>\n    <BlockTitle>Navigation</BlockTitle>\n    <List>\n      <ListItem link=\"/about/\" title=\"About\"></ListItem>\n      <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n    </List>\n    <BlockTitle>Modals</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised popupOpen=\"#popup\">Popup</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised loginScreenOpen=\"#login-screen\">Login Screen</Button>\n        </Col>\n      </Row>\n    </Block>\n    <BlockTitle>Panels</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"left\">Left Panel</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"right\">Right Panel</Button>\n        </Col>\n      </Row>\n    </Block>\n    <List>\n      <ListItem link=\"/dynamic-route/blog/45/post/125/?foo=bar#about\" title=\"Dynamic Route\"></ListItem>\n      <ListItem link=\"/load-something-that-doesnt-exist/\" title=\"Default Route (404)\"></ListItem>\n    </List>\n  </Page>\n  );\n}\n","import React from 'react';\nimport { Page, Navbar, Link, Block, BlockTitle } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"About\" backLink=\"Back\"></Navbar>\n    <BlockTitle>About My App</BlockTitle>\n    <Block strong>\n      <p>Here is About page!</p>\n      <p>You can go <Link back>back</Link>.</p>\n      <p>Mauris posuere sit amet metus id venenatis. Ut ante dolor, tempor nec commodo rutrum, varius at sem. Nullam ac nisi non neque ornare pretium. Nulla mauris mauris, consequat et elementum sit amet, egestas sed orci. In hac habitasse platea dictumst.</p>\n      <p>Fusce eros lectus, accumsan eget mi vel, iaculis tincidunt felis. Nulla tincidunt pharetra sagittis. Fusce in felis eros. Nulla sit amet aliquam lorem, et gravida ipsum. Mauris consectetur nisl non sollicitudin tristique. Praesent vitae metus ac quam rhoncus mattis vel et nisi. Aenean aliquet, felis quis dignissim iaculis, lectus quam tincidunt ligula, et venenatis turpis risus sed lorem. Morbi eu metus elit. Ut vel diam dolor.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport { Page, Navbar, Block } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Not found\" backLink=\"Back\" />\n    <Block strong>\n      <p>Sorry</p>\n      <p>Requested content not found.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport {Page, Navbar, Link} from 'framework7-react';\n\nimport api from 'api';\n\nlet hide = false;\n\nfunction hidePanel() {\n  api.globals.app.params.panel.leftBreakpoint = hide ? 768 : 1000000;\n  api.globals.app.panel.left.initBreakpoints();\n  hide = !hide;\n}\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Menu\"/>\n    <div id=\"menu\" className=\"list list-block media-list chevron-center inset\" style={{fontWeight: 500}} panelClose>\n      {window.tools.keys(window.tools.menu, 'sequence').as_array().map((menu, index) => (\n      <ul>\n        <li className=\"accordion-item\">\n          <a className={'item-link item-content' + (window.tools.menu[menu].childs.length < 1 ? ' panel-close external' : '')} onClick={window.tools.menu[menu].childs.length < 1 && ((event) => event.preventDefault() || api.globals.app.panel.left.close() === {} || Object.assign(window.models.env.context, window.tools.menu[menu].context) === {} || api.globals.app.views.main.router.navigate(event.currentTarget.href.split('#!')[1]))} href={window.tools.menu[menu].childs.length < 1 && '#!/' + (window.tools.menu[menu].view_id ? 'view' : 'tree') + '/' + (window.tools.menu[menu].view_id || window.tools.menu[menu].model)} data-view=\"#main-view\">\n            <div className=\"item-inner\">\n              <div className=\"item-title\">{window.tools.menu[menu].string}</div>\n            </div>\n          </a>\n          {window.tools.menu[menu].childs.as_array().map((child_menu, index) => (\n          <div className=\"accordion-item-content\">\n            <a className=\"item-content panel-close external\" onClick={(event) => event.preventDefault() || api.globals.app.panel.left.close() === {} || Object.assign(window.models.env.context, child_menu.context) === {} || api.globals.app.views.main.router.navigate(event.currentTarget.href.split('#!')[1])} href={'#!/' + (child_menu.view_id ? 'view' : 'tree') + '/' + (child_menu.view_id || child_menu.model)} data-view=\"#main-view\">\n              <div className=\"item-inner\">\n                <div className=\"item-title\">{child_menu.string}</div>\n              </div>\n            </a>\n          </div>))}\n        </li>\n      </ul>))}\n    </div>\n    <Link iconMd=\"material:more_horiz\" iconSize=\"30\" onClick={hidePanel} style={{display: 'inline-block', margin: '10px'}}/>\n  </Page>\n);\n","import React from 'react';\nimport api from 'api';\nimport { Page, Navbar, NavLeft, Block, Button, BlockTitle, List, ListItem, Icon, Toolbar, Link, Tabs, Tab } from 'framework7-react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {'name': ''};\n  }\n\n  async componentDidMount(props) {\n    api.globals.app = this.$f7;\n    window.tools.navigate = api.globals.app.views.main.router.navigate.bind(api.globals.app.views.main.router);\n    this.setState({'name': await window.models.env.user.browse(window.models.env.user.id.toString()).then((record) => record.name)});\n  }\n\n  render = (props) => (\n    <Page>\n      <Navbar>\n        <NavLeft className=\"user-link\">\n          <List>\n            <ListItem link=\"#\" title={this.state.name}>\n              <Icon material=\"person\"></Icon>\n            </ListItem>\n          </List>\n        </NavLeft>\n      </Navbar>\n      <Toolbar tabbar>\n        <Link tabLink=\"#notification\" tabLinkActive>Notifications</Link>\n        {/*<Link tabLink=\"#message\">Messages</Link>*/}\n      </Toolbar>\n      <Tabs>\n        <Tab id=\"notification\" className=\"page-content\" tabActive style={{paddingTop: '0px'}}>\n          <List mediaList style={{marginTop: '0px'}}>\n            <ListItem link=\"#\" title=\"Notification Title\" after=\"17:20\" text=\"Notification Text\"/>\n          </List>\n          <Button fill onClick={api.logout} style={{display: 'inline-block', margin: '10px'}}>Logout</Button>\n        </Tab>\n        {/*<Tab id=\"message\" className=\"page-content\">\n          <Block>\n            <p>Tab 2 content</p>\n            ...\n          </Block>\n        </Tab>*/}\n      </Tabs>\n      {/*<Block strong>\n        <p>Right panel content goes here</p>\n      </Block>\n      <BlockTitle>Load page in panel</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\"></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n      </List>\n      <BlockTitle>Load page in main view</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\" view=\"#main-view\" panelClose></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\" view=\"#main-view\" panelClose></ListItem>\n      </List>*/}\n    </Page>\n  )\n}\n","import HomePage from './components/pages/HomePage';\nimport AboutPage from './components/pages/AboutPage';\nimport TreePage from './components/pages/TreePage';\nimport FormPage from './components/pages/FormPage';\nimport CustomPage from './components/pages/CustomPage';\nimport NotFound from './components/pages/NotFound';\nimport PanelLeft from './components/pages/PanelLeft';\nimport PanelRight from './components/pages/PanelRight';\n\nconst routes = () => window.models ? [\n  {\n    path: '/',\n    component: HomePage,\n  },\n  {\n    path: '/panel-left/',\n    component: PanelLeft,\n  },\n  {\n    path: '/panel-right/',\n    component: PanelRight,\n  },\n  {\n    path: '/about/',\n    component: AboutPage,\n  },\n  {\n    path: '/tree/:model',\n    component: TreePage,\n  },\n  {\n    path: '/form/:model',\n    component: FormPage,\n  },\n  {\n    path: '/view/:view_id',\n    component: CustomPage,\n  },\n  {\n    path: '(.*)',\n    component: NotFound,\n  },\n] : [{path: '(.*)', component: HomePage}];\n\nexport default routes;\n","import React from 'react';\nimport {\n  App,\n  Panel,\n  View,\n  Statusbar,\n  Popup,\n  Page,\n  Navbar,\n  NavRight,\n  Link,\n  Block,\n  LoginScreen,\n  LoginScreenTitle,\n  List,\n  ListItem,\n  Label,\n  Input,\n  ListButton,\n  BlockFooter\n} from 'framework7-react';\n\nimport routes from '../routes';\n\n//import api from 'api';\n\nexport default function (props) {\n\n  // Framework7 parameters here\n  const f7params = {\n    id: 'org.rapyd.client', // App bundle ID\n    name: 'App', // App name\n    theme: 'md', // Automatic theme detection\n    // App routes\n    routes: routes(),\n    panel: {\n      leftBreakpoint: 960,\n    },\n  };\n\n  return (\n    <App params={f7params} colorTheme={(window.tools && window.tools.configuration.color_theme) ? (window.tools && window.tools.configuration.color_theme) : 'gray'}>\n      {/* Statusbar */}\n      <Statusbar />\n\n      { window.models !== undefined &&\n        <Panel left reveal>\n          <View url=\"/panel-left/\" />\n        </Panel>\n      }\n\n      { window.models !== undefined &&\n        <Panel right cover>\n          <View url=\"/panel-right/\"/>\n        </Panel>\n      }\n\n      {/* Main View */}\n      <View id=\"main-view\" url=\"/\" main className=\"ios-edges\" preloadPreviousPage={false} pushState/>\n\n      {/*\n      <Popup id=\"popup\">\n        <View>\n          <Page>\n            <Navbar title=\"Popup\">\n              <NavRight>\n                <Link popupClose>Close</Link>\n              </NavRight>\n            </Navbar>\n            <Block>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, architecto. Cupiditate laudantium rem nesciunt numquam, ipsam. Voluptates omnis, a inventore atque ratione aliquam. Omnis iusto nemo quos ullam obcaecati, quod.</Block>\n          </Page>\n        </View>\n      </Popup>*/}\n\n      {/* Login Screen */}\n      <LoginScreen id=\"login-screen\">\n        <View>\n          <Page loginScreen>\n            <LoginScreenTitle>Login</LoginScreenTitle>\n            <List form>\n              <ListItem>\n                <Label>Username</Label>\n                <Input name=\"username\" placeholder=\"Username\" type=\"text\"></Input>\n              </ListItem>\n              <ListItem>\n                <Label>Password</Label>\n                <Input name=\"password\" type=\"password\" placeholder=\"Password\"></Input>\n              </ListItem>\n            </List>\n            <List>\n              <ListButton title=\"Sign In\" loginScreenClose></ListButton>\n              <BlockFooter>\n                <p>Click Sign In to close Login Screen</p>\n              </BlockFooter>\n            </List>\n          </Page>\n        </View>\n      </LoginScreen>\n    </App>\n  );\n}\n","// Import React and ReactDOM\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Import Framework7\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n// Import Framework7-React plugin\nimport Framework7React from 'framework7-react';\n\nimport * as Framework7Components from 'framework7-react';\n\n// Import main App component\nimport App from './components/App.jsx';\n\nimport Page from './components/Page.jsx';\n\nimport Flatpickr from './components/Flatpickr.jsx';\n\n// Framework7 styles\nimport 'framework7/css/framework7.min.css';\n\n// Icons\nimport './css/icons.css';\n\n// Custom app styles\nimport './css/app.css';\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\n\nimport api from 'api';\n\nOfflinePluginRuntime.install();\n\n// Init Framework7-React plugin\nFramework7.use(Framework7React);\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nwindow.rapydComponents = {...Framework7Components, ...window.rapydComponents, Page, Flatpickr};\n\n// Mount React App\n(async () => {\n  await api.get_session();\n  await ReactDOM.render(\n    React.createElement(App),\n    document.getElementById('app'),\n  );\n  if (window.tools && window.tools.configuration.custom_navbar) {\n    var style = document.createElement('style');\n    style.innerHTML = '.navbar, .toolbar {background-color: ' + window.tools.configuration.custom_navbar + '!important}';\n    document.querySelector('head').append(style);\n  }\n  if (document.querySelector('div.navbar')) {\n    const color_element = document.createElement('meta');\n    color_element.name = 'theme-color';\n    color_element.content = '#' + getComputedStyle(document.querySelector('.navbar'), null).backgroundColor.replace('rgb(', '').replace(')', '').split(', ').map(function(c) {return parseInt(c).toString(16)}).map(function(hex) {return hex.length === 1 ? \"0\" + hex : hex}).join('');\n    document.querySelector('head').appendChild(color_element);\n  }\n})();\n","if (!window.ReactDOM) {\n  throw Error('ReactDOM must be defined on global variable');\n}\n\nmodule.exports = window.ReactDOM;\n"],"sourceRoot":""}