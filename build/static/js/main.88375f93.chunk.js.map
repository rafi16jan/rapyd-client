{"version":3,"sources":["react.js","api.js","components/pages/LoginPage.jsx","components/Page.jsx","components/Grid.jsx","components/Tree.jsx","components/Flatpickr.jsx","components/Field.jsx","components/pages/TreePage.jsx","components/Form.jsx","components/Header.jsx","components/Button.jsx","components/Sheet.jsx","components/Group.jsx","components/Footer.jsx","components/pages/FormPage.jsx","components/pages/HomePage.jsx","components/pages/AboutPage.jsx","components/pages/CustomPage.jsx","components/pages/NotFound.jsx","components/pages/PanelLeft.jsx","components/pages/PanelRight.jsx","routes.js","components/App.jsx","index.js","react-dom.js"],"names":["window","React","Error","module","exports","PouchDB","plugin","PouchFind","RelationalPouch","session_db","rapyd_config","localStorage","rapyd_server_url","url","location","protocol","hostname","port","locals","preload","root","document","getElementById","preloader","createElement","className","insertAdjacentHTML","backdrop","insertAdjacentElement","done","remove","_callee","session_object","new_session","regenerator_default","a","wrap","_context","prev","next","models","abrupt","tools","local_db","get","sent","login","password","encrypted","client_js_time","logout","reload","client_js","t0","console","log","ORM","t1","stop","this","_callee2","session","_context2","put","Object","objectSpread","_callee3","args","_context3","ajax","status","_rev","unsaved","_id","_callee4","_context4","destroy","wait_exist","fn","Promise","resolve","reject","interval","setInterval","clearInterval","_callee5","script","URL","blob","BlobBuilder","_context5","webkitURL","Blob","error","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","type","src","createObjectURL","body","appendChild","configuration","assign","env","context","user","browse","id","ajax_load","options","no_preload","ajax_resolve","xhr","response","ajax_reject","exceptionCount","exception","app","dialog","alert","warningCount","warning","offline","arguments","length","undefined","warn","toast","create","text","closeButton","closeTimeout","open","dataType","data","parseURI","XMLHttpRequest","onload","onerror","statusText","setRequestHeader","responseType","send","array","key","value","JSON","stringify","push","encodeURIComponent","join","api","get_session","update_session","hasValue","object","Array","String","indexOf","constructor","toString","hasKey","keys","_default","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","username","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","querySelectorAll","Symbol","iterator","addEventListener","clickEvent","bind","err","return","_this2","react_default","framework7_react_esm","noToolbar","noNavbar","noSwipeback","loginScreen","form","label","placeholder","onInput","e","setState","target","autofocus","onClick","signIn","style","float","marginLeft","setUrl","marginRight","event","preventDefault","keyCode","$f7","prompt","input","querySelector","load","self","success","Component","Page","backLinkForce","cache","parse","backLink","active_url","iconMd","panelOpen","title","children","height","main","rowSelection","paginationPageSize","pagination","enableColResize","enableServerSideSorting","enableServerSideFilter","suppressMultiSort","suppressRowClickSelection","onGridReady","onRowClicked","onPaginationChanged","onSortChanged","onFilterChanged","columnDefs","rowData","model","active_model","isEditable","isTreeView","editable","editing","handleOutside","refs","grid","base","contains","gridOptions","stopEditing","assertThisInitialized","fields","map","child","index","headerName","attributes","string","_fields","name","field","filterParams","applyButton","clearButton","onCellValueChanged","params","newValue","oldValue","active_lines","tree_field","find","new_records","values","_original_object_for_id","from","__iter__","record","colDef","checkboxSelection","headerCheckboxSelection","records","updated_records","limit","removeEventListener","rows","count","_search_count","pushed","unshift","active_sort","colId","sort","paginationGetCurrentPage","paginationGoToFirstPage","newData","paging","active_ids","conditions","operator","condition1","condition2","types","startsWith","endsWith","notContains","equals","notEqual","_i","condition","filter","active_args","_loop","setTimeout","getElementsByClassName","active_limit","active_index","_models$env$this$stat","search","apply","toConsumableArray","add","readOnlyError","read","paginate","t6","treeView","c","updateRowData","Grid_default","ref","onresize","columns","getWidthForSizeColsToFit","getAllDisplayedColumns","getWidthOfColsInList","sizeColumnsToFit","autoSizeAll","then","active_id","views","router","navigate","getSortModel","getFilterModel","addItem","display","top","pageCache","view","fill","customInput","clone","inline","flatpickr","cloneNode","onChange","readOnly","defaultDate","setDate","clear","_onChange2","asyncToGenerator","mark","_x","componentDidMount","set","_ref","_x2","customComponent","singleSelectInput","Templates","replace","singleSelectedItem","multipleSelectedItem","altvalue","$listEl","relation","_rec_name","dict","selection","date_input","selectivity","component","items","minimumInputLength","fetch","_x3","_x4","_x5","_fetch","selectivity_react","slot","multiple","setValue","allowClear","disabled","Flatpickr_default","enableTime","enableSeconds","char","integer","init","query","results","offset","with_context","term","d","more","finish","customComponents","Tree","Field","cachedViews","TreePage","f7route","tree","recurse","elements","components","element","tagName","toUpperCase","toLowerCase","slice","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","attribute","DOMParser","parseFromString","parseView","refresh","_name","operation","defineProperty","old_record","unlink","write","buttonStyle","width","margin-right","uploadStyle","margin","boxShadow","color","edit","upload","Header","backgroundColor","button","minHeight","marginTop","lastHeight","haveChild","group","previousElementSibling","clientHeight","parseInt","padding","rapydComponents","Form","Button","Sheet","Group","Footer","FormPage","parent_props","split","word","inverse","HomePage","LoginPage_default","home_view","mode","strong","link","raised","popupOpen","loginScreenOpen","AboutPage","back","CustomPage","view_id","NotFound","hide","hidePanel","panel","leftBreakpoint","left","initBreakpoints","PanelLeft","fontWeight","panelClose","menu","as_array","childs","href","data-view","child_menu","iconSize","render","material","tabbar","tabLink","tabLinkActive","tabActive","paddingTop","mediaList","after","routes","path","PanelRight","App","f7params","theme","colorTheme","color_theme","reveal","right","cover","pushState","popupClose","loginScreenClose","OfflinePluginRuntime","Framework7","use","Framework7React","ReactDOM","Framework7Components","Flatpickr","color_element","custom_navbar","innerHTML","content","getComputedStyle","hex"],"mappings":"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","file":"static/js/main.88375f93.chunk.js","sourcesContent":["if (!window.React) {\n  throw Error('React must be defined on global variable');\n}\n\nmodule.exports = window.React;\n","import PouchDB from 'pouchdb-browser';\nimport PouchFind from 'pouchdb-find';\nimport RelationalPouch from 'relational-pouch';\n\nPouchDB.plugin(PouchFind);\nPouchDB.plugin(RelationalPouch);\nwindow.PouchDB = PouchDB;\nwindow.session_db = new PouchDB('session');\n\nif (!window.rapyd_config) window.rapyd_config = {};\n\nif (!window.localStorage.rapyd_server_url) {\n  if (window.rapyd_config.url) {\n    window.localStorage.rapyd_server_url = window.rapyd_config.url;\n  }\n  else if (window.location.protocol === 'file:') {\n    window.localStorage.rapyd_server_url = 'http://localhost:8069';\n  }\n  else {\n    window.localStorage.rapyd_server_url = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : ':8069');\n  }\n}\n\nconst locals = {};\n\nfunction preload() {\n  const root = document.getElementById('app');\n  if (root) {\n    const preloader = document.createElement('div');\n    preloader.className = 'preloader-modal';\n    preloader.insertAdjacentHTML('beforeend',`\n    <div class=\"preloader color-white\">\n      <span class=\"preloader-inner\">\n        <span class=\"preloader-inner-gap\"></span>\n        <span class=\"preloader-inner-left\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n        <span class=\"preloader-inner-right\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n      </span>\n    </div>`);\n    const backdrop = document.createElement('div');\n    backdrop.className = 'preloader-backdrop';\n    root.insertAdjacentElement('beforeend', backdrop);\n    root.insertAdjacentElement('beforeend', preloader);\n    return {done: () => {\n      preloader.remove();\n      backdrop.remove();\n    }};\n  }\n}\n\nasync function get_session() {\n  const session_db = window.session_db;\n  if (window.models) {\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  try {\n    let session_object = await session_db.get('session');\n    try {\n      const new_session = await login({login: session_object.login, password: session_object.password, encrypted: true, client_js_time: session_object.client_js_time});\n      if (!new_session) {\n        await logout();\n        window.location.reload();\n      }\n      else if (!new_session.client_js) {\n        new_session.client_js = session_object.client_js;\n      }\n      session_object = new_session;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    await ORM(session_object);\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  catch(error) {\n    console.log(error);\n    return {};\n  }\n}\n\nasync function update_session(new_session) {\n  const session = await window.session_db.get('session');\n  return await window.session_db.put({...session, ...new_session});\n}\n\nasync function login(args) {\n  args.encrypted = args.encrypted ? true: false;\n  const session = await ajax('post', 'json', window.localStorage.rapyd_server_url + '/api/login', args);\n  console.log(session);\n  if (session.status === 'denied') {\n    return false;\n  }\n  else if (session.status === 'error') {\n    throw Error(\"There are an error on the server\");\n  }\n  try {\n    const session_object = await window.session_db.get('session');\n    session._rev = session_object._rev;\n    session.unsaved = session_object.unsaved;\n    session.client_js = session.client_js || session_object.client_js\n    session.client_js_time = session.client_js_time || session_object.client_js_time\n  }\n  catch(error) {\n    session.unsaved = {};\n  }\n  session._id = 'session';\n  await window.session_db.put(session);\n  return session;\n}\n\nasync function logout() {\n  try {\n    const session = await window.session_db.get('session');\n    await window.session_db.remove(session);\n  }\n  catch(error) {\n    console.log(error);\n  }\n  window.local_db.destroy();\n  return window.location.reload();\n}\n\nfunction wait_exist(fn) {\n  return new Promise((resolve, reject) => {\n    const clear = (id) => {\n      clearInterval(id);\n      resolve();\n    }\n    const interval = setInterval(() => {if (fn()) clear(interval)}, 0);\n  });\n}\n\nasync function ORM(session) {\n  //window.localStorage.rapyd_server_url = session.url;\n  // eslint-disable-next-line\n  //new Function(session.client_js)();\n  const script = document.createElement('script');\n  const URL = window.URL || window.webkitURL;\n  let blob;\n  try {\n    blob = new Blob([session.client_js]);\n  }\n  catch(error) {\n    const BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n    blob = BlobBuilder();\n    blob.append(session.client_js);\n    blob = blob.getBlob();\n  }\n  script.type = 'text/javascript';\n  script.src = URL.createObjectURL(blob);\n  /*script.text = '//<![CDATA[\\n';\n  script.text += session.client_js;\n  script.text += '\\n//]]>';*/\n  document.body.appendChild(script);\n  await wait_exist(() => window.models);\n  const tools = window.tools;\n  tools.configuration = Object.assign(tools.configuration, window.rapyd_config);\n  tools.configuration.url = window.localStorage.rapyd_server_url;\n  const models = window.models;\n  models.env.context.unsaved = session.unsaved || {};\n  models.env.user = models.env['res.users'].browse();\n  models.env.user.id = session.id;\n  models.env.user.login = session.login;\n  models.env.user.password = session.password;\n  /*for (let model in tools.view) {\n    const views = tools.view[model];\n    for (let mode in views) {\n      if (hasValue(['id', 'string', 'custom_init'], mode)) {\n        continue;\n      }\n      views[mode] = views[mode].replace(/([a-z]*-[a-z]*[/>\\s])|([a-z]*[/>\\s])/g, (string) => string.split('-').map((word) => word.slice(0, 1).toUpperCase() + word.slice(1)).join('')).replace(/>\\s+|\\s+</g, (s) => s.trim());\n    }\n  }*/\n  tools.configuration.ajax_load = (options) => {if (!options.no_preload) options.preload = preload()};\n  tools.configuration.ajax_resolve = (resolve, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    resolve(xhr.response);\n  }\n  tools.configuration.ajax_reject = (reject, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    reject(xhr);\n  }\n  locals.exceptionCount = 0;\n  tools.configuration.exception = (error) => {\n    /*if (locals.exceptionCount !== 0) return new Promise((resolve) => {\n      locals.exceptionCount = 0;\n      resolve(true);\n      throw error;\n    });*/\n    locals.app.dialog.alert('There are some error');\n    locals.exceptionCount += 1;\n    throw error;\n  }\n  locals.warningCount = 0;\n  tools.configuration.warning = (error, offline=false) => {\n    if (locals.warningCount !== 0) return new Promise((resolve) => {\n      locals.warningCount = 0;\n      resolve(true);\n      console.warn(error);\n    });\n    console.log(locals);\n    if (offline) locals.app.toast.create({text: 'You are offline, using local data', closeButton: true, closeTimeout: 1000}).open();\n    locals.warningCount += 1;\n    console.warn(error);\n  }\n}\n\nfunction ajax(type, dataType, url, data) {\n  if (data !== undefined || null || false) {\n    data = parseURI(data);\n  }\n  return new Promise(function(resolve, reject) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(type, url, true);\n    xhr.onload = function() {\n      resolve(this.response);\n    };\n    xhr.onerror = function() {\n      reject(this.statusText);\n    };\n    if (dataType === undefined) {\n      dataType = 'json';\n    }\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.responseType = dataType;\n    try {\n      xhr.send(data);\n    }\n    catch(error) {\n      reject(error);\n    }\n  });\n}\n\nfunction parseURI(data) {\n  const array = [];\n  for (let key in data) {\n    let value = data[key];\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n    else if (value === '') {\n      value = null;\n    }\n    array.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return array.join('&');\n}\n\nfunction hasKey(object, key) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  return Object.keys(object).indexOf(key) > -1;\n}\n\nfunction hasValue(object, value) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  if ([Array, String].indexOf(object.constructor) < 0) {\n    object = object.toString();\n  }\n  return object.indexOf(value) > -1;\n}\n\nexport default {locals, preload, get_session, update_session, wait_exist, login, logout, ORM, ajax, parseURI, hasValue, hasKey};\n","import React from 'react';\nimport {\n  Page,\n  LoginScreenTitle,\n  List,\n  ListInput,\n  //ListButton,\n  Button,\n} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  componentDidMount() {\n    for (let input of document.querySelectorAll('input[type=text], input[type=password]')) {\n      input.addEventListener('keyup', this.clickEvent.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Page noToolbar noNavbar noSwipeback loginScreen>\n        <LoginScreenTitle>Welcome</LoginScreenTitle>\n        <List form>\n          <ListInput\n            label=\"Username\"\n            type=\"text\"\n            placeholder=\"Your username\"\n            value={this.state.username}\n            onInput={(e) => {\n              this.setState({ username: e.target.value});\n            }}\n            autofocus\n          />\n          <ListInput\n            label=\"Password\"\n            type=\"password\"\n            placeholder=\"Your password\"\n            value={this.state.password}\n            onInput={(e) => {\n              this.setState({ password: e.target.value});\n            }}\n          />\n          <Button onClick={this.signIn.bind(this)} style={{float: 'left', marginLeft: '10px'}}>Login</Button>\n          <Button onClick={this.setUrl.bind(this)} style={{float: 'right', marginRight: '10px'}}>Settings</Button>\n        </List>\n      </Page>\n    )\n  }\n  clickEvent(event) {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.signIn();\n    }\n  }\n  setUrl() {\n    const app = this.$f7;\n    app.dialog.prompt('', 'Server URL', (url) => localStorage.rapyd_server_url = url);\n    const input = document.querySelector('input.dialog-input');\n    if (input) {\n      input.value = localStorage.rapyd_server_url;\n    }\n  }\n  async signIn() {\n    const load = api.preload();\n    const self = this;\n    const app = self.$f7;\n    //const router = self.$f7.router;\n    try {\n      const success = await api.login({login: self.state.username, password: self.state.password, encrypted: false});\n      load.done();\n      if (!success) {\n        return app.dialog.alert('Username/Password wrong, relogin');\n      }\n      app.dialog.alert('Login Successful!', () => {\n        window.location.reload();\n      });\n    }\n    catch(error) {\n      load.done();\n      app.dialog.alert('Network Error');\n      throw error;\n    }\n  }\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n} from 'framework7-react';\n\nexport default (props) => (\n  <Page>\n    <Navbar backLinkForce={props.cache ? !JSON.parse(props.cache) : true} backLink={window.models.env.context.active_url === '/' ? false : 'Back'}>\n      {window.models.env.context.active_url === '/' &&\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>}\n      <NavTitle>{props.title}</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    {props.children}\n  </Page>\n);\n","import React from 'react';\nimport {AgGridReact} from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\n\nexport default class extends React.Component {\n  render(props) {\n    return (\n      <div style={{height: '100%'}} className=\"ag-theme-material\">\n        <AgGridReact rowSelection=\"multiple\" paginationPageSize={props.paginationPageSize} pagination enableColResize enableServerSideSorting enableServerSideFilter  suppressMultiSort suppressRowClickSelection onGridReady={props.onGridReady} onRowClicked={props.onRowClicked} onPaginationChanged={props.onPaginationChanged} onSortChanged={props.onSortChanged} onFilterChanged={props.onFilterChanged} columnDefs={props.columnDefs} rowData={props.rowData}/>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport Grid from './Grid';\nimport {Button, Icon} from 'framework7-react';\nimport api from 'api';\n\nfunction autoSizeAll(gridOptions) {\n  this.gridOptions = gridOptions;\n  /*var allColumnIds = [];\n  let first = true;\n  gridOptions.columnApi.getAllColumns().forEach(function(column) {\n    if (first) {\n      first = false;\n      return;\n    }\n    allColumnIds.push(column.colId);\n  });*/\n  let grid = gridOptions.api\n  //let panel = grid['gridPanel'];\n  let availableWidth = grid['gridPanel'].getWidthForSizeColsToFit();\n  let columns = grid['gridPanel']['columnController'].getAllDisplayedColumns();\n  let usedWidth = grid['gridPanel']['columnController'].getWidthOfColsInList(columns);\n  //if (usedWidth < availableWidth) {\n  grid.sizeColumnsToFit();\n  //}\n  //gridOptions.api.sizeColumnsToFit();\n  //gridOptions.columnApi.autoSizeColumns(allColumnIds);\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const model = props.model || window.models.env.context.active_model;\n    const children = props.children.constructor === Array ? props.children : [props.children];\n    function isEditable() {\n      if (props.isTreeView && !props.editable) {\n        return false;\n      }\n      if (window.models.env.context.editing) {\n        return true;\n      }\n      return false;\n    }\n    this.isEditable = isEditable;\n    function onChange(params) {\n      if (params.newValue != params.oldValue) {\n        const value = params.newValue;\n        const record = params.data.id ? window.models.env.context.active_lines[this.state.model][this.state.tree_field].find(params.data.id) : this.state.new_records.values === params.data._original_object_for_id && this.state.new_records || Array.from(this.state.new_records.__iter__()).find((record) => record.values === params.data._original_object_for_id);\n        record[params.colDef.field] = value;\n      }\n    }\n    function handleOutside(event) {\n      if (this.refs.grid && !this.refs.grid.base.contains(event.target) && this.gridOptions) this.gridOptions.api.stopEditing();\n    }\n    this.handleOutside = handleOutside.bind(this);\n    const fields = children.map((child, index) => ({headerName: (() => child.attributes.string || window.models.env[model]._fields[child.attributes.name].string)(), field: child.attributes.name, filterParams: {applyButton: true, clearButton: true}, editable: isEditable, onCellValueChanged: onChange.bind(this)}));\n    fields[0].checkboxSelection = true;\n    fields[0].headerCheckboxSelection = true;\n    //fields[0].suppressSizeToFit = true;\n    const records = [];\n    this.state = {fields: fields, records: records, new_records: window.models.env[model], updated_records: {}, limit: 50, model: model};\n    if (props.field) {\n      this.state.tree_field = props.field;\n    }\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleOutside);\n  }\n\n  paginate(rows, index=0) {\n    if (rows.length < 1) {\n      return rows;\n    }\n    //rows = rows.concat(this.state.new_records)\n    const count = rows[0]._search_count;\n    if (index > 0) {\n      let pushed = 0;\n      while (pushed < this.state.limit * index) {\n        rows.unshift({});\n        pushed += 1;\n      }\n    }\n    while (rows.length < count) {\n      rows.push({});\n    }\n    return rows;\n  }\n\n  sort(fields, params) {\n    const models = window.models;\n    if (fields.length > 0) {\n      models.env.context.active_sort = fields[0].colId + ' ' + fields[0].sort;\n    }\n    else {\n      delete models.env.context.active_sort;\n    }\n    /*const load = api.preload();\n    try {\n      const args = [];\n      if (this.state.tree_field) {\n        args.push([this.state.tree_field, 'in', window.models.env.context.active_ids]);\n      }\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();*/\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  filter(fields, params) {\n    const models = window.models;\n    //const load = api.preload();\n    const args = this.state.tree_field ? [[this.state.tree_field, 'in', window.models.env.context.active_ids]] : [];\n    const values = [];\n    for (let field in fields) {\n      let conditions = [fields[field]];\n      let operator = 'AND';\n      if (fields[field].operator !== undefined) {\n        conditions = [fields[field].condition1, fields[field].condition2];\n        operator = fields[field].operator;\n      }\n      const types = {startsWith: 'ilike', endsWith: 'ilike', contains: 'ilike', notContains: 'not ilike', equals: '=', notEqual: '!='};\n      if (operator === 'OR') {\n        args.push('|');\n      }\n      for (let condition of conditions) {\n        /*if (operator === 'OR') {\n          args.push('|');\n        }*/\n        args.push([field, types[condition.type], condition.filter]);\n        values.push(condition.filter);\n      }\n    }\n    models.env.context.active_args = args;\n    /*try {\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }*/\n    let index = 0;\n    for (let input of window.document.getElementsByClassName('ag-filter-filter')) {\n      if (values[index] !== undefined) {\n        let value = values[index];\n        setTimeout(() => input.value = value, 1000);\n      }\n      index += 1;\n    }\n    //load.done();\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  async paging(index, params) {\n    if (params.newData !== false) {\n      return;\n    }\n    const load = api.preload();\n    try {\n      const models = window.models;\n      const args = models.env.context.active_args || (this.state.tree_field ? [[this.state.tree_field, 'in', window.models.env.context.active_ids || []]] : []);\n      models.env.context.active_limit = this.state.limit;\n      models.env.context.active_index = index;\n      const records = await models.env[this.state.model].search(...args);\n      if (!this.props.isTreeView) {\n        if (!models.env.context.active_lines) models.env.context.active_lines = {};\n        if (!models.env.context.active_lines[this.state.model]) models.env.context.active_lines[this.state.model] = {};\n        if (!models.env.context.active_lines[this.state.model][this.state.tree_field]) {\n          models.env.context.active_lines[this.state.model][this.state.tree_field] = records;\n        }\n        else {\n          records = models.env.context.active_lines[this.state.model][this.state.tree_field].add(records);\n        }\n      }\n      else {\n        console.log(records.length);\n        console.log(this.state.new_records.length);\n        records.add(this.state.new_records);\n      }\n      if (records.length > 0) {\n        this.setState({records: this.paginate(await records.read(true), index)})\n      }\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();\n  }\n\n  async addItem() {\n    if (!this.isEditable()) return;\n    const record = window.models.env[this.state.model].browse();\n    const values = await record.read(true);\n    this.state.new_records.add(record);\n    this.state.records.push(values[0]);\n    if (!this.props.treeView) window.models.env.context.active_lines[this.state.model][this.state.tree_field].add(record);\n    await this.setState({records: this.state.records, new_records: this.state.new_records});\n    window.c = this.state;\n    this.gridOptions.api.updateRowData({add: values});\n    //console.log(this.gridOptions.api.redrawRows());\n    //return this.paging.bind(this)(0, {});\n  }\n\n  render(props) {\n    const model = props.model || window.models.env.context.active_model;\n    const models = window.models;\n    const grid = (\n      <div className=\"card-body\" style={{height: this.state.records.length * 48 + 112 + (this.isEditable() ? 40 : 0) <= 440 ? this.state.records.length * 48 + 112 + (this.isEditable() ? 40 : 0) + 'px' : '67vh'}}>\n        <Grid ref=\"grid\" onGridReady={((params) => (window.onresize = () => autoSizeAll.bind(this)(params))()).bind(this)} onRowClicked={(params) => models.env[model].browse(params.data.id).then((record) => models.env.context.active_id = record).then(() => this.$f7.views.main.router.navigate('/form/' + model + '?id=' + params.data.id))} onPaginationChanged={(params) => this.paging.bind(this)(params.api.paginationGetCurrentPage(), params)} onSortChanged={(params) => this.sort.bind(this)(params.api.getSortModel(), params)} onFilterChanged={(params) => this.filter.bind(this)(params.api.getFilterModel(), params)} paginationPageSize={this.state.limit} columnDefs={this.state.fields} rowData={this.state.records}/>\n        {!props.isTreeView &&\n        <Button onClick={this.addItem.bind(this)} style={{display: 'inline-block', top: '-45px'}}>Add</Button>\n        //<Icon style={{color: '#4e4e4e', float: 'right', marginRight: '18px'}} material=\"add_circle\"/>\n        }\n      </div>\n    );\n    //delete grid.props.children[0].props.onRowClicked;\n    if (!props.isTreeView) {\n      delete grid.props.children[0].props.onRowClicked;\n      return grid;\n    }\n    return (\n      <Page pageCache={props.pageCache} title={window.tools.view[model].string}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <br/>\n              <Button onClick={() => this.$f7.views.main.router.navigate('/form/' + model)} style={{display: 'inline-block'}} fill>Create</Button>\n            </div>\n          </div>\n          {grid}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n  }*/\n\n  componentDidMount() {\n    console.log(this.props.customInput)\n    const clone = this.props.customInput || (!this.props.inline ? this.refs.flatpickr : this.refs.flatpickr.cloneNode(false));\n    if (!clone) return;\n    if (this.props.inline) {\n      clone.style.display = '';\n      this.refs.flatpickr.insertAdjacentElement('afterend', clone);\n    }\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value !== this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr = flatpickr(clone, {...this.props, onChange: async (value) => {await onChange(value); this.flatpickr.open()}});\n  }\n\n  componentDidUpdate() {\n    if (this.props.customInput) this.componentDidMount();\n    if (!this.flatpickr) return;\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value !== this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr.set('onChange', async (value) => {await onChange(value); this.flatpickr.open()});\n    this.flatpickr.setDate(this.props.defaultDate);\n  }\n\n  render(props) {\n    return props.customComponent || (\n      <input ref=\"flatpickr\" style={props.inline && {display: 'none'}}/>\n    );\n  }\n}\n","import React from 'react';\nimport {\n    List,\n    ListInput,\n} from 'framework7-react';\nimport {React as Selectivity, Templates} from 'selectivity/react';\nimport 'selectivity/styles/selectivity-react.css';\nimport Flatpickr from './Flatpickr';\nimport api from 'api';\n\n\nconst singleSelectInput = Templates.singleSelectInput;\nTemplates.singleSelectInput = (options) => singleSelectInput(options).replace('<i class=\"fa fa-sort-desc selectivity-caret\"></i>', '<i class=\"selectivity-caret material-icons\">expand_more</i>');\nconst singleSelectedItem = Templates.singleSelectedItem;\nTemplates.singleSelectedItem = (options) => singleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove material-icons\">close</i>');\nconst multipleSelectedItem = Templates.multipleSelectedItem;\nTemplates.multipleSelectedItem = (options) => multipleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove selectivity-multi-remove material-icons\">close</i>');\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n\n    this.props = props;\n  }*/\n\n  async setValue(value, altvalue) {\n    window.models.env.context.active_id[this.props.name] = value;\n    return await this.setState({value: altvalue || value});\n  }\n\n  async componentDidMount() {\n    //if (!window.models.env.context.active_id) window.models.env.context.active_id = window.models.env[window.models.env.context.active_model].browse();\n    await api.wait_exist(() => window.models.env.context.active_id);\n    const props = this.props;\n    const models = window.models;\n    const model = window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    const context = window.models.env.context;\n    const value = context.active_id && context.active_id[this.props.name];\n    if (this.refs.input) {\n      if (!api.hasValue(['text', 'data'], type)) {\n        this.refs.input.$listEl[0].querySelector('input').value = value;\n      }\n      else {\n        this.refs.input.$listEl[0].querySelector('textarea').value = type !== 'data' ? value : JSON.stringify(value);\n      }\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      if (!value) {\n        return this.setState({value: undefined});\n      }\n      const model = window.models.env.context.active_model;\n      const field = window.models.env[model]._fields[props.name];\n      const records = await models.env[field.relation].browse(value);\n      if (value.constructor === String) {\n        return this.setState({value: {id: records.id, text: records[records._rec_name || 'name']}});\n      }\n      else if (value.constructor === Array) {\n        return this.setState({value: Array.from(records.__iter__()).map((record) => ({id: record.id, text: record[record._rec_name || 'name']}))});\n      }\n    }\n    else if (type === 'selection') {\n      return this.setState({value: value && {id: value, text: window.tools.dict(field.selection)[value]}});\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      return this.setState({value, input: this.refs.date_input.$listEl[0].querySelector('input')});\n    }\n    else {\n      return this.setState({value});\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) this.refs.selectivity.selectivity.destroy();\n  }\n\n  render(props) {\n    const models = window.models;\n    const model = window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    if (!field) return;\n    const string = props.string || field.string;\n    const type = field.type;\n    const types = {char: 'text', text: 'textarea', float: 'number', integer: 'number', data: 'textarea'};\n    const context = window.models.env.context;\n    const refs = this.refs;\n\n    async function fetch(url, init, query) {\n      const limit = 10\n      models.env.context.active_limit = limit;\n      models.env.context.active_index = query.offset / limit;\n      const records = await models.env[field.relation].with_context({no_preload: true}).search([(models.env[field.relation]._rec_name || 'name'), 'ilike', query.term]);\n      const results = [];\n      window.d = refs.selectivity;\n      if (type === 'selection') return {results, more: false};\n      for (let record of records) {\n        results.push({id: record.id, text: record[record._rec_name || 'name']});\n      }\n      models.env.context.active_index = 0;\n      console.log((query.offset / limit + 1) * limit < records._search_count);\n      return {results: results, more: (query.offset / limit + 1) * limit < records._search_count};\n    }\n\n    if (api.hasValue(['many2many', 'one2many'], type) && props.children) {\n      return props.children;\n    }\n\n    let component;\n\n    if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one', 'selection'], type)) {\n      let ajax;\n      let items = null;\n      if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type)) {\n        ajax = {url: window.tools.configuration.url, minimumInputLength: 0, params: () => ({}), placeholder: '', fetch: fetch};\n      }\n      else if (type === 'selection') {\n        items = field.selection.map((selection) => ({id: selection[0], text: selection[1]}));\n      }\n      component = (\n        <ListInput label={string} input={false}>\n          <Selectivity ref=\"selectivity\" slot=\"input\" ajax={ajax} items={items} placeholder={props.placeholder || ''} readOnly={!context.editing} multiple={api.hasValue(['many2many', 'one2many'], type)} data={this.state.value} onChange={(event) => this.setValue(event.value, event.data)} allowClear/>\n        </ListInput>\n      );\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      const input = (\n        <ul>\n          <ListInput ref=\"date_input\" label={string} placeholder={props.placeholder || ''} disabled={!context.editing}/>\n        </ul>\n      );\n      component = (\n        <Flatpickr customComponent={input} customInput={this.state.input} enableTime={type === 'datetime' && true} enableSeconds={type === 'datetime' && true} defaultDate={this.state.value} onChange={(value) => this.setValue(value)}/>\n      );\n    }\n    else {\n      component = (\n        <ListInput ref=\"input\" label={string} type={types[type]} placeholder={props.placeholder || ''} disabled={!context.editing} onChange={(event) => this.setValue(event.target.value)}/>\n      );\n    }\n\n    return (\n      <List>\n        {component}\n      </List>\n    );\n  }\n}\n","import React from 'react';\n//import Parser from 'react-jsx-parser';\nimport Tree from '../Tree';\nimport Field from '../Field';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\n\nconst customComponents = {Tree, Field};\n\nfunction parseView(view, model) {\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements) {\n    let components = [];\n    for (let element of elements) {\n      const component = customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      props.isTreeView = true;\n      components.push(React.createElement(component, props, recurse(element.children)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  console.log(props);\n  let model = window.models.env.context.active_model;\n  if (props.f7route) {\n    model = props.f7route.params.model;\n    window.models.env.context.active_url = props.f7route.url;\n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  const view = window.tools.view[model].tree;\n  window.models.env.context.active_model = model;\n\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = evals(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  return cachedViews[view];\n\n  /*return (\n    <Parser components={{Tree}} jsx={view} renderInWrapper={false}/>\n  );*/\n}\n","import React from 'react';\nimport Page from './Page';\nimport {Button} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    //const model = window.models.env.context.active_model;\n    const models = window.models;\n    //const active_id = window.models.env.context.active_id || null;\n    models.env.context.editing = false;\n    //models.env.context.new_value = {};\n    this.state = models.env.context;//{editing: false, active_id: active_id};\n  }\n\n  async componentDidMount(props) {\n    const model = window.models.env.context.active_model;\n    const models = window.models;\n    if (!models.env.context.active_ids || models.env.context.active_ids.length < 1 || !models.env.context.active_ids[0]) {\n      models.env.context.active_id = models.env[model].browse();\n      models.env.context.editing = true;\n      this.setState(models.env.context);\n      return;\n    }\n    else if (!models.env.context.active_id) {\n      models.env.context.active_id = await models.env[model].browse(models.env.context.active_ids);\n    }\n    const refresh = () => this.setState({active_id: models.env.context.active_id});\n    models.env.context.refresh = refresh;\n    refresh()\n  }\n\n  async edit() {\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    const offline = this.props.offline ? JSON.parse(this.props.offline) : false;\n    if (!this.state.editing) {\n      models.env.context.editing = true;\n      return await this.setState({...models.env.context, offline});\n    }\n    const operation = models.env.context.active_id.id ? 'write' : 'create';\n    await models.env.context.active_id[operation]({}, !offline);\n    models.env.context.editing = false;\n    if (offline) models.env.context.unsaved = {...models.env.context.unsaved, [model]: {...(models.env.context.unsaved && models.env.context.unsaved[model]), [models.env.context.active_id.id]: models.env.context.active_id.id}};\n    await api.update_session({unsaved: models.env.context.unsaved});\n    return await this.setState({...models.env.context, offline});\n  }\n\n  async upload() {\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    let record = await models.env[model].browse(models.env.context.active_id.id);\n    if (record.length < 1) {\n      let old_record = record;\n      record = await record.create();\n      await old_record.unlink(false);\n      models.env.context.active_id = record;\n    }\n    else {\n      record = await models.env.context.active_id.write();\n      models.env.context.active_id = record;\n    }\n    if (models.env.context.unsaved && models.env.context.unsaved[model] && models.env.context.unsaved[model][record.id]) delete models.env.context.unsaved[model][record.id];\n    await api.update_session({unsaved: models.env.context.unsaved});\n    return await this.setState({...models.env.context, offline: false});\n  }\n\n  render(props) {\n    const model = window.models.env.context.active_model;\n    console.log(this.state);\n    //const models = window.models;\n    const buttonStyle = {width: 'auto', float: 'left', 'margin-right': '10px'};\n    const uploadStyle = {};\n    if (!this.state.offline) uploadStyle['display'] = 'none';\n    return (\n      <Page cache={props.cache} title={window.tools.view[model].string}>\n        <div className=\"card\" style={{margin: 0, boxShadow: 'none'}}>\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <span style={{color: '#666666'}}>{' / ' + (this.state.active_id && this.state.active_id.id ? this.state.active_id.name : 'New')}</span>\n              <div>\n                <Button onClick={this.edit.bind(this)} style={buttonStyle} fill>{this.state.editing ? 'Save' : 'Edit'}</Button>\n                <Button onClick={this.upload.bind(this)} style={{...buttonStyle, ...uploadStyle}} fill>{'Upload'}</Button>\n              </div>\n            </div>\n          </div>\n          {props.children}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n\nexport default (props) => (\n  <div style={{margin: 0, backgroundColor: '#8F8F8F'}}>\n    {props.children}\n  </div>\n)\n","import React from 'react';\nimport {\n    Button,\n} from 'framework7-react';\nimport api from 'api';\n\nasync function button(props) {\n  const load = api.preload();\n  if (props.name) {\n    try {\n      await window.models.env.context.active_id[props.name]();\n    }\n    catch(error) {\n      console.log(error);\n      load.done();\n    }\n  }\n  await window.models.env.context.refresh();\n  load.done();\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = window.models.env.context;\n  }\n\n  render(props) {\n    return (\n      <Button fill onClick={() => button.bind(this)(props)} style={{display: 'inline-block', margin: '10px'}}>{props.string}</Button>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{minHeight: '250px', marginTop: '20px'}}>\n        <div className=\"card-content form-sheet\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.lastHeight = 0.0;\n  }\n\n  componentDidMount(props) {\n    if (this.haveChild && this.refs.group.previousElementSibling === null) {\n      return;\n    }\n    const interval = setInterval(() => {\n      if (!this.refs.group || !this.refs.group.previousElementSibling) return clearInterval(interval);\n      const lastHeight = this.refs.group.previousElementSibling.clientHeight - 20;\n      if (lastHeight !== this.state.lastHeight) {\n        this.setState({lastHeight: lastHeight});\n      }\n    }, 500);\n  }\n\n  render(props) {\n    this.haveChild = props.children !== undefined;\n    if (props.width && props.width.slice(-1) === '%' && parseInt(props.width.slice(0, -1)) > 97) {\n      props.width = '97%';\n    }\n    return (\n      <div ref=\"group\" className=\"component-group\" style={{float: 'left', width: props.width || '46.5%', padding: '10px', marginTop: '20px', height: props.children ? 'auto' : this.state.lastHeight + 'px'}}>\n        {props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{margin: 0, boxShadow: 'none', padding: '20px', minHeight: '30%', marginTop: '30px'}}>\n        <div className=\"card-header\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  let model = window.models.env.context.active_model;\n  if (props.f7route) {\n    model = props.f7route.params.model;\n    window.models.env.context.active_url = props.f7route.url;     \n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  const id = props.f7route.query.id;\n  const view = window.tools.view[model].form;\n  window.models.env.context.active_model = model;\n  if (id) {\n    window.models.env.context.active_ids = [id];\n  }\n  else {\n    delete window.models.env.context.active_ids;\n  }\n  /*if (id) {\n    window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n  }*/\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  return cachedViews[view];\n\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n    Toolbar,\n    Block,\n    BlockTitle,\n    List,\n    ListItem,\n    Row,\n    Col,\n    Button\n} from 'framework7-react';\nimport LoginPage from './LoginPage';\nimport TreePage from './TreePage';\nimport FormPage from './FormPage';\n//import api from 'api';\n\nexport default function (props) {\n\n  if (window.models === undefined) {\n    return (<LoginPage/>);\n  }\n  else if (window.tools.configuration.home_view) {\n    const mode = window.tools.configuration.home_view.split('.').slice(-1)[0];\n    const model = window.tools.configuration.home_view.split('.').slice(0, -1).join('.');\n    window.models.env.context.active_model = model;\n    if (mode === 'tree') {\n      return (<TreePage/>);\n    }\n    else if (mode === 'form') {\n      return (<FormPage/>);\n    }\n  }\n\n  return (\n  <Page>\n    <Navbar>\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>\n      <NavTitle>Home</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    <Toolbar>\n      <Link>Left Link</Link>\n      <Link>Right Link</Link>\n    </Toolbar>\n    <Block strong>\n      <p>Here is your blank Framework7 app. Let's see what we have here.</p>\n    </Block>\n    <BlockTitle>Navigation</BlockTitle>\n    <List>\n      <ListItem link=\"/about/\" title=\"About\"></ListItem>\n      <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n    </List>\n    <BlockTitle>Modals</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised popupOpen=\"#popup\">Popup</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised loginScreenOpen=\"#login-screen\">Login Screen</Button>\n        </Col>\n      </Row>\n    </Block>\n    <BlockTitle>Panels</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"left\">Left Panel</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"right\">Right Panel</Button>\n        </Col>\n      </Row>\n    </Block>\n    <List>\n      <ListItem link=\"/dynamic-route/blog/45/post/125/?foo=bar#about\" title=\"Dynamic Route\"></ListItem>\n      <ListItem link=\"/load-something-that-doesnt-exist/\" title=\"Default Route (404)\"></ListItem>\n    </List>\n  </Page>\n  );\n}\n","import React from 'react';\nimport { Page, Navbar, Link, Block, BlockTitle } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"About\" backLink=\"Back\"></Navbar>\n    <BlockTitle>About My App</BlockTitle>\n    <Block strong>\n      <p>Here is About page!</p>\n      <p>You can go <Link back>back</Link>.</p>\n      <p>Mauris posuere sit amet metus id venenatis. Ut ante dolor, tempor nec commodo rutrum, varius at sem. Nullam ac nisi non neque ornare pretium. Nulla mauris mauris, consequat et elementum sit amet, egestas sed orci. In hac habitasse platea dictumst.</p>\n      <p>Fusce eros lectus, accumsan eget mi vel, iaculis tincidunt felis. Nulla tincidunt pharetra sagittis. Fusce in felis eros. Nulla sit amet aliquam lorem, et gravida ipsum. Mauris consectetur nisl non sollicitudin tristique. Praesent vitae metus ac quam rhoncus mattis vel et nisi. Aenean aliquet, felis quis dignissim iaculis, lectus quam tincidunt ligula, et venenatis turpis risus sed lorem. Morbi eu metus elit. Ut vel diam dolor.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  let model = window.models.env.context.active_model;\n  let mode;\n  if (props.f7route) {\n    const view_id = props.f7route.params.view_id.split('.');\n    model = view_id.slice(0, -1).join('.');\n    mode = view_id[view_id.length - 1];\n    window.models.env.context.active_url = props.f7route.url;\n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  //const id = props.f7route.query.id;\n  const view = window.tools.view[model][mode];\n  window.models.env.context.active_model = model;\n  //window.models.env.context.active_ids = [id];\n  /*if (id) {\n    window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n  }*/\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  return cachedViews[view];\n\n}\n","import React from 'react';\nimport { Page, Navbar, Block } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Not found\" backLink=\"Back\" />\n    <Block strong>\n      <p>Sorry</p>\n      <p>Requested content not found.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport {Page, Navbar, Link} from 'framework7-react';\n\nimport api from 'api';\n\nlet hide = false;\n\nfunction hidePanel() {\n  api.locals.app.params.panel.leftBreakpoint = hide ? 768 : 1000000;\n  api.locals.app.panel.left.initBreakpoints();\n  hide = !hide;\n}\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Menu\"/>\n    <div id=\"menu\" className=\"list list-block media-list chevron-center inset\" style={{fontWeight: 500}} panelClose>\n      {window.tools.keys(window.tools.menu, 'sequence').as_array().map((menu, index) => (\n      <ul>\n        <li className=\"accordion-item\">\n          <a className={'item-link item-content' + (window.tools.menu[menu].childs.length < 1 ? ' panel-close' : '')} href={window.tools.menu[menu].childs.length < 1 && '/' + (window.tools.menu[menu].view_id ? 'view' : 'tree') + '/' + (window.tools.menu[menu].view_id || window.tools.menu[menu].model)} data-view=\"#main-view\">\n            <div className=\"item-inner\">\n              <div className=\"item-title\">{window.tools.menu[menu].string}</div>\n            </div>\n          </a>\n          {window.tools.menu[menu].childs.as_array().map((child_menu, index) => (\n          <div className=\"accordion-item-content\">\n            <a className=\"item-content panel-close\" href={'/' + (child_menu.view_id ? 'view' : 'tree') + '/' + (child_menu.view_id || child_menu.model)} data-view=\"#main-view\">\n              <div className=\"item-inner\">\n                <div className=\"item-title\">{child_menu.string}</div>\n              </div>\n            </a>\n          </div>))}\n        </li>\n      </ul>))}\n    </div>\n    <Link iconMd=\"material:more_horiz\" iconSize=\"30\" onClick={hidePanel} style={{display: 'inline-block', margin: '10px'}}/>\n  </Page>\n);\n","import React from 'react';\nimport api from 'api';\nimport { Page, Navbar, NavLeft, Block, Button, BlockTitle, List, ListItem, Icon, Toolbar, Link, Tabs, Tab } from 'framework7-react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {'name': ''};\n  }\n\n  async componentDidMount(props) {\n    api.locals.app = this.$f7;\n    this.setState({'name': await window.models.env.user.browse(window.models.env.user.id.toString()).then((record) => record.name)});\n  }\n\n  render = (props) => (\n    <Page>\n      <Navbar>\n        <NavLeft className=\"user-link\">\n          <List>\n            <ListItem link=\"#\" title={this.state.name}>\n              <Icon material=\"person\"></Icon>\n            </ListItem>\n          </List>\n        </NavLeft>\n      </Navbar>\n      <Toolbar tabbar>\n        <Link tabLink=\"#notification\" tabLinkActive>Notifications</Link>\n        {/*<Link tabLink=\"#message\">Messages</Link>*/}\n      </Toolbar>\n      <Tabs>\n        <Tab id=\"notification\" className=\"page-content\" tabActive style={{paddingTop: '0px'}}>\n          <List mediaList style={{marginTop: '0px'}}>\n            <ListItem link=\"#\" title=\"Notification Title\" after=\"17:20\" text=\"Notification Text\"/>\n          </List>\n          <Button fill onClick={api.logout} style={{display: 'inline-block', margin: '10px'}}>Logout</Button>\n        </Tab>\n        {/*<Tab id=\"message\" className=\"page-content\">\n          <Block>\n            <p>Tab 2 content</p>\n            ...\n          </Block>\n        </Tab>*/}\n      </Tabs>\n      {/*<Block strong>\n        <p>Right panel content goes here</p>\n      </Block>\n      <BlockTitle>Load page in panel</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\"></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n      </List>\n      <BlockTitle>Load page in main view</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\" view=\"#main-view\" panelClose></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\" view=\"#main-view\" panelClose></ListItem>\n      </List>*/}\n    </Page>\n  )\n}\n","import HomePage from './components/pages/HomePage';\nimport AboutPage from './components/pages/AboutPage';\nimport TreePage from './components/pages/TreePage';\nimport FormPage from './components/pages/FormPage';\nimport CustomPage from './components/pages/CustomPage';\nimport NotFound from './components/pages/NotFound';\nimport PanelLeft from './components/pages/PanelLeft';\nimport PanelRight from './components/pages/PanelRight';\n\nconst routes = () => window.models ? [\n  {\n    path: '/',\n    component: HomePage,\n  },\n  {\n    path: '/panel-left/',\n    component: PanelLeft,\n  },\n  {\n    path: '/panel-right/',\n    component: PanelRight,\n  },\n  {\n    path: '/about/',\n    component: AboutPage,\n  },\n  {\n    path: '/tree/:model',\n    component: TreePage,\n  },\n  {\n    path: '/form/:model',\n    component: FormPage,\n  },\n  {\n    path: '/view/:view_id',\n    component: CustomPage,\n  },\n  {\n    path: '(.*)',\n    component: NotFound,\n  },\n] : [{path: '(.*)', component: HomePage}];\n\nexport default routes;\n","import React from 'react';\nimport {\n  App,\n  Panel,\n  View,\n  Statusbar,\n  Popup,\n  Page,\n  Navbar,\n  NavRight,\n  Link,\n  Block,\n  LoginScreen,\n  LoginScreenTitle,\n  List,\n  ListItem,\n  Label,\n  Input,\n  ListButton,\n  BlockFooter\n} from 'framework7-react';\n\nimport routes from '../routes';\n\n//import api from 'api';\n\nexport default function (props) {\n\n  // Framework7 parameters here\n  const f7params = {\n    id: 'org.rapyd.client', // App bundle ID\n    name: 'App', // App name\n    theme: 'md', // Automatic theme detection\n    // App routes\n    routes: routes(),\n    panel: {\n      leftBreakpoint: 960,\n    },\n  };\n\n  return (\n    <App params={f7params} colorTheme={(window.tools && window.tools.configuration.color_theme) ? (window.tools && window.tools.configuration.color_theme) : 'gray'}>\n      {/* Statusbar */}\n      <Statusbar />\n\n      { window.models !== undefined &&\n        <Panel left reveal>\n          <View url=\"/panel-left/\" />\n        </Panel>\n      }\n\n      { window.models !== undefined &&\n        <Panel right cover>\n          <View url=\"/panel-right/\"/>\n        </Panel>\n      }\n\n      {/* Main View */}\n      <View id=\"main-view\" url=\"/\" main className=\"ios-edges\" pushState/>\n\n      {/* Popup */}\n      <Popup id=\"popup\">\n        <View>\n          <Page>\n            <Navbar title=\"Popup\">\n              <NavRight>\n                <Link popupClose>Close</Link>\n              </NavRight>\n            </Navbar>\n            <Block>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, architecto. Cupiditate laudantium rem nesciunt numquam, ipsam. Voluptates omnis, a inventore atque ratione aliquam. Omnis iusto nemo quos ullam obcaecati, quod.</Block>\n          </Page>\n        </View>\n      </Popup>\n\n      {/* Login Screen */}\n      <LoginScreen id=\"login-screen\">\n        <View>\n          <Page loginScreen>\n            <LoginScreenTitle>Login</LoginScreenTitle>\n            <List form>\n              <ListItem>\n                <Label>Username</Label>\n                <Input name=\"username\" placeholder=\"Username\" type=\"text\"></Input>\n              </ListItem>\n              <ListItem>\n                <Label>Password</Label>\n                <Input name=\"password\" type=\"password\" placeholder=\"Password\"></Input>\n              </ListItem>\n            </List>\n            <List>\n              <ListButton title=\"Sign In\" loginScreenClose></ListButton>\n              <BlockFooter>\n                <p>Click Sign In to close Login Screen</p>\n              </BlockFooter>\n            </List>\n          </Page>\n        </View>\n      </LoginScreen>\n    </App>\n  );\n}\n","// Import React and ReactDOM\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Import Framework7\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n// Import Framework7-React plugin\nimport Framework7React from 'framework7-react';\n\nimport * as Framework7Components from 'framework7-react';\n\n// Import main App component\nimport App from './components/App.jsx';\n\nimport Page from './components/Page.jsx';\n\nimport Flatpickr from './components/Flatpickr.jsx';\n\n// Framework7 styles\nimport 'framework7/css/framework7.min.css';\n\n// Icons\nimport './css/icons.css';\n\n// Custom app styles\nimport './css/app.css';\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\n\nimport api from 'api';\n\nOfflinePluginRuntime.install();\n\n// Init Framework7-React plugin\nFramework7.use(Framework7React);\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nwindow.rapydComponents = {...Framework7Components, ...window.rapydComponents, Page, Flatpickr};\n\n// Mount React App\n(async () => {\n  await api.get_session();\n  await ReactDOM.render(\n    React.createElement(App),\n    document.getElementById('app'),\n  );\n  if (window.tools && window.tools.configuration.custom_navbar) {\n    var style = document.createElement('style');\n    style.innerHTML = '.navbar, .toolbar {background-color: ' + window.tools.configuration.custom_navbar + '!important}';\n    document.querySelector('head').append(style);\n  }\n  if (document.querySelector('div.navbar')) {\n    const color_element = document.createElement('meta');\n    color_element.name = 'theme-color';\n    color_element.content = '#' + getComputedStyle(document.querySelector('.navbar'), null).backgroundColor.replace('rgb(', '').replace(')', '').split(', ').map(function(c) {return parseInt(c).toString(16)}).map(function(hex) {return hex.length === 1 ? \"0\" + hex : hex}).join('');\n    document.querySelector('head').appendChild(color_element);\n  }\n})();\n","if (!window.ReactDOM) {\n  throw Error('ReactDOM must be defined on global variable');\n}\n\nmodule.exports = window.ReactDOM;\n"],"sourceRoot":""}