{"version":3,"sources":["react.js","api.js","components/pages/LoginPage.jsx","components/Page.jsx","components/Grid.jsx","components/Tree.jsx","components/Flatpickr.jsx","components/Field.jsx","components/pages/TreePage.jsx","components/Form.jsx","components/Header.jsx","components/Button.jsx","components/Sheet.jsx","components/Group.jsx","components/Footer.jsx","components/pages/FormPage.jsx","components/pages/CustomPage.jsx","components/pages/PanelLeft.jsx","routes.js","components/pages/HomePage.jsx","components/pages/PanelRight.jsx","components/pages/AboutPage.jsx","components/pages/NotFound.jsx","components/App.jsx","index.js","react-dom.js"],"names":["window","React","Error","module","exports","PouchDB","plugin","PouchFind","RelationalPouch","session_db","rapyd_config","localStorage","rapyd_server_url","url","location","protocol","hostname","port","locals","preload","root","document","getElementById","preloader","createElement","className","insertAdjacentHTML","backdrop","insertAdjacentElement","done","remove","_callee","session_object","new_session","regenerator_default","a","wrap","_context","prev","next","models","abrupt","tools","local_db","get","sent","login","password","encrypted","client_js_time","logout","reload","client_js","t0","console","log","ORM","t1","stop","this","_callee2","args","session","_context2","ajax","status","_rev","unsaved","_id","put","_callee3","_context3","destroy","wait_exist","fn","Promise","resolve","reject","interval","setInterval","clearInterval","_callee4","script","URL","blob","BlobBuilder","_context4","webkitURL","Blob","error","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","type","src","createObjectURL","body","appendChild","configuration","Object","assign","env","context","user","browse","id","ajax_load","options","no_preload","ajax_resolve","xhr","response","ajax_reject","exceptionCount","exception","app","dialog","alert","warningCount","warning","offline","arguments","length","undefined","warn","toast","create","text","closeButton","closeTimeout","open","dataType","data","parseURI","XMLHttpRequest","onload","onerror","statusText","setRequestHeader","responseType","send","array","key","value","JSON","stringify","push","encodeURIComponent","join","api","get_session","hasValue","object","Array","String","indexOf","constructor","toString","hasKey","keys","_default","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","username","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","querySelectorAll","Symbol","iterator","addEventListener","clickEvent","bind","err","return","_this2","react_default","framework7_react_esm","noToolbar","noNavbar","noSwipeback","loginScreen","form","label","placeholder","onInput","e","setState","target","autofocus","onClick","signIn","style","float","marginLeft","setUrl","marginRight","event","preventDefault","keyCode","$f7","prompt","input","querySelector","load","self","success","Component","Page","backLink","active_url","iconMd","panelOpen","title","children","height","main","rowSelection","paginationPageSize","pagination","enableColResize","enableServerSideSorting","enableServerSideFilter","suppressMultiSort","suppressRowClickSelection","onGridReady","onRowClicked","onPaginationChanged","onSortChanged","onFilterChanged","columnDefs","rowData","model","active_model","isEditable","isTreeView","editable","editing","fields","map","child","index","headerName","attributes","string","_fields","name","field","filterParams","applyButton","clearButton","checkboxSelection","headerCheckboxSelection","records","limit","tree_field","rows","count","_search_count","pushed","unshift","params","active_sort","colId","sort","paginationGetCurrentPage","paginationGoToFirstPage","newData","paging","active_ids","values","conditions","operator","condition1","condition2","types","startsWith","endsWith","contains","notContains","equals","notEqual","_i","condition","filter","active_args","_loop","setTimeout","getElementsByClassName","active_limit","active_index","_models$env$this$stat","search","apply","toConsumableArray","paginate","grid","Grid_default","onresize","gridOptions","availableWidth","getWidthForSizeColsToFit","columns","getAllDisplayedColumns","getWidthOfColsInList","sizeColumnsToFit","autoSizeAll","then","record","active_id","router","navigate","getSortModel","getFilterModel","view","display","fill","customInput","clone","inline","refs","flatpickr","cloneNode","onChange","readOnly","defaultDate","setDate","clear","objectSpread","_onChange2","asyncToGenerator","mark","_x","componentDidMount","set","_ref","_x2","customComponent","ref","$listEl","relation","_rec_name","date_input","component","_fetch","init","query","results","offset","term","finish","more","selectivity_react","minimumInputLength","fetch","_x3","_x4","multiple","defaultValue","allowClear","disabled","Flatpickr_default","enableTime","enableSeconds","_this$setValue","setValue","defineProperty","char","integer","customComponents","Tree","Field","cachedViews","TreePage","f7route","tree","recurse","elements","components","element","tagName","toUpperCase","toLowerCase","slice","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","attribute","DOMParser","parseFromString","parseView","refresh","margin","boxShadow","color","edit","width","Header","backgroundColor","button","minHeight","marginTop","lastHeight","haveChild","group","previousElementSibling","clientHeight","parseInt","padding","rapydComponents","Form","Button","Sheet","Group","Footer","FormPage","parent_props","split","word","inverse","hide","hidePanel","panel","leftBreakpoint","left","initBreakpoints","routes","path","LoginPage_default","home_view","mode","strong","link","raised","popupOpen","loginScreenOpen","fontWeight","panelClose","menu","as_array","childs","href","view_id","data-view","child_menu","iconSize","render","material","tabbar","tabLink","tabLinkActive","tabActive","paddingTop","mediaList","after","back","App","f7params","theme","colorTheme","color_theme","reveal","right","cover","pushState","popupClose","loginScreenClose","OfflinePluginRuntime","Framework7","use","Framework7React","ReactDOM","Framework7Components","Flatpickr","color_element","custom_navbar","innerHTML","content","getComputedStyle","replace","c","hex"],"mappings":"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","file":"static/js/main.bf597303.chunk.js","sourcesContent":["if (!window.React) {\n  throw Error('React must be defined on global variable');\n}\n\nmodule.exports = window.React;\n","import PouchDB from 'pouchdb-browser';\nimport PouchFind from 'pouchdb-find';\nimport RelationalPouch from 'relational-pouch';\n\nPouchDB.plugin(PouchFind);\nPouchDB.plugin(RelationalPouch);\nwindow.PouchDB = PouchDB;\nwindow.session_db = new PouchDB('session');\n\nif (!window.rapyd_config) window.rapyd_config = {};\n\nif (!window.localStorage.rapyd_server_url) {\n  if (window.rapyd_config.url) {\n    window.localStorage.rapyd_server_url = window.rapyd_config.url;\n  }\n  else if (window.location.protocol === 'file:') {\n    window.localStorage.rapyd_server_url = 'http://localhost:8069';\n  }\n  else {\n    window.localStorage.rapyd_server_url = window.location.protocol + '//' + window.location.hostname + (window.location.port ? ':' + window.location.port : ':8069');\n  }\n}\n\nconst locals = {};\n\nfunction preload() {\n  const root = document.getElementById('app');\n  if (root) {\n    const preloader = document.createElement('div');\n    preloader.className = 'preloader-modal';\n    preloader.insertAdjacentHTML('beforeend',`\n    <div class=\"preloader color-white\">\n      <span class=\"preloader-inner\">\n        <span class=\"preloader-inner-gap\"></span>\n        <span class=\"preloader-inner-left\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n        <span class=\"preloader-inner-right\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n      </span>\n    </div>`);\n    const backdrop = document.createElement('div');\n    backdrop.className = 'preloader-backdrop';\n    root.insertAdjacentElement('beforeend', backdrop);\n    root.insertAdjacentElement('beforeend', preloader);\n    return {done: () => {\n      preloader.remove();\n      backdrop.remove();\n    }};\n  }\n}\n\nasync function get_session() {\n  const session_db = window.session_db;\n  if (window.models) {\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  try {\n    let session_object = await session_db.get('session');\n    try {\n      const new_session = await login({login: session_object.login, password: session_object.password, encrypted: true, client_js_time: session_object.client_js_time});\n      if (!new_session) {\n        await logout();\n        window.location.reload();\n      }\n      else if (!new_session.client_js) {\n        new_session.client_js = session_object.client_js;\n      }\n      session_object = new_session;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    await ORM(session_object);\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  catch(error) {\n    console.log(error);\n    return {};\n  }\n}\n\nasync function login(args) {\n  args.encrypted = args.encrypted ? true: false;\n  const session = await ajax('post', 'json', window.localStorage.rapyd_server_url + '/api/login', args);\n  if (session.status === 'denied') {\n    return false;\n  }\n  else if (session.status === 'error') {\n    throw Error(\"There are an error on the server\");\n  }\n  try {\n    const session_object = await window.session_db.get('session');\n    session._rev = session_object._rev;\n    session.unsaved = session_object.unsaved;\n    session.client_js = session.client_js || session_object.client_js\n    session.client_js_time = session.client_js_time || session_object.client_js_time\n  }\n  catch(error) {\n    session.unsaved = {};\n  }\n  session._id = 'session';\n  await window.session_db.put(session);\n  return session;\n}\n\nasync function logout() {\n  try {\n    const session = await window.session_db.get('session');\n    await window.session_db.remove(session);\n  }\n  catch(error) {\n    console.log(error);\n  }\n  window.local_db.destroy();\n  return window.location.reload();\n}\n\nfunction wait_exist(fn) {\n  return new Promise((resolve, reject) => {\n    const clear = (id) => {\n      clearInterval(id);\n      resolve();\n    }\n    const interval = setInterval(() => {if (fn()) clear(interval)}, 0);\n  });\n}\n\nasync function ORM(session) {\n  //window.localStorage.rapyd_server_url = session.url;\n  // eslint-disable-next-line\n  //new Function(session.client_js)();\n  const script = document.createElement('script');\n  const URL = window.URL || window.webkitURL;\n  let blob;\n  try {\n    blob = new Blob([session.client_js]);\n  }\n  catch(error) {\n    const BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n    blob = BlobBuilder();\n    blob.append(session.client_js);\n    blob = blob.getBlob();\n  }\n  script.type = 'text/javascript';\n  script.src = URL.createObjectURL(blob);\n  /*script.text = '//<![CDATA[\\n';\n  script.text += session.client_js;\n  script.text += '\\n//]]>';*/\n  document.body.appendChild(script);\n  await wait_exist(() => window.models);\n  const tools = window.tools;\n  tools.configuration = Object.assign(tools.configuration, window.rapyd_config);\n  tools.configuration.url = window.localStorage.rapyd_server_url;\n  const models = window.models;\n  models.env.context.unsaved = session.unsaved || {};\n  models.env.user = models.env['res.users'].browse();\n  models.env.user.id = session.id;\n  models.env.user.login = session.login;\n  models.env.user.password = session.password;\n  /*for (let model in tools.view) {\n    const views = tools.view[model];\n    for (let mode in views) {\n      if (hasValue(['id', 'string', 'custom_init'], mode)) {\n        continue;\n      }\n      views[mode] = views[mode].replace(/([a-z]*-[a-z]*[/>\\s])|([a-z]*[/>\\s])/g, (string) => string.split('-').map((word) => word.slice(0, 1).toUpperCase() + word.slice(1)).join('')).replace(/>\\s+|\\s+</g, (s) => s.trim());\n    }\n  }*/\n  tools.configuration.ajax_load = (options) => {if (!options.no_preload) options.preload = preload()};\n  tools.configuration.ajax_resolve = (resolve, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    resolve(xhr.response);\n  }\n  tools.configuration.ajax_reject = (reject, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    reject(xhr);\n  }\n  locals.exceptionCount = 0;\n  tools.configuration.exception = (error) => {\n    /*if (locals.exceptionCount !== 0) return new Promise((resolve) => {\n      locals.exceptionCount = 0;\n      resolve(true);\n      throw error;\n    });*/\n    locals.app.dialog.alert('There are some error');\n    locals.exceptionCount += 1;\n    throw error;\n  }\n  locals.warningCount = 0;\n  tools.configuration.warning = (error, offline=false) => {\n    if (locals.warningCount !== 0) return new Promise((resolve) => {\n      locals.warningCount = 0;\n      resolve(true);\n      console.warn(error);\n    });\n    console.log(locals);\n    if (offline) locals.app.toast.create({text: 'You are offline, using local data', closeButton: true, closeTimeout: 1000}).open();\n    locals.warningCount += 1;\n    console.warn(error);\n  }\n}\n\nfunction ajax(type, dataType, url, data) {\n  if (data !== undefined || null || false) {\n    data = parseURI(data);\n  }\n  return new Promise(function(resolve, reject) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(type, url, true);\n    xhr.onload = function() {\n      resolve(this.response);\n    };\n    xhr.onerror = function() {\n      reject(this.statusText);\n    };\n    if (dataType === undefined) {\n      dataType = 'json';\n    }\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.responseType = dataType;\n    try {\n      xhr.send(data);\n    }\n    catch(error) {\n      reject(error);\n    }\n  });\n}\n\nfunction parseURI(data) {\n  const array = [];\n  for (let key in data) {\n    let value = data[key];\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n    else if (value === '') {\n      value = null;\n    }\n    array.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return array.join('&');\n}\n\nfunction hasKey(object, key) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  return Object.keys(object).indexOf(key) > -1;\n}\n\nfunction hasValue(object, value) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  if ([Array, String].indexOf(object.constructor) < 0) {\n    object = object.toString();\n  }\n  return object.indexOf(value) > -1;\n}\n\nexport default {locals, preload, get_session, wait_exist, login, logout, ORM, ajax, parseURI, hasValue, hasKey};\n","import React from 'react';\nimport {\n  Page,\n  LoginScreenTitle,\n  List,\n  ListInput,\n  //ListButton,\n  Button,\n} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  componentDidMount() {\n    for (let input of document.querySelectorAll('input[type=text], input[type=password]')) {\n      input.addEventListener('keyup', this.clickEvent.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Page noToolbar noNavbar noSwipeback loginScreen>\n        <LoginScreenTitle>Welcome</LoginScreenTitle>\n        <List form>\n          <ListInput\n            label=\"Username\"\n            type=\"text\"\n            placeholder=\"Your username\"\n            value={this.state.username}\n            onInput={(e) => {\n              this.setState({ username: e.target.value});\n            }}\n            autofocus\n          />\n          <ListInput\n            label=\"Password\"\n            type=\"password\"\n            placeholder=\"Your password\"\n            value={this.state.password}\n            onInput={(e) => {\n              this.setState({ password: e.target.value});\n            }}\n          />\n          <Button onClick={this.signIn.bind(this)} style={{float: 'left', marginLeft: '10px'}}>Login</Button>\n          <Button onClick={this.setUrl.bind(this)} style={{float: 'right', marginRight: '10px'}}>Settings</Button>\n        </List>\n      </Page>\n    )\n  }\n  clickEvent(event) {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.signIn();\n    }\n  }\n  setUrl() {\n    const app = this.$f7;\n    app.dialog.prompt('', 'Server URL', (url) => localStorage.rapyd_server_url = url);\n    const input = document.querySelector('input.dialog-input');\n    if (input) {\n      input.value = localStorage.rapyd_server_url;\n    }\n  }\n  async signIn() {\n    const load = api.preload();\n    const self = this;\n    const app = self.$f7;\n    //const router = self.$f7.router;\n    try {\n      const success = await api.login({login: self.state.username, password: self.state.password, encrypted: false});\n      load.done();\n      if (!success) {\n        return app.dialog.alert('Username/Password wrong, relogin');\n      }\n      app.dialog.alert('Login Successful!', () => {\n        window.location.reload();\n      });\n    }\n    catch(error) {\n      load.done();\n      app.dialog.alert('Network Error');\n      throw error;\n    }\n  }\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n} from 'framework7-react';\n\nexport default (props) => (\n  <Page>\n    <Navbar backLink={window.models.env.context.active_url === '/' ? false : 'Back'}>\n      {window.models.env.context.active_url === '/' &&\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>}\n      <NavTitle>{props.title}</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    {props.children}\n  </Page>\n);\n","import React from 'react';\nimport {AgGridReact} from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\n\nexport default class extends React.Component {\n  render(props) {\n    return (\n      <div style={{height: '100%'}} className=\"ag-theme-material\">\n        <AgGridReact rowSelection=\"multiple\" paginationPageSize={props.paginationPageSize} pagination enableColResize enableServerSideSorting enableServerSideFilter  suppressMultiSort suppressRowClickSelection onGridReady={props.onGridReady} onRowClicked={props.onRowClicked} onPaginationChanged={props.onPaginationChanged} onSortChanged={props.onSortChanged} onFilterChanged={props.onFilterChanged} columnDefs={props.columnDefs} rowData={props.rowData}/>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport Grid from './Grid';\nimport {Button} from 'framework7-react';\nimport api from 'api';\n\nfunction autoSizeAll(gridOptions) {\n  /*var allColumnIds = [];\n  let first = true;\n  gridOptions.columnApi.getAllColumns().forEach(function(column) {\n    if (first) {\n      first = false;\n      return;\n    }\n    allColumnIds.push(column.colId);\n  });*/\n  let grid = gridOptions.api\n  //let panel = grid['gridPanel'];\n  let availableWidth = grid['gridPanel'].getWidthForSizeColsToFit();\n  let columns = grid['gridPanel']['columnController'].getAllDisplayedColumns();\n  let usedWidth = grid['gridPanel']['columnController'].getWidthOfColsInList(columns);\n  if (usedWidth < availableWidth) {\n    grid.sizeColumnsToFit();\n  }\n  //gridOptions.api.sizeColumnsToFit();\n  //gridOptions.columnApi.autoSizeColumns(allColumnIds);\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const model = props.model || window.models.env.context.active_model;\n    const children = props.children.constructor === Array ? props.children : [props.children];\n    function isEditable() {\n      if (props.isTreeView && !props.editable) {\n        return false;\n      }\n      if (window.models.env.context.editing) {\n        return true;\n      }\n      return false;\n    }\n    const fields = children.map((child, index) => ({headerName: (() => child.attributes.string || window.models.env[model]._fields[child.attributes.name].string)(), field: child.attributes.name, filterParams: {applyButton: true, clearButton: true}, editable: isEditable}));\n    fields[0].checkboxSelection = true;\n    fields[0].headerCheckboxSelection = true;\n    //fields[0].suppressSizeToFit = true;\n    const records = [];\n    this.state = {fields: fields, records: records, limit: 50, model: model};\n    if (props.field) {\n      this.state.tree_field = props.field;\n    }\n  }\n\n  paginate(rows, index=0) {\n    if (rows.length < 1) {\n      return rows;\n    }\n    const count = rows[0]._search_count;\n    if (index > 0) {\n      let pushed = 0;\n      while (pushed < this.state.limit * index) {\n        rows.unshift({});\n        pushed += 1;\n      }\n    }\n    while (rows.length < count) {\n      rows.push({});\n    }\n    return rows;\n  }\n\n  sort(fields, params) {\n    const models = window.models;\n    if (fields.length > 0) {\n      models.env.context.active_sort = fields[0].colId + ' ' + fields[0].sort;\n    }\n    else {\n      delete models.env.context.active_sort;\n    }\n    /*const load = api.preload();\n    try {\n      const args = [];\n      if (this.state.tree_field) {\n        args.push([this.state.tree_field, 'in', window.models.env.context.active_ids]);\n      }\n      const records = await models.env[models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();*/\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  filter(fields, params) {\n    const models = window.models;\n    //const load = api.preload();\n    const args = this.state.tree_field ? [[this.state.tree_field, 'in', window.models.env.context.active_ids]] : [];\n    const values = [];\n    for (let field in fields) {\n      let conditions = [fields[field]];\n      let operator = 'AND';\n      if (fields[field].operator !== undefined) {\n        conditions = [fields[field].condition1, fields[field].condition2];\n        operator = fields[field].operator;\n      }\n      const types = {startsWith: 'ilike', endsWith: 'ilike', contains: 'ilike', notContains: 'not ilike', equals: '=', notEqual: '!='};\n      if (operator === 'OR') {\n        args.push('|');\n      }\n      for (let condition of conditions) {\n        /*if (operator === 'OR') {\n          args.push('|');\n        }*/\n        args.push([field, types[condition.type], condition.filter]);\n        values.push(condition.filter);\n      }\n    }\n    models.env.context.active_args = args;\n    /*try {\n      const records = await models.env[models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }*/\n    let index = 0;\n    for (let input of window.document.getElementsByClassName('ag-filter-filter')) {\n      if (values[index] !== undefined) {\n        let value = values[index];\n        setTimeout(() => input.value = value, 1000);\n      }\n      index += 1;\n    }\n    //load.done();\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  async paging(index, params) {\n    if (params.newData !== false) {\n      return;\n    }\n    const load = api.preload();\n    try {\n      const models = window.models;\n      const args = models.env.context.active_args || (this.state.tree_field ? [[this.state.tree_field, 'in', window.models.env.context.active_ids]] : []);\n      models.env.context.active_limit = this.state.limit;\n      models.env.context.active_index = index;\n      const records = await models.env[this.state.model].search(...args);\n      if (records.length > 0) {\n        this.setState({records: this.paginate(records.values.constructor === Array ? records.values : [records.values], index)})\n      }\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();\n  }\n\n  render(props) {\n    const model = props.model || window.models.env.context.active_model;\n    const models = window.models;\n    const grid = (\n      <div className=\"card-body\" style={{height: this.state.records.length * 48 + 112 <= 440 ? this.state.records.length * 48 + 112 + 'px' : '67vh'}}>\n        <Grid onGridReady={(params) => (window.onresize = () => autoSizeAll(params))()} onRowClicked={(params) => models.env[model].browse([]).then((record) => models.env.context.active_id = models.env[model].browse()).then(() => models.env.context.active_id.values = params.data).then(() => this.$f7.router.navigate('/form/' + model + '?id=' + params.data.id))} onPaginationChanged={(params) => this.paging.bind(this)(params.api.paginationGetCurrentPage(), params)} onSortChanged={(params) => this.sort.bind(this)(params.api.getSortModel(), params)} onFilterChanged={(params) => this.filter.bind(this)(params.api.getFilterModel(), params)} paginationPageSize={this.state.limit} columnDefs={this.state.fields} rowData={this.state.records}/>\n      </div>\n    );\n    //delete grid.props.children[0].props.onRowClicked;\n    if (!props.isTreeView) {\n      delete grid.props.children[0].props.onRowClicked;\n      return grid;\n    }\n    return (\n      <Page title={window.tools.view[model].string}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <br/>\n              <Button onClick={() => this.$f7.router.navigate('/form/' + model)} style={{display: 'inline-block'}} fill>Create</Button>\n            </div>\n          </div>\n          {grid}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n  }*/\n\n  componentDidMount() {\n    console.log(this.props.customInput)\n    const clone = this.props.customInput || (!this.props.inline ? this.refs.flatpickr : this.refs.flatpickr.cloneNode(false));\n    if (!clone) return;\n    if (this.props.inline) {\n      clone.style.display = '';\n      this.refs.flatpickr.insertAdjacentElement('afterend', clone);\n    }\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value != this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr = flatpickr(clone, {...this.props, onChange: async (value) => {await onChange(value); this.flatpickr.open()}});\n  }\n\n  componentDidUpdate() {\n    if (this.props.customInput) this.componentDidMount();\n    if (!this.flatpickr) return;\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = (value) => value != this.props.defaultDate && (this.props.defaultDate ? this.flatpickr.setDate(this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr.set('onChange', async (value) => {await onChange(value); this.flatpickr.open()});\n    this.flatpickr.setDate(this.props.defaultDate);\n  }\n\n  render(props) {\n    return props.customComponent || (\n      <input ref=\"flatpickr\" style={props.inline && {display: 'none'}}/>\n    );\n  }\n}\n","import React from 'react';\nimport {\n    List,\n    ListInput,\n} from 'framework7-react';\nimport {React as Selectivity} from 'selectivity/react';\nimport Flatpickr from './Flatpickr';\nimport api from 'api';\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n\n    this.props = props;\n  }*/\n\n  async setValue(values) {\n    for (let key in values) {\n      window.models.env.context.active_id[key] = values[key];\n    }\n    return await this.setState(values);\n  }\n\n  async componentDidMount() {\n    //if (!window.models.env.context.active_id) window.models.env.context.active_id = window.models.env[window.models.env.context.active_model].browse();\n    await api.wait_exist(() => window.models.env.context.active_id);\n    const props = this.props;\n    const models = window.models;\n    const model = window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    const context = window.models.env.context;\n    const value = context.active_id && context.active_id[this.props.name];\n    if (this.refs.input) {\n      if (!api.hasValue(['text', 'data'], type)) {\n        this.refs.input.$listEl[0].querySelector('input').value = value;\n      }\n      else {\n        this.refs.input.$listEl[0].querySelector('textarea').value = type !== 'data' ? value : JSON.stringify(value);\n      }\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      if (!value) {\n        return this.setState({value: undefined});\n      }\n      const model = window.models.env.context.active_model;\n      const field = window.models.env[model]._fields[props.name];\n      const records = await models.env[field.relation].browse(value);\n      if (value.constructor === String) {\n        return this.setState({value: {id: records.id, text: records[records._rec_name || 'name']}});\n      }\n      else if (value.constructor === Array) {\n        return this.setState({value: records.values.map((record) => ({id: record.id, text: record[record._rec_name || 'name']}))});\n      }\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      return this.setState({value, input: this.refs.date_input.$listEl[0].querySelector('input')});\n    }\n  }\n\n  render(props) {\n    const models = window.models;\n    const model = window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const string = props.string || field.string;\n    const type = field.type;\n    const types = {char: 'text', text: 'textarea', float: 'number', integer: 'number', data: 'textarea'};\n    const context = window.models.env.context;\n\n    async function fetch(url, init, query) {\n      const limit = 10\n      models.env.context.active_limit = limit;\n      models.env.context.active_index = query.offset / limit;\n      const records = await models.env[field.relation].search([(models.env[field.relation]._rec_name || 'name'), 'ilike', query.term]);\n      const results = [];\n      for (let record of records) {\n        results.push({id: record.id, text: record[record._rec_name || 'name']});\n      }\n      models.env.context.active_index = 0;\n      return {results: results, more: (query.offset / limit + 1) * limit < records._search_count};\n    }\n\n    if (api.hasValue(['many2many', 'one2many'], type) && props.children) {\n      return props.children;\n    }\n\n    let component;\n\n    if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type)) {\n      component = (\n        <Selectivity ajax={{url: window.tools.configuration.url, minimumInputLength: 0, params: () => ({}), placeholder: '', fetch: fetch}} placeholder={props.placeholder || ''} readOnly={!context.editing} multiple={api.hasValue(['many2many', 'one2many'], type)} defaultValue={this.state.value} allowClear/>\n      );\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      const input = (\n        <ul>\n          <ListInput ref=\"date_input\" label={string} placeholder={props.placeholder || ''} disabled={!context.editing}/>\n        </ul>\n      );\n      component = (\n        <Flatpickr customComponent={input} customInput={this.state.input} enableTime={type === 'datetime' && true} enableSeconds={type === 'datetime' && true} defaultDate={this.state.value} onChange={(value) => this.setValue({[props.name]: value, value})}/>\n      );\n    }\n    else {\n      component = (\n        <ListInput ref=\"input\" label={string} type={types[type]} placeholder={props.placeholder || ''} disabled={!context.editing} onChange={(event) => this.setValue({[props.name]: event.target.value})}/>\n      );\n    }\n\n    return (\n      <List>\n        {component}\n      </List>\n    );\n  }\n}\n","import React from 'react';\n//import Parser from 'react-jsx-parser';\nimport Tree from '../Tree';\nimport Field from '../Field';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\n\nconst customComponents = {Tree, Field};\n\nfunction parseView(view) {\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements) {\n    let components = [];\n    for (let element of elements) {\n      const component = customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      console.log(element.tagName);\n      props.isTreeView = true;\n      components.push(React.createElement(component, props, recurse(element.children)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  console.log(props);\n  let model = window.models.env.context.active_model;\n  if (props.f7route) {\n    model = props.f7route.params.model;\n    window.models.env.context.active_url = props.f7route.url;\n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  const view = window.tools.view[model].tree;\n  window.models.env.context.active_model = model;\n\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = evals(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view);\n  }\n\n  return cachedViews[view];\n\n  /*return (\n    <Parser components={{Tree}} jsx={view} renderInWrapper={false}/>\n  );*/\n}\n","import React from 'react';\nimport Page from './Page';\nimport {Button} from 'framework7-react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    //const model = window.models.env.context.active_model;\n    const models = window.models;\n    //const active_id = window.models.env.context.active_id || null;\n    models.env.context.editing = false;\n    //models.env.context.new_value = {};\n    this.state = models.env.context;//{editing: false, active_id: active_id};\n  }\n\n  async componentDidMount(props) {\n    const model = window.models.env.context.active_model;\n    const models = window.models;\n    if (!models.env.context.active_ids[0]) {\n      models.env.context.active_id = models.env[model].browse();\n      models.env.context.editing = true;\n      this.setState(models.env.context);\n      return;\n    }\n    else if (!models.env.context.active_id) {\n      models.env.context.active_id = await models.env[model].browse(models.env.context.active_ids);\n    }\n    const refresh = () => this.setState({active_id: models.env.context.active_id});\n    models.env.context.refresh = refresh;\n    refresh()\n  }\n\n  async edit() {\n    const models = window.models;\n    if (!this.state.editing) {\n      models.env.context.editing = true;\n      this.setState(models.env.context);\n      return\n    }\n    \n  }\n\n  render(props) {\n    const model = window.models.env.context.active_model;\n    console.log(this.state);\n    //const models = window.models;\n    return (\n      <Page title={window.tools.view[model].string}>\n        <div className=\"card\" style={{margin: 0, boxShadow: 'none'}}>\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <span style={{color: '#666666'}}>{' / ' + (this.state.active_id && this.state.active_id.id ? this.state.active_id.name : 'New')}</span>\n              <Button onClick={this.edit.bind(this)} style={{width: '50px'}} fill>{this.state.editing ? 'Save' : 'Edit'}</Button>\n            </div>\n          </div>\n          {props.children}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n\nexport default (props) => (\n  <div style={{margin: 0, backgroundColor: '#8F8F8F'}}>\n    {props.children}\n  </div>\n)\n","import React from 'react';\nimport {\n    Button,\n} from 'framework7-react';\nimport api from 'api';\n\nasync function button(props) {\n  const load = api.preload();\n  if (props.name) {\n    try {\n      await window.models.env.context.active_id[props.name]();\n    }\n    catch(error) {\n      console.log(error);\n      load.done();\n    }\n  }\n  await window.models.env.context.refresh();\n  load.done();\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = window.models.env.context;\n  }\n\n  render(props) {\n    return (\n      <Button fill onClick={() => button.bind(this)(props)} style={{display: 'inline-block', margin: '10px'}}>{props.string}</Button>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{minHeight: '250px', marginTop: '20px'}}>\n        <div className=\"card-content form-sheet\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state.lastHeight = 0.0;\n  }\n\n  componentDidMount(props) {\n    if (this.haveChild && this.refs.group.previousElementSibling === null) {\n      return;\n    }\n    const interval = setInterval(() => {\n      if (!this.refs.group || !this.refs.group.previousElementSibling) return clearInterval(interval);\n      const lastHeight = this.refs.group.previousElementSibling.clientHeight - 20;\n      if (lastHeight !== this.state.lastHeight) {\n        this.setState({lastHeight: lastHeight});\n      }\n    }, 500);\n  }\n\n  render(props) {\n    this.haveChild = props.children !== undefined;\n    if (props.width && props.width.slice(-1) === '%' && parseInt(props.width.slice(0, -1)) > 97) {\n      props.width = '97%';\n    }\n    return (\n      <div ref=\"group\" className=\"component-group\" style={{float: 'left', width: props.width || '46.5%', padding: '10px', marginTop: '20px', height: props.children ? 'auto' : this.state.lastHeight + 'px'}}>\n        {props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{margin: 0, boxShadow: 'none', padding: '20px', minHeight: '30%', marginTop: '30px'}}>\n        <div className=\"card-header\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  let model = window.models.env.context.active_model;\n  if (props.f7route) {\n    model = props.f7route.params.model;\n    window.models.env.context.active_url = props.f7route.url;     \n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  const id = props.f7route.query.id;\n  const view = window.tools.view[model].form;\n  window.models.env.context.active_model = model;\n  window.models.env.context.active_ids = [id];\n  /*if (id) {\n    window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n  }*/\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  return cachedViews[view];\n\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      components.push(React.createElement(component, props, recurse(element.children, props)));\n    }\n    components = components.length === 1 ? components[0] : components;\n    return components\n  }\n  return recurse([view]);\n}\n\nconst cachedViews = {};\n\nexport default (props) => {\n  let model = window.models.env.context.active_model;\n  let mode;\n  if (props.f7route) {\n    const view_id = props.f7route.params.view_id.split('.');\n    model = view_id.slice(0, -1).join('.');\n    mode = view_id[view_id.length - 1];\n    window.models.env.context.active_url = props.f7route.url;\n  } else {\n    window.models.env.context.active_url = '/';\n  }\n  //const id = props.f7route.query.id;\n  const view = window.tools.view[model][mode];\n  window.models.env.context.active_model = model;\n  //window.models.env.context.active_ids = [id];\n  /*if (id) {\n    window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n  }*/\n  if (!cachedViews[view]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n    cachedViews[view] = parseView(view, model);\n  }\n\n  return cachedViews[view];\n\n}\n","import React from 'react';\nimport {Page, Navbar, Link} from 'framework7-react';\n\nimport api from 'api';\n\nlet hide = false;\n\nfunction hidePanel() {\n  api.locals.app.params.panel.leftBreakpoint = hide ? 768 : 1000000;\n  api.locals.app.panel.left.initBreakpoints();\n  hide = !hide;\n}\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Menu\"/>\n    <div id=\"menu\" className=\"list list-block media-list chevron-center inset\" style={{fontWeight: 500}} panelClose>\n      {window.tools.keys(window.tools.menu, 'sequence').as_array().map((menu, index) => (\n      <ul>\n        <li className=\"accordion-item\">\n          <a className={'item-link item-content' + (window.tools.menu[menu].childs.length < 1 ? ' panel-close' : '')} href={window.tools.menu[menu].childs.length < 1 && '/' + (window.tools.menu[menu].view_id ? 'view' : 'tree') + '/' + (window.tools.menu[menu].view_id || window.tools.menu[menu].model)} data-view=\"#main-view\">\n            <div className=\"item-inner\">\n              <div className=\"item-title\">{window.tools.menu[menu].string}</div>\n            </div>\n          </a>\n          {window.tools.menu[menu].childs.as_array().map((child_menu, index) => (\n          <div className=\"accordion-item-content\">\n            <a className=\"item-content panel-close\" href={'/' + (child_menu.view_id ? 'view' : 'tree') + '/' + (child_menu.view_id || child_menu.model)} data-view=\"#main-view\">\n              <div className=\"item-inner\">\n                <div className=\"item-title\">{child_menu.string}</div>\n              </div>\n            </a>\n          </div>))}\n        </li>\n      </ul>))}\n    </div>\n    <Link iconMd=\"material:more_horiz\" iconSize=\"30\" onClick={hidePanel} style={{display: 'inline-block', margin: '10px'}}/>\n  </Page>\n);\n","import HomePage from './components/pages/HomePage';\nimport AboutPage from './components/pages/AboutPage';\nimport TreePage from './components/pages/TreePage';\nimport FormPage from './components/pages/FormPage';\nimport CustomPage from './components/pages/CustomPage';\nimport NotFound from './components/pages/NotFound';\nimport PanelLeft from './components/pages/PanelLeft';\nimport PanelRight from './components/pages/PanelRight';\n\nexport default [\n  {\n    path: '/',\n    component: HomePage,\n  },\n  {\n    path: '/panel-left/',\n    component: PanelLeft,\n  },\n  {\n    path: '/panel-right/',\n    component: PanelRight,\n  },\n  {\n    path: '/about/',\n    component: AboutPage,\n  },\n  {\n    path: '/tree/:model',\n    component: TreePage,\n  },\n  {\n    path: '/form/:model',\n    component: FormPage,\n  },\n  {\n    path: '/view/:view_id',\n    component: CustomPage,\n  },\n  {\n    path: '(.*)',\n    component: NotFound,\n  },\n];\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n    Toolbar,\n    Block,\n    BlockTitle,\n    List,\n    ListItem,\n    Row,\n    Col,\n    Button\n} from 'framework7-react';\nimport LoginPage from './LoginPage';\nimport TreePage from './TreePage';\nimport FormPage from './FormPage';\n//import api from 'api';\n\nexport default function (props) {\n\n  if (window.models === undefined) {\n    return (<LoginPage/>);\n  }\n  else if (window.tools.configuration.home_view) {\n    const mode = window.tools.configuration.home_view.split('.').slice(-1)[0];\n    const model = window.tools.configuration.home_view.split('.').slice(0, -1).join('.');\n    window.models.env.context.active_model = model;\n    if (mode === 'tree') {\n      return (<TreePage/>);\n    }\n    else if (mode === 'form') {\n      return (<FormPage/>);\n    }\n  }\n\n  return (\n  <Page>\n    <Navbar>\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>\n      <NavTitle>Home</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    <Toolbar>\n      <Link>Left Link</Link>\n      <Link>Right Link</Link>\n    </Toolbar>\n    <Block strong>\n      <p>Here is your blank Framework7 app. Let's see what we have here.</p>\n    </Block>\n    <BlockTitle>Navigation</BlockTitle>\n    <List>\n      <ListItem link=\"/about/\" title=\"About\"></ListItem>\n      <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n    </List>\n    <BlockTitle>Modals</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised popupOpen=\"#popup\">Popup</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised loginScreenOpen=\"#login-screen\">Login Screen</Button>\n        </Col>\n      </Row>\n    </Block>\n    <BlockTitle>Panels</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"left\">Left Panel</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"right\">Right Panel</Button>\n        </Col>\n      </Row>\n    </Block>\n    <List>\n      <ListItem link=\"/dynamic-route/blog/45/post/125/?foo=bar#about\" title=\"Dynamic Route\"></ListItem>\n      <ListItem link=\"/load-something-that-doesnt-exist/\" title=\"Default Route (404)\"></ListItem>\n    </List>\n  </Page>\n  );\n}\n","import React from 'react';\nimport api from 'api';\nimport { Page, Navbar, NavLeft, Block, Button, BlockTitle, List, ListItem, Icon, Toolbar, Link, Tabs, Tab } from 'framework7-react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {'name': ''};\n  }\n\n  async componentDidMount(props) {\n    api.locals.app = this.$f7;\n    this.setState({'name': await window.models.env.user.browse(window.models.env.user.id.toString()).then((record) => record.name)});\n  }\n\n  render = (props) => (\n    <Page>\n      <Navbar>\n        <NavLeft className=\"user-link\">\n          <List>\n            <ListItem link=\"#\" title={this.state.name}>\n              <Icon material=\"person\"></Icon>\n            </ListItem>\n          </List>\n        </NavLeft>\n      </Navbar>\n      <Toolbar tabbar>\n        <Link tabLink=\"#notification\" tabLinkActive>Notifications</Link>\n        {/*<Link tabLink=\"#message\">Messages</Link>*/}\n      </Toolbar>\n      <Tabs>\n        <Tab id=\"notification\" className=\"page-content\" tabActive style={{paddingTop: '0px'}}>\n          <List mediaList style={{marginTop: '0px'}}>\n            <ListItem link=\"#\" title=\"Notification Title\" after=\"17:20\" text=\"Notification Text\"/>\n          </List>\n          <Button fill onClick={api.logout} style={{display: 'inline-block', margin: '10px'}}>Logout</Button>\n        </Tab>\n        {/*<Tab id=\"message\" className=\"page-content\">\n          <Block>\n            <p>Tab 2 content</p>\n            ...\n          </Block>\n        </Tab>*/}\n      </Tabs>\n      {/*<Block strong>\n        <p>Right panel content goes here</p>\n      </Block>\n      <BlockTitle>Load page in panel</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\"></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n      </List>\n      <BlockTitle>Load page in main view</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\" view=\"#main-view\" panelClose></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\" view=\"#main-view\" panelClose></ListItem>\n      </List>*/}\n    </Page>\n  )\n}\n","import React from 'react';\nimport { Page, Navbar, Link, Block, BlockTitle } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"About\" backLink=\"Back\"></Navbar>\n    <BlockTitle>About My App</BlockTitle>\n    <Block strong>\n      <p>Here is About page!</p>\n      <p>You can go <Link back>back</Link>.</p>\n      <p>Mauris posuere sit amet metus id venenatis. Ut ante dolor, tempor nec commodo rutrum, varius at sem. Nullam ac nisi non neque ornare pretium. Nulla mauris mauris, consequat et elementum sit amet, egestas sed orci. In hac habitasse platea dictumst.</p>\n      <p>Fusce eros lectus, accumsan eget mi vel, iaculis tincidunt felis. Nulla tincidunt pharetra sagittis. Fusce in felis eros. Nulla sit amet aliquam lorem, et gravida ipsum. Mauris consectetur nisl non sollicitudin tristique. Praesent vitae metus ac quam rhoncus mattis vel et nisi. Aenean aliquet, felis quis dignissim iaculis, lectus quam tincidunt ligula, et venenatis turpis risus sed lorem. Morbi eu metus elit. Ut vel diam dolor.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport { Page, Navbar, Block } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Not found\" backLink=\"Back\" />\n    <Block strong>\n      <p>Sorry</p>\n      <p>Requested content not found.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport {\n  App,\n  Panel,\n  View,\n  Statusbar,\n  Popup,\n  Page,\n  Navbar,\n  NavRight,\n  Link,\n  Block,\n  LoginScreen,\n  LoginScreenTitle,\n  List,\n  ListItem,\n  Label,\n  Input,\n  ListButton,\n  BlockFooter\n} from 'framework7-react';\n\nimport routes from '../routes';\n\n//import api from 'api';\n\nexport default function (props) {\n\n  // Framework7 parameters here\n  const f7params = {\n    id: 'org.rapyd.client', // App bundle ID\n    name: 'App', // App name\n    theme: 'md', // Automatic theme detection\n    // App routes\n    routes,\n    panel: {\n      leftBreakpoint: 960,\n    },\n  };\n\n  return (\n    <App params={f7params} colorTheme={(window.tools && window.tools.configuration.color_theme) ? (window.tools && window.tools.configuration.color_theme) : 'gray'}>\n      {/* Statusbar */}\n      <Statusbar />\n\n      { window.models !== undefined &&\n        <Panel left reveal>\n          <View url=\"/panel-left/\" />\n        </Panel>\n      }\n\n      { window.models !== undefined &&\n        <Panel right cover>\n          <View url=\"/panel-right/\"/>\n        </Panel>\n      }\n\n      {/* Main View */}\n      <View id=\"main-view\" url=\"/\" main className=\"ios-edges\" pushState/>\n\n      {/* Popup */}\n      <Popup id=\"popup\">\n        <View>\n          <Page>\n            <Navbar title=\"Popup\">\n              <NavRight>\n                <Link popupClose>Close</Link>\n              </NavRight>\n            </Navbar>\n            <Block>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, architecto. Cupiditate laudantium rem nesciunt numquam, ipsam. Voluptates omnis, a inventore atque ratione aliquam. Omnis iusto nemo quos ullam obcaecati, quod.</Block>\n          </Page>\n        </View>\n      </Popup>\n\n      {/* Login Screen */}\n      <LoginScreen id=\"login-screen\">\n        <View>\n          <Page loginScreen>\n            <LoginScreenTitle>Login</LoginScreenTitle>\n            <List form>\n              <ListItem>\n                <Label>Username</Label>\n                <Input name=\"username\" placeholder=\"Username\" type=\"text\"></Input>\n              </ListItem>\n              <ListItem>\n                <Label>Password</Label>\n                <Input name=\"password\" type=\"password\" placeholder=\"Password\"></Input>\n              </ListItem>\n            </List>\n            <List>\n              <ListButton title=\"Sign In\" loginScreenClose></ListButton>\n              <BlockFooter>\n                <p>Click Sign In to close Login Screen</p>\n              </BlockFooter>\n            </List>\n          </Page>\n        </View>\n      </LoginScreen>\n    </App>\n  );\n}\n","// Import React and ReactDOM\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Import Framework7\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n// Import Framework7-React plugin\nimport Framework7React from 'framework7-react';\n\nimport * as Framework7Components from 'framework7-react';\n\n// Import main App component\nimport App from './components/App.jsx';\n\nimport Page from './components/Page.jsx';\n\nimport Flatpickr from './components/Flatpickr.jsx';\n\n// Framework7 styles\nimport 'framework7/css/framework7.min.css';\n\n// Icons\nimport './css/icons.css';\n\n// Custom app styles\nimport './css/app.css';\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\n\nimport api from 'api';\n\nOfflinePluginRuntime.install();\n\n// Init Framework7-React plugin\nFramework7.use(Framework7React);\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nwindow.rapydComponents = {...Framework7Components, ...window.rapydComponents, Page, Flatpickr};\n\n// Mount React App\n(async () => {\n  await api.get_session();\n  await ReactDOM.render(\n    React.createElement(App),\n    document.getElementById('app'),\n  );\n  if (window.tools && window.tools.configuration.custom_navbar) {\n    var style = document.createElement('style');\n    style.innerHTML = '.navbar, .toolbar {background-color: ' + window.tools.configuration.custom_navbar + '!important}';\n    document.querySelector('head').append(style);\n  }\n  if (document.querySelector('div.navbar')) {\n    const color_element = document.createElement('meta');\n    color_element.name = 'theme-color';\n    color_element.content = '#' + getComputedStyle(document.querySelector('.navbar'), null).backgroundColor.replace('rgb(', '').replace(')', '').split(', ').map(function(c) {return parseInt(c).toString(16)}).map(function(hex) {return hex.length === 1 ? \"0\" + hex : hex}).join('');\n    document.querySelector('head').appendChild(color_element);\n  }\n})();\n","if (!window.ReactDOM) {\n  throw Error('ReactDOM must be defined on global variable');\n}\n\nmodule.exports = window.ReactDOM;\n"],"sourceRoot":""}