{"version":3,"sources":["react.js","api.js","components/pages/LoginPage.jsx","components/Page.jsx","components/Grid.jsx","components/Flatpickr.jsx","components/Field.jsx","components/GridEditor.jsx","components/Tree.jsx","components/pages/TreePage.jsx","components/Form.jsx","components/Header.jsx","components/Button.jsx","components/Sheet.jsx","components/Group.jsx","components/Footer.jsx","components/pages/FormPage.jsx","components/pages/CustomPage.jsx","components/pages/HomePage.jsx","components/pages/AboutPage.jsx","components/pages/NotFound.jsx","components/pages/PanelLeft.jsx","components/pages/PanelRight.jsx","routes.js","components/App.jsx","index.js","react-dom.js"],"names":["window","React","Error","module","exports","href","PouchDB","plugin","PouchFind","RelationalPouch","session_db","rapyd_config","localStorage","rapyd_server_url","url","location","protocol","origin","pathname","substring","lastIndexOf","globals","preload","root","document","getElementById","preloader","createElement","className","insertAdjacentHTML","backdrop","insertAdjacentElement","done","value","remove","_callee","session_object","new_session","regenerator_default","a","wrap","_context","prev","next","models","abrupt","tools","local_db","get","sent","login","password","encrypted","client_js_time","logout","reload","client_js","t0","console","log","ORM","t1","stop","_callee2","session","_context2","put","Object","objectSpread","_callee3","args","_context3","ajax","status","_rev","unsaved","_id","_callee4","_context4","destroy","wait_exist","fn","Promise","resolve","reject","interval","setInterval","clearInterval","_callee5","script","URL","blob","BlobBuilder","_context5","webkitURL","Blob","error","WebKitBlobBuilder","MozBlobBuilder","append","getBlob","type","src","createObjectURL","body","appendChild","configuration","assign","env","context","user","browse","id","ajax_load","options","no_preload","ajax_resolve","xhr","response","ajax_reject","exceptionCount","exception","app","dialog","alert","warningCount","warning","offline","arguments","length","undefined","warn","toast","create","text","closeButton","closeTimeout","open","dataType","data","parseURI","XMLHttpRequest","onload","this","onerror","statusText","setRequestHeader","responseType","send","array","key","JSON","stringify","push","encodeURIComponent","join","qe","db","makeDocID","rel","selectors","$gt","$lt","promises","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","arg","need_orm","Array","isArray","map","find","selector","defineProperty","fields","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","$eq","err","return","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","keys","replace","splice","all","then","results","ids","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","result","docs","rows","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","doc","filter","index","self","indexOf","split","parseDocID","api","get_session","update_session","wait","ms","setTimeout","readAsDataURL","file","load","reader","FileReader","event","target","catch","hasValue","object","String","constructor","toString","hasKey","_default","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","username","querySelectorAll","addEventListener","clickEvent","bind","_this2","react_default","framework7_react_esm","noToolbar","noNavbar","noSwipeback","loginScreen","form","label","placeholder","onInput","e","setState","autofocus","onClick","signIn","style","float","marginLeft","setUrl","marginRight","preventDefault","keyCode","$f7","prompt","input","querySelector","success","Component","Page","backLink","active_url","popup","iconMd","panelOpen","title","popupClose","children","height","main","rowSelection","paginationPageSize","pagination","enableColResize","enableServerSideSorting","enableServerSideFilter","suppressMultiSort","suppressRowClickSelection","onGridReady","onRowClicked","onSelectionChanged","onPaginationChanged","onSortChanged","onFilterChanged","columnDefs","rowData","frameworkComponents","singleClickEdit","inline","flatpickr","customInput","_flatpickr","clone","customComponent","refs","cloneNode","onChange","readOnly","_ref","asyncToGenerator","mark","defaultDate","t2","t4","t5","t3","setDate","clear","_x","apply","allowKeyboard","_onChange2","_x2","componentDidMount","_ref2","_x3","set","_ref3","_x4","date","selectedDateObj","ref","display","singleSelectInput","Templates","singleSelectedItem","multipleSelectedItem","altvalue","onchange_running","active_error","field_map","name","input_type","cellEdit","active_id","refresh","_wait_promise","model","field","_fields","setInputValue","setSelectivityValue","widget","date_input","base","exist","selectivity","lastSelectivity","relation","records","_rec_name","from","__iter__","record","selections","selection","dict","active_model","checked","_pending_promises","ref_object","loaded","string","types","char","integer","boolean","binary","active_lines","tree","parent_model","tree_field","rowIndex","_original_object_for_id","invisible","Function","readonly","component","first","copy","reverse","overflow","raised","items","minimumInputLength","params","fetch","_x5","_x6","_fetch","disabled","editing","errorMessageForce","errorMessage","selectivity_react","slot","multiple","setValue","onDropdownOpen","selectivityOpened","onDropdownClose","onSelect","allowClear","closeOnSelect","Flatpickr_default","enableTime","enableSeconds","files","zIndex","_callee6","init","query","_models$env$field$rel","limit","domain","inverse_field","_context6","active_limit","active_index","offset","toConsumableArray","with_context","search","term","concat","add","toLowerCase","more","Math","random","substr","temp_records","finish","_search_count","getData","colDef","column","cellEditorFramework","temp_ids","getValue","temp_id","slice","update","specialValue","oldValue","newValue","stopEditing","Field_default","autoSizeAll","gridOptions","listener","gridCore","getFilterInstance","eClearButton","sizeColumnsToFit","Tree","isEditable","isTreeView","editable","pendingTask","write","tasked","pendingCreate","pendingWrite","taskJob","active_task","new_records","assertThisInitialized","_this3","selectedOnchange","selected","row","deselectAll","cellEditorParams","refreshCells","getSelectedRows","active_ids","handleOutside","grid","contains","child","headerName","attributes","suppressMovable","filterParams","applyButton","clearButton","onCellValueChanged","sort","default_sort","GridEditor","cellClass","checkboxSelection","headerCheckboxSelection","parseInt","specialEditor","removeEventListener","resizeListener","count","pushed","unshift","active_sort","colId","paginationGetCurrentPage","paginationGoToFirstPage","newData","forcePopup","paging","values","conditions","operator","condition1","condition2","startsWith","endsWith","notContains","equals","notEqual","condition","result_ids","getElementsByClassName","_loop","isPopup","deleting","_models$env$this$stat","_window$tools","_this4","apply_domain","_records2","sort_by","read","paginate","t6","treeView","updateRowData","node","popup_modal","getDOMNode","selected_ids","active_field","parent_tree","unlink","_values","_this5","min","position","left","top","Grid_default","views","router","navigate","getSortModel","getFilterModel","addItem","backgroundColor","chooseItem","choose","selectItem","removeItem","view","actions","entries","slicedToArray","function_name","animate","prototype","DOMParser","parseFromString","tree_arch","element","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","attribute","pagingCalled","forceOnRender","fill","customComponents","Field","function_string","cachedViews","render","f7route","mode","setAttribute","recurse","elements","parent_props","components","tagName","toUpperCase","_i","_arr","Boolean","innerHTML","parseView","custom_init","edit_function","edit","_name","parse","operation","exceptions","RequiredError","task","hash","reloadCurrent","old_record","buttonStyle","width","margin-right","uploadStyle","margin","boxShadow","color","back","upload","Header","minHeight","button","marginTop","flex-wrap","previousTitle","group","previousElementSibling","nextElementSibling","offsetLeft","padding","fontSize","lineHeight","rapydComponents","Form","Button","Sheet","Group","Footer","word","inverse","outerHTML","TreePage","active_mode","view_id","contexts","HomePage","LoginPage_default","home_view","TreePage_default","FormPage_default","CustomPage_default","strong","link","popupOpen","loginScreenOpen","AboutPage","NotFound","hide","hidePanel","panel","leftBreakpoint","initBreakpoints","PanelLeft","fontWeight","panelClose","menu","as_array","childs","close","currentTarget","data-view","child_menu","InstallPromp","userChoice","InstallPrompt","iconSize","material","tabbar","tabLink","tabLinkActive","tabActive","paddingTop","mediaList","after","device","ios","routes","path","PanelRight","FormPage","CustomPage","App","manifest","short_name","app_name","long_name","description","app_description","scope","start_url","background_color","icons","icon_big","sizes","icon_small","manifestRegistered","registerManifest","validManifest","json","theme_color","content","f7params","theme","colorTheme","color_theme","reveal","right","cover","preloadPreviousPage","pushState","loginScreenClose","OfflinePluginRuntime","onInstalled","onUpdateReady","confirm","Framework7","use","Framework7React","ReactDOM","Framework7Components","Flatpickr","wait_session","color_element","custom_navbar","getComputedStyle","c","hex"],"mappings":"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","file":"static/js/main.edf4760e.chunk.js","sourcesContent":["if (!window.React) {\n  throw Error('React must be defined on global variable');\n}\n\nmodule.exports = window.React;\n","import PouchDB from 'pouchdb-browser';\nimport PouchFind from 'pouchdb-find';\n//import PouchSearch from 'pouchdb-quick-search';\nimport RelationalPouch from 'relational-pouch';\n\nPouchDB.plugin(PouchFind);\n//PouchDB.plugin(PouchSearch);\nPouchDB.plugin(RelationalPouch);\n//PouchDB.plugin(require('pouchdb-debug').default);\nwindow.PouchDB = PouchDB;\nwindow.session_db = new PouchDB('session');\n\nif (!window.rapyd_config) window.rapyd_config = {};\n\nif (!window.localStorage.rapyd_server_url) {\n  if (window.rapyd_config.url) {\n    window.localStorage.rapyd_server_url = window.rapyd_config.url;\n  }\n  else if (window.location.protocol === 'file:') {\n    window.localStorage.rapyd_server_url = 'http://localhost:8069';\n  }\n  else {\n    window.localStorage.rapyd_server_url = ((href) => href.substring(0, href.lastIndexOf('/')) + '/')(window.location.origin + window.location.pathname);\n  }\n}\n\nconst globals = {};\n\nfunction preload() {\n  const root = document.getElementById('app');\n  if (root) {\n    const preloader = document.createElement('div');\n    preloader.className = 'preloader-modal';\n    preloader.insertAdjacentHTML('beforeend',`\n    <div class=\"preloader color-white\">\n      <span class=\"preloader-inner\">\n        <span class=\"preloader-inner-gap\"></span>\n        <span class=\"preloader-inner-left\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n        <span class=\"preloader-inner-right\">\n          <span class=\"preloader-inner-half-circle\"></span>\n        </span>\n      </span>\n    </div>`);\n    const backdrop = document.createElement('div');\n    backdrop.className = 'preloader-backdrop';\n    root.insertAdjacentElement('beforeend', backdrop);\n    root.insertAdjacentElement('beforeend', preloader);\n    return {done: (value) => {\n      preloader.remove();\n      backdrop.remove();\n      return value;\n    }};\n  }\n}\n\nasync function get_session() {\n  const session_db = window.session_db;\n  if (window.models) {\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  try {\n    let session_object = await session_db.get('session');\n    try {\n      const new_session = await login({login: session_object.login, password: session_object.password, encrypted: true, client_js_time: session_object.client_js_time});\n      if (!new_session) {\n        await logout();\n        window.location.reload();\n      }\n      else if (!new_session.client_js) {\n        new_session.client_js = session_object.client_js;\n      }\n      session_object = new_session;\n    }\n    catch(error) {\n      console.log(error);\n    }\n    await ORM(session_object);\n    return {models: window.models, tools: window.tools, local_db: window.local_db};\n  }\n  catch(error) {\n    console.log(error);\n    return {};\n  }\n}\n\nasync function update_session(new_session) {\n  const session = await window.session_db.get('session');\n  return await window.session_db.put({...session, ...new_session});\n}\n\nasync function login(args) {\n  args.encrypted = args.encrypted ? true: false;\n  const session = await ajax('post', 'json', window.localStorage.rapyd_server_url + '/api/login', args);\n  console.log(session);\n  if (session.status === 'denied') {\n    return false;\n  }\n  else if (session.status === 'error') {\n    throw Error(\"There are an error on the server\");\n  }\n  try {\n    const session_object = await window.session_db.get('session');\n    session._rev = session_object._rev;\n    session.unsaved = session_object.unsaved;\n    session.client_js = session.client_js || session_object.client_js\n    session.client_js_time = session.client_js_time || session_object.client_js_time\n  }\n  catch(error) {\n    session.unsaved = {};\n  }\n  session._id = 'session';\n  await window.session_db.put(session);\n  return session;\n}\n\nasync function logout() {\n  try {\n    const session = await window.session_db.get('session');\n    await window.session_db.remove(session);\n  }\n  catch(error) {\n    console.log(error);\n  }\n  window.local_db.destroy();\n  return window.location.reload();\n}\n\nfunction wait(ms) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => resolve(), ms);\n  });\n}\n\nfunction wait_exist(fn) {\n  return new Promise((resolve, reject) => {\n    const clear = (id) => {\n      clearInterval(id);\n      resolve();\n    }\n    const interval = setInterval(() => {if (fn()) clear(interval)}, 0);\n  });\n}\n\nasync function ORM(session) {\n  //window.localStorage.rapyd_server_url = session.url;\n  // eslint-disable-next-line\n  //new Function(session.client_js)();\n  const script = document.createElement('script');\n  const URL = window.URL || window.webkitURL;\n  let blob;\n  try {\n    blob = new Blob([session.client_js]);\n  }\n  catch(error) {\n    const BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n    blob = BlobBuilder();\n    blob.append(session.client_js);\n    blob = blob.getBlob();\n  }\n  script.type = 'text/javascript';\n  script.src = URL.createObjectURL(blob);\n  /*script.text = '//<![CDATA[\\n';\n  script.text += session.client_js;\n  script.text += '\\n//]]>';*/\n  document.body.appendChild(script);\n  await wait_exist(() => window.models);\n  const tools = window.tools;\n  tools.configuration = Object.assign(tools.configuration, window.rapyd_config);\n  tools.configuration.url = window.localStorage.rapyd_server_url;\n  const models = window.models;\n  models.env.context.unsaved = session.unsaved || {};\n  models.env.user = models.env['res.users'].browse();\n  models.env.user.id = session.id;\n  models.env.user.login = session.login;\n  models.env.user.password = session.password;\n  console.log(session)\n  /*for (let model in tools.view) {\n    const views = tools.view[model];\n    for (let mode in views) {\n      if (hasValue(['id', 'string', 'custom_init'], mode)) {\n        continue;\n      }\n      views[mode] = views[mode].replace(/([a-z]*-[a-z]*[/>\\s])|([a-z]*[/>\\s])/g, (string) => string.split('-').map((word) => word.slice(0, 1).toUpperCase() + word.slice(1)).join('')).replace(/>\\s+|\\s+</g, (s) => s.trim());\n    }\n  }*/\n  tools.configuration.ajax_load = (options) => {if (!options.no_preload) options.preload = preload()};\n  tools.configuration.ajax_resolve = (resolve, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    resolve(xhr.response);\n  }\n  tools.configuration.ajax_reject = (reject, xhr, options) => {\n    if (!options.no_preload) options.preload.done();\n    reject(xhr);\n  }\n  globals.exceptionCount = 0;\n  tools.configuration.exception = (error) => {\n    /*if (globals.exceptionCount !== 0) return new Promise((resolve) => {\n      globals.exceptionCount = 0;\n      resolve(true);\n      throw error;\n    });*/\n    globals.app.dialog.alert('There are some error');\n    globals.exceptionCount += 1;\n    throw error;\n  }\n  globals.warningCount = 0;\n  tools.configuration.warning = (error, offline=false) => {\n    if (globals.warningCount !== 0) return new Promise((resolve) => {\n      globals.warningCount = 0;\n      resolve(true);\n      console.warn(error);\n    });\n    console.log(globals);\n    if (offline) globals.app.toast.create({text: 'You are offline, using local data', closeButton: true, closeTimeout: 1000}).open();\n    globals.warningCount += 1;\n    console.warn(error);\n  }\n}\n\nfunction ajax(type, dataType, url, data) {\n  if (data !== undefined || null || false) {\n    data = parseURI(data);\n  }\n  return new Promise(function(resolve, reject) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(type, url, true);\n    xhr.onload = function() {\n      resolve(this.response);\n    };\n    xhr.onerror = function() {\n      reject(this.statusText);\n    };\n    if (dataType === undefined) {\n      dataType = 'json';\n    }\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    xhr.responseType = dataType;\n    try {\n      xhr.send(data);\n    }\n    catch(error) {\n      reject(error);\n    }\n  });\n}\n\nfunction parseURI(data) {\n  const array = [];\n  for (let key in data) {\n    let value = data[key];\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n    else if (value === '') {\n      value = null;\n    }\n    array.push(encodeURIComponent(key) + '=' + encodeURIComponent(value));\n  }\n  return array.join('&');\n}\n\nfunction readAsDataURL(file) {\n  const load = preload();\n  return new Promise((resolve, reject) => {\n    if (!file) reject(new Error('No file available'));\n    const reader = new FileReader();\n    reader.onload = (event) => resolve(event.target.result);\n    reader.readAsDataURL(file);\n  }).then(load.done).catch((error) => {\n    load.done();\n    throw error;\n  });\n}\n\nfunction hasKey(object, key) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  return Object.keys(object).indexOf(key) > -1;\n}\n\nfunction hasValue(object, value) {\n  if (object === undefined || object === null || object === false) {\n    return false;\n  }\n  if ([Array, String].indexOf(object.constructor) < 0) {\n    object = object.toString();\n  }\n  return object.indexOf(value) > -1;\n}\n\nfunction query(db, type, args) {\n  const makeDocID = db.rel.makeDocID;\n  const selectors = {_id: {$gt: makeDocID({type}), $lt: makeDocID({type, id: {}})}};\n  const promises = [];\n  for (let arg of args) {\n    let need_orm;\n    if (!arg || !arg[0] || !arg[0].length) continue;\n    if (arg[0] === 'id') {\n      selectors._id = {};\n      if (Array.isArray(arg[2])) arg[2] = arg[2].map((id) => makeDocID({type, id}));\n      else arg[2] = makeDocID({type, id: arg[2]})\n      arg[0] = '_id';\n    }\n    else arg[0] = 'data.' + arg[0];\n    if (!selectors[arg[0]]) selectors[arg[0]] = {};\n    if (arg[1] === '=') {\n      if (arg[2] != false) selectors[arg[0]]['$eq'] =  arg[2];\n      else selectors[arg[0]]['$lte'] = false;\n    }\n    else if (arg[1] === '!=') {\n      if (arg[2] != false) {\n        need_orm = true;\n        promises.push(db.find({selector: {[arg[0]]: {$gt: arg[2]}}, fields: ['_id']}));\n        promises.push(db.find({selector: {[arg[0]]: {$lt: arg[2]}}, fields: ['_id']}));\n      }\n      else selectors[arg[0]]['$gt'] = false;\n    }\n    else if (arg[1] === '>') selectors[arg[0]]['$gt'] = typeof arg[2] === 'number' ? (arg[2] + 0.000000000000001) : arg[2];\n    else if (arg[1] === '>=') selectors[arg[0]]['$gte'] = arg[2];\n    else if (arg[1] === '<') selectors[arg[0]]['$lt'] = arg[2];\n    else if (arg[1] === '<=') selectors[arg[0]]['$lte'] = arg[2];\n    else if (arg[1] === 'in' && Array.isArray(arg[2])) {\n      for (let value of arg[2]) {\n        promises.push(db.find({selector: {[arg[0]]: {$eq: value}}, fields: ['_id']}));\n      }\n      if (!arg[2].length) return new Promise((resolve, reject) => resolve([]));\n    }\n    else if (arg[1] === 'not in' && Array.isArray(arg[2])) {\n      if (arg[2].length) need_orm = true;\n      for (let value of arg[2]) {\n        promises.push(db.find({selector: {[arg[0]]: {$gt: value}}, fields: ['_id']}));\n        promises.push(db.find({selector: {[arg[0]]: {$lt: value}}, fields: ['_id']}));\n      }\n    }\n    else if (arg[1] === 'like') {\n      selectors[arg[0]]['$gte'] = arg[2];\n      //promises.push(db.search({query: arg[2], fields: [arg[0]], include_docs: false}));\n      need_orm = true;\n    }\n    else if (arg[1] === 'ilike') {\n      selectors[arg[0]]['$gte'] = arg[2];\n      //promises.push(db.search({query: arg[2], fields: [arg[0]], include_docs: false}));\n      need_orm = true;\n    }\n    if (!Object.keys(selectors[arg[0]]).length) {\n      delete selectors[arg[0]];\n      if (!need_orm) arg.splice(0, arg.length);\n      else arg[0] = arg[0].replace('data.', '')\n      continue;\n    }\n    if (!need_orm) arg.splice(0, arg.length);\n    else arg[0] = arg[0].replace('data.', '')\n  }\n  for (let key in selectors) {\n    promises.push(db.find({selector: {[key]: selectors[key]}, fields: ['_id']}))\n  }\n  return Promise.all(promises).then((results) => {\n    let ids = [];\n    for (let result of results) {\n      const docs = result.docs || result.rows;\n      for (let doc of docs) {\n        ids.push(doc._id || doc.id)\n      }\n    }\n    if (promises.length > 1) ids = ids.filter((value, index, self) => self.indexOf(value) !== index && value.split('_')[0] === type);\n    ids = ids.map((id) => db.rel.parseDocID(id).id);\n    return ids;\n  });\n}\n\nwindow.qe = query;\n\nexport default {globals, preload, get_session, update_session, wait, wait_exist, login, logout, ORM, ajax, readAsDataURL, parseURI, hasValue, hasKey};\n","import React from 'react';\nimport {\n  Page,\n  LoginScreenTitle,\n  List,\n  ListInput,\n  //ListButton,\n  Button,\n} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: '',\n      password: '',\n    };\n  }\n\n  componentDidMount() {\n    for (let input of document.querySelectorAll('input[type=text], input[type=password]')) {\n      input.addEventListener('keyup', this.clickEvent.bind(this));\n    }\n  }\n\n  render() {\n    return (\n      <Page noToolbar noNavbar noSwipeback loginScreen>\n        <LoginScreenTitle>Welcome</LoginScreenTitle>\n        <List form>\n          <ListInput\n            label=\"Username\"\n            type=\"text\"\n            placeholder=\"Your username\"\n            value={this.state.username}\n            onInput={(e) => {\n              this.setState({ username: e.target.value});\n            }}\n            autofocus\n          />\n          <ListInput\n            label=\"Password\"\n            type=\"password\"\n            placeholder=\"Your password\"\n            value={this.state.password}\n            onInput={(e) => {\n              this.setState({ password: e.target.value});\n            }}\n          />\n          <Button onClick={this.signIn.bind(this)} style={{float: 'left', marginLeft: '10px'}}>Login</Button>\n          <Button onClick={this.setUrl.bind(this)} style={{float: 'right', marginRight: '10px'}}>Settings</Button>\n        </List>\n      </Page>\n    )\n  }\n  clickEvent(event) {\n    event.preventDefault();\n    if (event.keyCode === 13) {\n      this.signIn();\n    }\n  }\n  setUrl() {\n    const app = this.$f7;\n    app.dialog.prompt('', 'Server URL', (url) => localStorage.rapyd_server_url = url);\n    const input = document.querySelector('input.dialog-input');\n    if (input) {\n      input.value = localStorage.rapyd_server_url;\n    }\n  }\n  async signIn() {\n    const load = api.preload();\n    const self = this;\n    const app = self.$f7;\n    //const router = self.$f7.router;\n    try {\n      const success = await api.login({login: self.state.username, password: self.state.password, encrypted: false});\n      load.done();\n      if (!success) {\n        return app.dialog.alert('Username/Password wrong, relogin');\n      }\n      app.dialog.alert('Login Successful!', () => {\n        window.location.reload();\n      });\n    }\n    catch(error) {\n      load.done();\n      app.dialog.alert('Network Error');\n      throw error;\n    }\n  }\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n} from 'framework7-react';\n\nexport default (props) => (\n  <Page>\n    <Navbar backLink={(window.models.env.context.active_url === '/' || props.popup) ? false : 'Back'}>\n      {window.models.env.context.active_url === '/' &&\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>}\n      <NavTitle>{props.title}</NavTitle>\n      {!props.popup ?\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight> :\n      <NavRight>\n        <Link iconMd=\"material:close\" popupClose></Link>\n      </NavRight>}\n    </Navbar>\n    {props.children}\n  </Page>\n);\n","import React from 'react';\nimport {AgGridReact} from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\n\nexport default class extends React.Component {\n  render(props) {\n    return (\n      <div style={{height: '100%'}} className=\"ag-theme-material\">\n        <AgGridReact rowSelection=\"multiple\" paginationPageSize={props.paginationPageSize} pagination enableColResize enableServerSideSorting enableServerSideFilter  suppressMultiSort suppressRowClickSelection onGridReady={props.onGridReady} onRowClicked={props.onRowClicked} onSelectionChanged={props.onSelectionChanged} onPaginationChanged={props.onPaginationChanged} onSortChanged={props.onSortChanged} onFilterChanged={props.onFilterChanged} columnDefs={props.columnDefs} rowData={props.rowData} frameworkComponents={props.frameworkComponents} singleClickEdit/>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n  }*/\n\n  componentWillUnmount() {\n    if (this.props.inline) return document.getElementById('flatpickr-inline-clone') && document.getElementById('flatpickr-inline-clone').remove();\n    if (this.flatpickr) this.flatpickr.destroy()\n    if (this.props.customInput) delete this.props.customInput._flatpickr;\n    delete this.flatpickr;\n  }\n\n  componentDidMount() {\n    const clone = this.props.customComponent ? this.props.customInput : (!this.props.inline ? this.refs.flatpickr : document.getElementById('flatpickr-inline-clone') || this.refs.flatpickr.cloneNode(false));\n    console.log(clone);\n    if (!clone) return;\n    if (this.props.inline) {\n      clone.id = 'flatpickr-inline-clone';\n      //clone.style.display = '';\n      this.refs.flatpickr.insertAdjacentElement('afterend', clone);\n    }\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = async (value) => value !== await this.props.defaultDate && (await this.props.defaultDate ? this.flatpickr.setDate(await this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr = clone._flatpickr || flatpickr(clone, {...this.props, allowKeyboard: false, onChange: async (value) => {await onChange(value); this.flatpickr.open()}});\n  }\n\n  async componentDidUpdate() {\n    if (this.props.customInput) this.componentDidMount();\n    if (!this.flatpickr) return;\n    let onChange = this.props.onChange;\n    if (this.props.readOnly) onChange = async (value) => value !== await this.props.defaultDate && (await this.props.defaultDate ? this.flatpickr.setDate(await this.props.defaultDate) : this.flatpickr.clear());\n    this.flatpickr.set('onChange', async (value) => {await onChange(value); this.flatpickr.open()});\n    const date = await this.props.defaultDate;\n    if (!this.flatpickr) return;\n    if (date) this.flatpickr.setDate(date);\n    else {\n      this.flatpickr.selectedDateObj = null;\n      this.flatpickr.input.value = '';\n    }\n  }\n\n  render(props) {\n    return props.customComponent || (\n      <input ref=\"flatpickr\" style={props.inline && {display: 'none'}}/>\n    );\n  }\n}\n","import React from 'react';\nimport {\n    List,\n    ListInput,\n    F7Button as Button,\n} from 'framework7-react';\nimport {React as Selectivity, Templates} from 'selectivity/react';\nimport 'selectivity/styles/selectivity-react.css';\nimport Flatpickr from './Flatpickr';\nimport api from 'api';\n\n\nconst singleSelectInput = Templates.singleSelectInput;\nTemplates.singleSelectInput = (options) => singleSelectInput(options).replace('<i class=\"fa fa-sort-desc selectivity-caret\"></i>', '<i class=\"selectivity-caret material-icons\">expand_more</i>');\nconst singleSelectedItem = Templates.singleSelectedItem;\nTemplates.singleSelectedItem = (options) => singleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove material-icons\">close</i>');\nconst multipleSelectedItem = Templates.multipleSelectedItem;\nTemplates.multipleSelectedItem = (options) => multipleSelectedItem(options).replace('<i class=\"fa fa-remove\"></i>', '<i class=\"selectivity-remove selectivity-multi-remove material-icons\">close</i>');\n\nexport default class extends React.Component {\n  /*constructor(props) {\n    super(props);\n\n    this.props = props;\n  }*/\n\n  async setValue(value, altvalue) {\n    const props = this.props;\n    api.globals.onchange_running = true;\n    await api.wait(0);\n    api.globals.onchange_running = false;\n    window.models.env.context.active_error && (window.models.env.context.active_error.field_map[this.props.name] = false);\n    if (this.input_type && this.input_type === 'file' && value) {\n      value = await api.readAsDataURL(value);\n      value = value.split('base64,')[1];\n    }\n    if (!this.props.cellEdit) window.models.env.context.active_id[this.props.name] = value;\n    else return window.models.env.context.refresh();\n    await window.models.env.context.active_id._wait_promise();\n    const model = props.model;// || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    if (this.refs.input) {\n      await this.setInputValue(value);\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      await this.setSelectivityValue(altvalue);\n    }\n    else if (type === 'selection') {\n      if (this.props.widget === 'statusbar') return this.setState({value});\n      await this.setSelectivityValue(altvalue);\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      await this.setState({value, input: this.refs.date_input.base.querySelector('input')});\n    }\n    else {\n      await this.setState({value: altvalue || value});\n    }\n    return window.models.env.context.refresh();\n  }\n\n  async setSelectivityValue(value) {\n    value = await value;\n    if (!window.tools.exist(value)) return;\n    if (value && typeof value === 'object') return this.setState({value});\n    await api.wait_exist(() => this.refs.selectivity);\n    if (value && value === this.lastSelectivity) return;\n    this.lastSelectivity = value;\n    const props = this.props;\n    const models = window.models;\n    const model = props.model;// || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    if (!model) {\n      return;// this.setState({value: null});\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      //const model = props.model || window.models.env.context.active_model;\n      //const field = window.models.env[model]._fields[props.name];\n      const records = await models.env[field.relation].browse(value);\n      if (!records.length) return;\n      if (value.constructor === String) {\n        return this.setState({value: {id: records.id, text: records[records._rec_name || 'name']}});\n      }\n      else if (value.constructor === Array) {\n        return this.setState({value: Array.from(records.__iter__()).map((record) => ({id: record.id, text: record[record._rec_name || 'name']}))});\n      }\n    }\n    else if (type === 'selection') {\n      const selections = typeof field.selection === 'function' ? field.selection.apply(null) : field.selection;\n      return this.setState({value: value && {id: value, text: window.tools.dict(selections)[value]}});\n    }\n  }\n\n  setInputValue(value) {\n    const props = this.props;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    if (type === 'binary') return;\n    if (type === 'float' || type === 'integer') value = value || null;\n    if (this.refs.input) {\n      if (!api.hasValue(['text', 'data', 'boolean'], type)) {\n        this.refs.input.base.querySelector('input').value = value;\n      }\n      else if (type === 'boolean') {\n        this.refs.input.base.querySelector('input').checked = value;\n      }\n      else {\n        this.refs.input.base.querySelector('textarea').value = type !== 'data' ? value : JSON.stringify(value);\n      }\n    }\n  }\n\n  async componentDidMount() {\n    //if (!window.models.env.context.active_id) window.models.env.context.active_id = window.models.env[window.models.env.context.active_model].browse();\n    await api.wait_exist(() => window.models.env.context.active_id);\n    const props = this.props;\n    const models = window.models;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    const type = field.type;\n    const context = window.models.env.context;\n    if (context.active_id._pending_promises.length > 0) await context.active_id._wait_promise();\n    const value = props.cellEdit ? null : context.active_id && await context.active_id[this.props.name];\n    if (this.props.ref_object) Object.assign(this.props.ref_object, this.refs, {loaded: true});\n    if (this.refs.input) {\n      return this.setInputValue(value);\n    }\n    else if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type) && !props.children) {\n      return this.setSelectivityValue(value);\n    }\n    else if (type === 'selection') {\n      if (this.props.widget === 'statusbar') return this.setState({value});\n      return this.setSelectivityValue(value);\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      return this.setState({value, input: this.refs.date_input.base.querySelector('input')});\n    }\n    else {\n      return this.setState({value});\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) this.refs.selectivity.selectivity.destroy();\n  }\n\n  render(props) {\n    const models = window.models;\n    const model = props.model || window.models.env.context.active_model;\n    const field = window.models.env[model]._fields[props.name];\n    if (!field) return;\n    const string = props.string || field.string;\n    const type = field.type;\n    const types = {char: 'text', text: 'textarea', float: 'number', integer: 'number', data: 'textarea', 'boolean': 'checkbox', 'binary': 'file'};\n    const context = window.models.env.context;\n    const refs = this.refs;\n    const active_id = props.cellEdit ? context.active_lines[this.props.tree.state.model][(this.props.tree.props.parent_model ? 'many2many_' : '') + this.props.tree.state.tree_field].find(this.props.tree.state.records[this.props.rowIndex].id || this.props.tree.state.records[this.props.rowIndex]._original_object_for_id) : context.active_id;\n    const invisible = props.invisible instanceof Function && active_id ? props.invisible(active_id, models.env.context.active_id) : props.invisible;\n    props.readonly = field.readonly || props.readonly;\n    const readonly = props.readonly instanceof Function ? props.readonly(active_id) : props.readonly;\n    const value = props.cellEdit ? null : context.active_id && context.active_id[this.props.name];\n\n    async function fetch(url, init, query) {\n      try {\n        const limit = 10\n        models.env.context.active_limit = limit;\n        models.env.context.active_index = query.offset / limit;\n        const domain = (active_id && props.domain) ? props.domain(...(!props.cellEdit ? [active_id] : [active_id, models.env.context.active_id])) : [];\n        const records = await models.env[field.relation].with_context({no_preload: true}).search([(models.env[field.relation]._rec_name || 'name'), 'ilike', query.term], ...domain);\n        if (models.env.context.active_lines[field.relation]) {\n          for (var inverse_field in models.env.context.active_lines[field.relation]) {\n            records.add(models.env.context.active_lines[field.relation][inverse_field].filter((record) => record[record._rec_name || 'name'] && record[record._rec_name || 'name'].toLowerCase().indexOf(query.term.toLowerCase()) !== -1));\n          }\n        }\n        const results = [];\n        if (type === 'selection') return {results, more: false};\n        for (let record of records) {\n          if (!record.id) {\n            const id = 'etemp' + Math.random().toString(36).substr(2, 9);\n            if (!api.globals.temp_records) api.globals.temp_records = {};\n            api.globals.temp_records[id] = record;\n            results.push({id, text: record[record._rec_name || 'name']});\n            continue;\n          }\n          results.push({id: record.id, text: record[record._rec_name || 'name']});\n        }\n        models.env.context.active_index = 0;\n        console.log((query.offset / limit + 1) * limit < records._search_count);\n        console.log(results);\n        return {results: results, more: (query.offset / limit + 1) * limit < records._search_count};\n      }\n      catch(error) {\n        console.error(error);\n        throw error;\n      }\n    }\n\n    if (api.hasValue(['many2many', 'one2many'], type) && props.children) {\n      return props.children;\n    }\n\n    let component;\n\n    if (type === 'selection' && props.widget === 'statusbar') {\n      let first = true;\n      const selection = typeof field.selection === 'function' ? field.selection.apply(context.active_id, [context.active_id]) : field.selection;\n      const selections = window.tools.copy(selection).reverse();\n      component = (\n        <div style={{...(invisible ? {display: 'none'} : {}), overflow: 'overlay'}}>\n          {selections.map((selection) =>\n          first ? <Button raised={models.env.context.active_id && models.env.context.active_id[props.name] === selection[0]} className=\"rapyd-statusbars\">{(first = false) || selection[1]}</Button> : [<span className=\"rapyd-statusbars rapyd-statusbar-arrow\">{'>'}</span>, <Button raised={models.env.context.active_id && models.env.context.active_id[props.name] === selection[0]} className=\"rapyd-statusbars\">{selection[1]}</Button>]\n          )}\n        </div>\n      );\n      return component;\n    }\n\n    if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one', 'selection'], type)) {\n      let ajax;\n      let items = null;\n      if (api.hasValue(['many2many', 'one2many', 'many2one', 'one2one'], type)) {\n        ajax = {url: window.tools.configuration.url, minimumInputLength: 0, params: () => ({}), placeholder: '', fetch: fetch};\n      }\n      else if (type === 'selection') {\n        const selections = typeof field.selection === 'function' ? field.selection.apply(context.active_id, [context.active_id]) : field.selection;\n        items = selections.map((selection) => ({id: selection[0], text: selection[1]}));\n      }\n      component = (\n        <ListInput label={string} input={false} disabled={readonly || !context.editing} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\">\n          <Selectivity ref=\"selectivity\" slot=\"input\" data={window.tools.exist(this.state.value) && this.state.value.constructor !== Promise ? this.state.value : null} ajax={ajax} items={items} placeholder={props.placeholder || ''} readOnly={readonly || !context.editing} multiple={api.hasValue(['many2many', 'one2many'], type)} onChange={(event) => this.setValue(event.value, event.data)} onDropdownOpen={() => this.setState({'selectivityOpened': true})} onDropdownClose={() => (props.onSelect ? props.onSelect() : true) && this.setState({'selectivityOpened': false})} allowClear closeOnSelect/>\n        </ListInput>\n      );\n      if (props.cellEdit) return component.children[0];\n      api.wait(500).then(() => api.wait_exist(() => context.active_id)).then(async () => await context.active_id[props.name] && this.setSelectivityValue(await context.active_id[props.name]));\n    }\n    else if (api.hasValue(['date', 'datetime'], type)) {\n      const input = (\n        <ul>\n          <ListInput ref=\"date_input\" label={string} placeholder={props.placeholder || ''} disabled={readonly || !context.editing} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\"/>\n        </ul>\n      );\n      component = (\n        <Flatpickr customComponent={input} customInput={this.state.input} enableTime={type === 'datetime' && true} enableSeconds={type === 'datetime' && true} defaultDate={value || this.state.value} onChange={(value) => this.setValue(value)}/>\n      );\n      if (props.cellEdit) return component.children.children;\n    }\n    else {\n      this.input_type = types[type];\n      component = (\n        <ListInput ref=\"input\" label={string} type={types[type]} placeholder={props.placeholder || ''} disabled={readonly || !context.editing} onChange={(event) => this.setValue(event.target.type === 'checkbox' ? event.target.checked : event.target.type === 'file' ? event.target.files[0] : event.target.value)} errorMessageForce={window.models.env.context.active_error ? window.models.env.context.active_error.field_map[props.name] : false} errorMessage=\"Field required\"/>\n      );\n      api.wait_exist(() => this.refs.input).then(async () => this.setInputValue(await value || await this.state.value || null));\n    }\n\n    return (\n      <List style={{...(invisible ? {display: 'none'} : {}), ...(!this.state.selectivityOpened ? {'zIndex': '0'} : {})}}>\n        {component}\n      </List>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Field from './Field';\nimport api from 'api';\n\nexport default class extends Component {\n  async afterGuiAttached() {\n    await api.wait_exist(() => this.refs.loaded);\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) this.refs.selectivity.selectivity.open();\n  }\n\n  getValue() {\n    if (this.refs.selectivity && this.refs.selectivity.selectivity) {\n      let value = this.refs.selectivity.selectivity.getData();\n      if (!value) return this.props.tree.state.records[this.props.rowIndex][this.props.name];\n      const colDef = window.tools.copy(this.props.column.colDef);\n      delete colDef.cellEditorFramework;\n      let temp_ids = this.refs.selectivity.selectivity.getValue();\n      if (!Array.isArray(temp_ids)) temp_ids = [temp_ids];\n      const field = window.models.env[this.props.model]._fields[this.props.name];\n      const records = field.relation && window.models.env[field.relation];\n      for (let temp_id of temp_ids) {\n        if (!field.relation) break;\n        if (temp_id.slice(0, 5) === 'etemp') {\n          records.add(api.globals.temp_records[temp_id]);\n        }\n        else {\n          const record = records.browse();\n          record.update({id: temp_id});\n          records.add(record);\n        }\n      }\n      if (!Array.isArray(value)) {\n        value = value.text;\n      }\n      else {\n        value = value.map((data) => data.text).join(', ');\n      }\n      this.props.tree.onChange({colDef, data: this.props.tree.state.records[this.props.rowIndex], specialValue: value, oldValue: null, newValue: field.relation ? records : this.refs.selectivity.selectivity.getValue()});\n      /*if (this.props.tree.state.selected) {\n        for (let row of this.props.tree.state.selected) {\n          if (row === this.props.tree.state.records[this.props.rowIndex]) continue;\n          this.props.tree.onChange({colDef, data: row, oldValue: null, newValue: field.relation ? records : this.refs.selectivity.selectivity.getValue()});\n          row[this.props.name] = value;\n        }\n        api.wait(100).then(() => this.props.tree.gridOptions.api.deselectAll() || this.props.tree.setState({records: this.props.tree.state.records}));\n      }*/\n      return value;\n    }\n  }\n\n  async onSelect() {\n    await api.wait(10);\n    this.props.api.stopEditing();\n  }\n\n  render(props) {\n    //const field = props.field_object;\n    //delete props.field_object;\n    this.refs = {};\n    const onSelect = this.onSelect.bind(this);\n    const component = (<Field {...props} ref_object={this.refs} cellEdit={true} onSelect={onSelect}/>);\n    return component;\n  }\n}\n","import React from 'react';\nimport Page from './Page';\nimport Grid from './Grid';\nimport GridEditor from './GridEditor';\nimport {Button, Popup} from 'framework7-react';\nimport api from 'api';\n\nfunction autoSizeAll(gridOptions, listener) {\n  if (this) {\n    this.gridOptions = gridOptions;\n    for (let column of gridOptions.api.gridCore.gridOptions.columnDefs) {\n      gridOptions.api.getFilterInstance(column.field).eClearButton.addEventListener('click', () => gridOptions.api.onFilterChanged());\n    }\n  }\n  /*if (listener && !gridOptions.api.gridCore.eGridDiv.parentElement) {\n    window.removeEventListener('resize', listener);\n    return;\n  }*/\n  //let grid = gridOptions.api\n  gridOptions.api.sizeColumnsToFit();\n}\n\nexport default class Tree extends React.Component {\n  constructor(props) {\n    super(props);\n\n    const model = props.model || window.models.env.context.active_model;\n    function isEditable() {\n      if (props.isTreeView && !props.editable) {\n        return false;\n      }\n      if (window.models.env.context.editing) {\n        return true;\n      }\n      return false;\n    }\n    this.isEditable = isEditable;\n    this.pendingTask = {create: false, write: false, tasked: false};\n    this.pendingCreate = false;\n    this.pendingWrite = false;\n    function taskJob() {\n      if (this.pendingTask.tasked) return;\n      this.pendingTask.tasked = true;\n      window.models.env.context.active_task.push((async () => {\n        if (this.pendingTask.create) await this.state.new_records.create();\n        if (this.pendingTask.write) await window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field].write();\n        if (this.props.parent_model) window.models.env.context.active_id.write({[this.state.tree_field]: window.models.env.context.active_lines[this.state.model]['many2many_' + this.state.tree_field].ids});\n      }).bind(this));\n    }\n    this.taskJob = taskJob.bind(this);\n    function onChange(params) {\n      if (!params.colDef.cellEditorFramework && params.newValue != params.oldValue) {\n        const value = params.newValue;\n        const records = window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field];\n        const record = params.data.id ? records.find(params.data.id) : records.find(params.data._original_object_for_id);\n        if (!this.pendingTask.write && record.id) {\n          this.pendingTask.write = true;\n        }\n        else if (!this.pendingTask.create && !record.id) {\n          this.pendingTask.create = true;\n        }\n        if (!this.pendingTask.tasked && (this.pendingTask.create || this.pendingTask.write)) {\n          this.taskJob();\n        }\n        record[params.colDef.field] = value;\n        if (!params.selectedOnchange && this.state.selected) {\n          for (let row of this.state.selected) {\n            if (row === params.data) continue;\n            this.onChange({colDef: params.colDef, selectedOnchange: true, data: row, specialValue: params.specialValue, oldValue: null, newValue: value});\n            row[params.colDef.field] = params.specialValue || value;\n          }\n          //api.wait(100).then(() => this.gridOptions.api.deselectAll()).then(() => this.setState({records: this.state.records})).then(() => this.gridOptions.api.refreshCells());\n          api.wait(100).then(() => this.gridOptions.api.deselectAll()).then(() => this.setState({records: this.state.records})).then(() => !params.colDef.cellEditorParams && this.gridOptions.api.refreshCells());\n        }\n      }\n    }\n    this.onChange = onChange.bind(this);\n    function onSelectionChanged(event) {\n      const selected = event.api.getSelectedRows();\n      const ids = [];\n      for (let data of selected) {\n        if (data.id) ids.push(data.id);\n      }\n      return this.setState({active_ids: ids, selected});\n    }\n    this.onSelectionChanged = onSelectionChanged.bind(this);\n    function handleOutside(event) {\n      if (this.refs.grid && !this.refs.grid.base.querySelector('div.ag-body').contains(event.target) && this.gridOptions) this.gridOptions.api.stopEditing();\n    }\n    this.handleOutside = handleOutside.bind(this);\n    const children = props.children.constructor === Array ? props.children : [props.children];\n    const fields = children.map((child, index) => ({headerName: (() => child.attributes.string || window.models.env[model]._fields[child.attributes.name].string)(), field: child.attributes.name, suppressMovable: true, filterParams: {applyButton: true, clearButton: true}, editable: isEditable, invisible: child.props.invisible, onCellValueChanged: this.onChange, ...(child.props.sort ? (this.default_sort = child.props.name + ' ' + child.props.sort) && {sort: child.props.sort} : {}), ...((['date', 'datetime', 'selection'].indexOf(window.models.env[model]._fields[child.attributes.name].type) !== -1 || window.models.env[model]._fields[child.attributes.name].relation) ? {cellEditorFramework: GridEditor, cellEditorParams: {...child.props, model, tree: this}, cellClass: 'editable-special-cell'} : {})}));\n    fields[0].checkboxSelection = true;\n    fields[0].headerCheckboxSelection = true;\n    //fields[0].suppressSizeToFit = true;\n    const limit = parseInt(props.limit) || 50;\n    const records = [];\n    this.state = {fields: fields, records: records, new_records: window.models.env[model], limit: limit, model: model, frameworkComponents: {specialEditor: GridEditor}, selected: []};//, popupOpened: false};\n    if (props.field) {\n      this.state.tree_field = props.field;\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.gridOptions) autoSizeAll(this.gridOptions);\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleOutside);\n    //return autoSizeAll.bind(this)(this.gridOptions);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleOutside);\n    window.removeEventListener('resize', this.resizeListener);\n  }\n\n  paginate(rows, index=0) {\n    if (rows.length < 1) {\n      return rows;\n    }\n    //rows = rows.concat(this.state.new_records)\n    const count = rows[0]._search_count;\n    if (index > 0) {\n      let pushed = 0;\n      while (pushed < this.state.limit * index) {\n        rows.unshift({});\n        pushed += 1;\n      }\n    }\n    while (rows.length < count) {\n      rows.push({});\n    }\n    return rows;\n  }\n\n  sort(fields, params) {\n    console.log(this);\n    const models = window.models;\n    if (fields.length > 0) {\n      models.env.context.active_sort = fields[0].colId + ' ' + fields[0].sort;\n    }\n    else {\n      delete models.env.context.active_sort;\n    }\n    /*const load = api.preload();\n    try {\n      const args = [];\n      if (this.state.tree_field) {\n        args.push([this.state.tree_field, 'in', window.models.env.context.active_ids]);\n      }\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }\n    load.done();*/\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      params.forcePopup = true;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  async filter(fields, params) {\n    const models = window.models;\n    //const load = api.preload();\n    if (this.state.tree_field) await api.wait_exist(() => models.env.context.active_id);\n    const args = [];//this.state.tree_field ? [!this.props.parent_model && [this.state.tree_field, 'in', window.models.env.context.active_ids] || ['id', 'in', window.models.env.context.active_id[this.state.tree_field] || []]] : [];\n    const values = [];\n    for (let field in fields) {\n      let conditions = [fields[field]];\n      let operator = 'AND';\n      if (fields[field].operator !== undefined) {\n        conditions = [fields[field].condition1, fields[field].condition2];\n        operator = fields[field].operator;\n      }\n      const types = {startsWith: 'ilike', endsWith: 'ilike', contains: 'ilike', notContains: 'not ilike', equals: '=', notEqual: '!='};\n      if (operator === 'OR') {\n        args.push('|');\n      }\n      for (let condition of conditions) {\n        /*if (operator === 'OR') {\n          args.push('|');\n        }*/\n        values.push(condition.filter);\n        if (models.env[this.state.model]._fields[field].relation) {\n          const relation = models.env[models.env[this.state.model]._fields[field].relation];\n          const result_ids = await relation.search([relation._rec_name || 'name', types[condition.type], condition.filter]);\n          args.push([field, 'in', result_ids.ids]);\n          continue;\n        }\n        args.push([field, types[condition.type], condition.filter]);\n      }\n    }\n    this.args = args;\n    /*try {\n      const records = await models.env[this.state.model || models.env.context.active_model].search(...args);\n      let result = [];\n      if (records.length > 0) {\n        result = records.values.constructor === Array ? records.values : [records.values];\n      }\n      this.setState({records: result});\n    }\n    catch(error) {\n      console.log(error);\n    }*/\n    let index = 0;\n    for (let input of window.document.getElementsByClassName('ag-filter-filter')) {\n      if (values[index] !== undefined) {\n        let value = values[index];\n        setTimeout(() => input.value = value, 1000);\n      }\n      index += 1;\n    }\n    //load.done();\n    if (params.api.paginationGetCurrentPage() !== 0) {\n      params.api.paginationGoToFirstPage();\n    }\n    else {\n      params.newData = false;\n      params.forcePopup = true;\n      this.paging.bind(this)(0, params);\n    }\n  }\n\n  async paging(index, params) {\n    if (params.newData !== false) {\n      return;\n    }\n    if (this.props.isPopup && !params.forcePopup) return;\n    //const load = api.preload();\n    try {\n      const models = window.models;\n      if (this.state.tree_field) await api.wait_exist(() => models.env.context.active_id);\n      if (params.deleting) {\n        if (!this.args) this.args = [];\n        this.args.push(['id', 'not in', this.state.active_ids]);\n      }\n      const args = (this.state.tree_field ? [!this.props.parent_model && [this.state.tree_field, 'in', window.models.env.context.active_ids || []] || ['id', 'in', window.models.env.context.active_id[this.state.tree_field] || []]] : []);\n      if (this.args) args.push(...this.args);\n      models.env.context.active_limit = this.state.limit;\n      models.env.context.active_index = index;\n      if (!models.env.context.active_sort && this.default_sort) (models.env.context.active_sort = this.default_sort) && delete this.default_sort;\n      let records = await models.env[this.state.model].search(...args, ...((this.props.domain instanceof Function ? this.props.domain(models.env.context.active_id) : this.props.domain) || []));\n      if (!this.props.isTreeView) {\n        if (!models.env.context.active_lines) models.env.context.active_lines = {};\n        if (!models.env.context.active_lines[this.state.model]) models.env.context.active_lines[this.state.model] = {};\n        if (!models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field]) {\n          models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field] = records;\n        }\n        else {\n          records = models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field].add(records);\n        }\n      }\n      else {\n        records.add(this.state.new_records);\n      }\n      if (records.length > 0) {\n        if (this.args) {\n          records = records.filter((record) => {\n            const domain = window.tools.copy(this.args);\n            for (let args of domain) if (Array.isArray(args)) args[0] = record[args[0]];\n            return window.tools.apply_domain(...domain);\n          });\n        }\n        await this.setState({records: this.paginate(await records.sort_by(...(!models.env.context.active_sort ? [records._rec_name || 'name', false] : models.env.context.active_sort.split(' ').map((value) => value == 'asc' ? false : value))).read(true, this.state.fields.map((field) => field.field)), index)})\n      }\n      else if (records.length === 0) await this.setState({records: []});\n    }\n    catch(error) {\n      console.error(error);\n    }\n    //load.done();\n  }\n\n  async addItem() {\n    if (!this.isEditable()) return;\n    const record = window.models.env[this.state.model].browse();\n    if (window.models.env.context.active_id.id && !this.props.parent_model) record[this.state.tree_field] = window.models.env.context.active_id.id;\n    if (record._pending_promises.length > 0) {\n      await record._wait_promise();\n      if (!this.pendingTask.tasked) {\n        this.pendingTask.create = true;\n        this.taskJob();\n      }\n    }\n    const values = await record.read(true, this.state.fields.map((field) => field.field));\n    this.state.new_records.add(record);\n    this.state.records.push(values[0]);\n    if (!this.props.treeView) window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field].add(record);\n    await this.setState({records: this.state.records, new_records: this.state.new_records});\n    this.gridOptions.api.updateRowData({add: values});\n  }\n\n  async chooseItem() {\n    //await this.setState({popupOpened: true});\n    await this.refs.popup.paging(0, {newData: false, forcePopup: true});\n    const node = this.refs.popup_modal.getDOMNode();\n    node.className = 'popup modal-in';\n    node.children[0].className = node.children[0].className.replace('page-next', '');\n    autoSizeAll(this.refs.popup.gridOptions);\n    return;\n  }\n\n  async selectItem() {\n    if (this.state.active_ids.length > 0) {\n      const selected_ids = await window.models.env[this.props.model].browse(this.state.active_ids);\n      const records = window.models.env.context.active_lines[this.props.model]['many2many_' + this.props.active_field].add(selected_ids);\n      window.models.env.context.active_id[this.props.active_field] = records;\n      await window.models.env.context.active_id._wait_promise();\n      await this.props.parent_tree.paging(0, {newData: false});\n      this.gridOptions.api.deselectAll();\n      this.props.parent_tree.refs.popup_modal.getDOMNode().className = this.props.parent_tree.refs.popup_modal.getDOMNode().className.replace('modal-in', 'modal-out');\n      //return await this.parent_tree.setState({popupOpened: false});\n    }\n  }\n\n  async removeItem() {\n    if (this.props.isTreeView) {\n      const records = await window.models.env[this.state.model].browse(this.state.active_ids);\n      await records.unlink();\n      await this.paging.bind(this)(0, {newData: false});\n      //this.gridOptions.api.updateRowData({remove: this.state.selected});\n      return this.gridOptions.api.deselectAll();//this.setState({selected: []});\n    }\n    const field = window.models.env[this.props.parent_model || this.state.model]._fields[this.state.tree_field];\n    const type = field.type;\n    for (let data of this.state.selected) {\n      let index = this.state.records.length;\n      while (index--) {\n        if (data === this.state.records[index]) this.state.records.splice(index);\n      }\n      if (!window.models.env.context.active_id.id || type != 'many2one') {\n        console.log(type)\n        const records = window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field];\n        const values = records.values;\n        if (!Array.isArray(values)) {\n          if (type != 'many2one') {\n            if (data._original_object_for_id && data._original_object_for_id === values) records._values[0] = {};\n            else if (data.id === values.id) (records._values[0] = {}) && delete records._values[data.id];\n            continue;\n          }\n          if (data._original_object_for_id ? data._original_object_for_id === values : data.id === values.id) window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field] = window.models.env[this.state.model];\n          continue;\n        }\n        let index = values.length\n        while (index--) {\n          if (data._original_object_for_id && data._original_object_for_id === values[index]) values.splice(index);\n          else if (!data._original_object_for_id && data.id === values[index].id) values.splice(index) || delete records._values[data.id];\n        }\n        continue;\n      }\n      if (type != 'many2one') continue;\n      const params = {data};\n      params.oldValue = \"\";\n      params.newValue = null;\n      params.colDef = {field: this.state.tree_field};\n      this.onChange(params);\n    }\n    const selected = this.state.selected;\n    //await this.setState({records: this.state.records, selected: []});\n    if (type != 'many2one') window.models.env.context.active_id[this.state.tree_field] = window.models.env.context.active_lines[this.state.model][(this.props.parent_model ? 'many2many_' : '') + this.state.tree_field];\n    //this.gridOptions.api.updateRowData({remove: selected});\n    await this.paging.bind(this)(0, {newData: false, deleting: true});\n    return this.gridOptions.api.deselectAll();\n  }\n\n  render(props) {\n    const model = props.model || window.models.env.context.active_model;\n    const models = window.models;\n    const editableHeight = () => this.isEditable() ? (30) : 0\n    const grid = (\n      <div className=\"card-body\" style={{height: Math.min(this.state.records.length, this.state.limit) * 48 + 112 + editableHeight()/* <= 440 ? this.state.records.length * 48 + 112 + editableHeight() + 'px' : '67vh'*/ + 'px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {position: 'absolute', left: '-9999px', top: '-9999px'} : {})}}>\n        <Grid ref=\"grid\" onGridReady={((params) => autoSizeAll.bind(this)(params) || window.addEventListener('resize', this.resizeListener = () => autoSizeAll(params, this.resizeListener))).bind(this)} onRowClicked={(params) => models.env[this.state.model].browse(null).then((record) => delete models.env.context.active_id).then(() => api.globals.app.views.main.router.navigate('/form/' + model + '?id=' + params.data.id))} onPaginationChanged={(params) => this.paging.bind(this)(params.api.paginationGetCurrentPage(), params)} onSortChanged={(params) => this.sort.bind(this)(params.api.getSortModel(), params)} onFilterChanged={(params) => this.filter.bind(this)(params.api.getFilterModel(), params)} onSelectionChanged={this.onSelectionChanged} paginationPageSize={this.state.limit} columnDefs={this.state.fields.filter((field) => !props.isTreeView && models.env.context.active_id && field.invisible instanceof Function ? !field.invisible({}, models.env.context.active_id) : !field.invisible)} rowData={this.state.records} frameworkComponents={this.state.frameworkComponents}/>\n        <Button onClick={this.addItem.bind(this)} style={{display: this.isEditable() && (props.create instanceof Function ? props.create(models.env.context.active_id) : props.create) !== false ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Add</Button>\n        <Button onClick={this.chooseItem.bind(this)} style={{display: (props.choose !== undefined ? (props.choose instanceof Function ? props.choose(models.env.context.active_id) : props.choose) : props.parent_model) && this.isEditable() ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Choose</Button>\n        <Button onClick={this.selectItem.bind(this)} style={{display: props.isPopup && this.state.selected.length > 0 ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Select</Button>\n        <Button onClick={this.removeItem.bind(this)} style={{display: (props.isTreeView || this.isEditable()) && !props.isPopup && this.state.selected.length > 0 ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>Delete</Button>\n        {!props.isPopup && window.tools.view[this.state.model].actions.tree && Object.entries(window.tools.view[this.state.model].actions.tree).map(([function_name, string]) => (\n          <Button onClick={(() => models.env[this.state.model].browse(this.state.active_ids).then((records) => records[function_name]()).then(() => this.gridOptions.api.deselectAll())).bind(this)} style={{display: (props.isTreeView || !models.env.context.editing) && this.state.selected.length > 0 ? 'inline-block' : 'none', top: '-45px', backgroundColor: '#fff'}}>{string}</Button>\n        ))}\n        {!props.isTreeView && props.parent_model &&\n        <Popup ref=\"popup_modal\" backdrop={false} animate={true}>{/* opened={this.state.popupOpened} onPopupClosed={() => this.setState({popupOpened : false})}>*/}\n          <Page popup title={window.tools.view[this.state.model] ? window.tools.view[this.state.model].string : 'Choose'}>\n            <div className=\"card\">\n              <Tree ref=\"popup\" isTreeView isPopup parent_tree={this} active_field={this.state.tree_field} model={this.state.model} domain={(this.state.records.length > 0 ? [['id', 'not in', window.models.env.context.active_lines[props.model]['many2many_' + props.field].ids]] : []).concat(props.domain ? props.domain(models.env.context.active_id) : [])}>\n                {Array.prototype.slice.call(new DOMParser().parseFromString(window.tools.view[this.state.model].tree || props.tree_arch || '<tree><field name=\"' + (window.models.env[this.state.model]._rec_name || 'name') + '\"/></tree>', 'text/xml').children[0].children).map((element) => {\n                  const props = {model};\n                  for (let attribute of element.attributes) {\n                    props[attribute.name] = attribute.value;\n                  }\n                  return React.createElement(null, props);\n                })}\n              </Tree>\n            </div>\n          </Page>\n        </Popup>\n        }\n      </div>\n    );\n    if (!props.isTreeView) api.wait(500).then(() => !this.pagingCalled ? (this.pagingCalled = true) && this.paging(0, {newData: false, forceOnRender: true}) : api.wait(1000).then(() => this.pagingCalled = false));\n    if (!props.isTreeView || props.isPopup) {\n      if (window.models.env.context.editing) delete grid.props.children[0].props.onRowClicked;\n      return grid;\n    }\n    return (\n      <Page title={props.title || window.tools.view[this.state.model].string}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {props.title || window.tools.view[this.state.model].string}\n              <br/>\n              <Button onClick={() => api.globals.app.views.main.router.navigate('/form/' + model)} style={{display: 'inline-block'}} fill>Create</Button>\n            </div>\n          </div>\n          {grid}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n//import Parser from 'react-jsx-parser';\nimport Tree from '../Tree';\n//import Field from '../Field';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nconst customComponents = {Tree, Field: null};\n\nconst function_string =\n`if (!active_id) return false;\nvar True = true;\nvar False = false;\nvar None = null;\nreturn `;\n\n\nfunction parseView(view, model, title) {\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  console.log(view);\n  if (title) view.setAttribute('title', title);\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + props[attribute]]))();\n        }\n      }\n      if (props.domain) props.domain = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + '[' + props.domain + ']']))();\n      props.isTreeView = true;\n      const children = recurse(element.children, props) || [(() => element.innerHTML)];\n      components.push(() => React.createElement(component, props, children.map((result) => result())));\n    }\n    if (!components.length) return null;\n    return components\n  }\n  return recurse([view], true)[0];\n}\n\nconst cachedViews = {};\n\nfunction render(props) {\n  let model = window.models.env.context.active_model;\n  if (props.f7route && props.f7route.url) window.models.env.context.active_url = props.f7route.url;\n  else window.models.env.context.active_url = '/';\n  if (props.f7route && props.f7route.params && props.f7route.params.model) {\n    model = props.f7route.params.model;\n  }/* else {\n    window.models.env.context.active_url = '/';\n  }*/\n  const mode = 'tree';\n  this.model = model;\n  this.mode = mode;\n  const view = window.tools.view[model].tree;\n  window.models.env.context.active_model = model;\n\n  if (!cachedViews[view + (props.title ? '-' + props.title : '')]) {\n    // eslint-disable-next-line\n    //cachedViews[view] = evals(Parser(view, {presets: [preset]}).code);\n    cachedViews[view + (props.title ? '-' + props.title : '')] = parseView(view, model, props.title);\n  }\n\n  //if (window.tools.view[model].custom_init && window.tools.view[model].custom_init[model + '.' + mode]) window.tools.view[model].custom_init[model + '.' + mode].bind(this)(props);\n\n  return cachedViews[view + (props.title ? '-' + props.title : '')]();\n\n  /*return (\n    <Parser components={{Tree}} jsx={view} renderInWrapper={false}/>\n  );*/\n}\n\nexport default class extends React.Component {\n  componentDidUpdate() {\n    const model = this.model, mode = this.mode;\n    if (window.tools.view[model].custom_init && window.tools.view[model].custom_init[model + '.' + mode]) window.tools.view[model].custom_init[model + '.' + mode].bind(this)(this.props);\n  }\n\n  render = render;\n\n}\n","import React from 'react';\nimport Page from './Page';\nimport {Button} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    //const model = window.models.env.context.active_model;\n    const models = window.models;\n    //const active_id = window.models.env.context.active_id || null;\n    models.env.context.editing = false;\n    //models.env.context.new_value = {};\n    this.state = models.env.context;//{editing: false, active_id: active_id};\n    this.state.edit_function = this.edit.bind(this);\n  }\n\n  async componentDidMount(props) {\n    const model = window.models.env.context.active_model;\n    const models = window.models;\n    models.env.context.active_lines = {};\n    models.env.context.active_task = [];\n    const form = this;\n    if (!models.env.context.active_ids || models.env.context.active_ids.length < 1 || !models.env.context.active_ids[0]) {\n      models.env.context.active_id = models.env[model].browse();\n      await window.models.env.context.active_id._wait_promise();\n      models.env.context.editing = true;\n      return this.setState(models.env.context);\n    }\n    //else if (!models.env.context.active_id) {\n    models.env.context.active_id = await models.env[model].browse(models.env.context.active_ids);\n    //}\n    return models.env.context.refresh();\n    //api.globals.app.views.main.router.refreshPage();\n  }\n\n  async edit() {\n    await api.wait_exist(() => !api.globals.onchange_running);\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    const offline = this.props.offline ? JSON.parse(this.props.offline) : false;\n    if (!this.state.editing) {\n      models.env.context.editing = true;\n      return await this.setState({...models.env.context, offline});\n    }\n    const operation = models.env.context.active_id.id ? 'write' : 'create';\n    try {\n      await models.env.context.active_id[operation]({}, !offline);\n    }\n    catch(error) {\n      if (error && error.constructor === window.tools.exceptions.RequiredError) {\n        error.field_map = {};\n        for (let field of error.fields) {\n          error.field_map[field] = true;\n        }\n        models.env.context.active_error = error;\n        await this.setState({active_id: models.env.context.active_id});\n        api.globals.app.toast.create({text: 'Some fields are required', closeButton: false, closeTimeout: 2000, position: 'center'}).open();\n        return;\n      }\n      else {\n        throw error;\n      }\n    }\n    for (let task of models.env.context.active_task) {\n      const result = task();\n      if (result && result.constructor === Promise) await result;\n    }\n    models.env.context.active_task = [];\n    if (operation === 'create') {\n      api.globals.app.views.main.router.navigate(window.location.hash.replace('#!', '') + '?id=' + models.env.context.active_id.id, {reloadCurrent: true});\n      const promises = [];\n      for (let model in models.env.context.active_lines) {\n        for (let inverse_field in models.env.context.active_lines[model]) {\n          if (inverse_field.slice(0, 10) === 'many2many_') continue;\n          promises.push(models.env.context.active_lines[model][inverse_field].write({[inverse_field]: models.env.context.active_id.id}));\n        }\n      }\n      await Promise.all(promises);\n    }\n    models.env.context.editing = false;\n    if (offline) models.env.context.unsaved = {...models.env.context.unsaved, [model]: {...(models.env.context.unsaved && models.env.context.unsaved[model]), [models.env.context.active_id.id]: models.env.context.active_id.id}};\n    await api.update_session({unsaved: models.env.context.unsaved});\n    await this.setState({...models.env.context, offline});\n    //api.globals.app.views.main.router.refreshPage();\n  }\n\n  async upload() {\n    await api.wait_exist(() => !api.globals.onchange_running);\n    const models = window.models;\n    const model = models.env.context.active_id._name;\n    let record = await models.env[model].browse(models.env.context.active_id.id);\n    if (record.length < 1) {\n      let old_record = record;\n      record = await record.create();\n      await old_record.unlink(false);\n      models.env.context.active_id = record;\n    }\n    else {\n      record = await models.env.context.active_id.write();\n      models.env.context.active_id = record;\n    }\n    if (models.env.context.unsaved && models.env.context.unsaved[model] && models.env.context.unsaved[model][record.id]) delete models.env.context.unsaved[model][record.id];\n    await api.update_session({unsaved: models.env.context.unsaved});\n    return await this.setState({...models.env.context, offline: false});\n  }\n\n  render(props) {\n    const model = window.models.env.context.active_model;\n    console.log(this.state);\n    //const models = window.models;\n    const buttonStyle = {width: 'auto', float: 'left', 'margin-right': '10px'};\n    const uploadStyle = {};\n    if (!this.state.offline) uploadStyle['display'] = 'none';\n    return (\n      <Page title={window.tools.view[model].string}>\n        <div className=\"card\" style={{margin: 0, boxShadow: 'none'}}>\n          <div className=\"card-header\">\n            <div className=\"data-table-title\">\n              {window.tools.view[model].string}\n              <span style={{color: '#666666'}}>{' / ' + (this.state.active_id && this.state.active_id.id ? this.state.active_id.name : 'New')}</span>\n              <div>\n                <Button onClick={this.edit.bind(this)} style={buttonStyle} fill>{this.state.editing ? 'Save' : 'Edit'}</Button>\n                <Button onClick={() => api.globals.app.views.main.router.back()} style={{...buttonStyle, ...(!this.state.editing ? {display: 'none'} : {})}}>{'Cancel'}</Button>\n                <Button onClick={this.upload.bind(this)} style={{...buttonStyle, ...uploadStyle}} fill>{'Upload'}</Button>\n              </div>\n            </div>\n          </div>\n          {props.children}\n        </div>\n      </Page>\n    );\n  }\n}\n","import React from 'react';\n\nexport default (props) => (\n  <div style={{margin: 0, backgroundColor: '#8F8F8F', 'minHeight': '56px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {display: 'none'} : {})}}>\n    {props.children}\n  </div>\n)\n","import React from 'react';\nimport {\n    Button,\n} from 'framework7-react';\nimport api from 'api';\n\nasync function button(props) {\n  await api.wait_exist(() => !api.globals.onchange_running);\n  //const load = api.preload();\n  if (props.name) {\n    try {\n      if (window.models.env.context.editing) {\n        await window.models.env.context.edit_function();\n      }\n      if (!window.models.env.context.active_error) {\n        await window.models.env.context.active_id[props.name]();\n        await window.models.env.context.refresh();\n      }\n    }\n    catch(error) {\n      console.log(error);\n      await window.models.env.context.refresh();\n      //await api.globals.app.views.main.router.refreshPage();\n    }\n  }\n  //load.done();\n}\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = window.models.env.context;\n  }\n\n  render(props) {\n    return (\n      <Button fill onClick={() => button.bind(this)(props)} style={{display: (props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? 'none' : 'block', float: 'left', width: 'auto', margin: '10px'}}>{props.string}</Button>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{minHeight: '250px', marginTop: '20px'}}>\n        <div className=\"card-content form-sheet\" style={{'display': 'flex', 'flex-wrap': 'wrap'}}>\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {BlockTitle} from 'framework7-react';\nimport api from 'api';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    //this.state.lastHeight = 0.0;\n    this.state.previousTitle = false;\n  }\n\n  async componentDidMount() {\n    await api.wait_exist(() => this.refs.group);\n    await api.wait(0);\n    if (!this.props.title) {\n      let index = 0\n      for (let element of [this.refs.group.previousElementSibling, this.refs.group.nextElementSibling]) {\n        if (element && (!index ? element.offsetLeft === 0 : element.offsetLeft > 0) && element.querySelector('div.component-group-title')) {\n          this.setState({previousTitle: true});\n          break;\n        }\n        index += 1;\n      }\n    }\n    /*if (this.props.children || this.refs.group.previousElementSibling === null || this.refs.group.previousElementSibling.offsetLeft !== 0) {\n      return;\n    }\n    this.interval = setInterval(() => {\n      if (!this.refs.group || !this.refs.group.previousElementSibling) return clearInterval(this.interval);\n      const lastHeight = this.refs.group.previousElementSibling.clientHeight - 20;\n      if (lastHeight !== this.state.lastHeight) {\n        this.setState({lastHeight: lastHeight});\n      }\n    }, 500);*/\n  }\n\n  componentWillUnmount() {\n    if (this.interval) clearInterval(this.interval);\n  }\n\n  render(props) {\n    if (props.width && props.width.slice(-1) === '%' && parseInt(props.width.slice(0, -1)) > 97) {\n      props.width = '97%';\n    }\n    return (\n      <div ref=\"group\" className=\"component-group\" style={{float: 'left', width: props.width || '46.5%', padding: '10px', marginTop: '20px', height: 'auto', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {position: 'absolute', left: '-9999px', top: '-9999px'} : {})}}>\n        {(props.title || this.state.previousTitle) && (\n          <BlockTitle className=\"component-group-title\" style={{'fontSize': '25px', 'lineHeight': 'unset', ...(this.state.previousTitle ? {'height': '37px'} : {})}}>{props.title || ''}</BlockTitle>\n        )}\n        {props.children}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class extends React.Component {\n\n  render(props) {\n    return (\n      <div className=\"card\" style={{margin: 0, boxShadow: 'none', padding: '20px', minHeight: '30%', marginTop: '30px', ...((props.invisible instanceof Function ? props.invisible(window.models.env.context.active_id) : props.invisible) ? {display: 'none'} : {})}}>\n        <div className=\"card-header\">\n          {props.children}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nconst function_string =\n`if (!active_id) return false;\nvar True = true;\nvar False = false;\nvar None = null;\nreturn `;\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly', 'create', 'choose']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', 'parent', function_string + props[attribute]]))();\n        }\n      }\n      if (props.domain) props.domain = new (Function.prototype.bind.apply(Function, [null, 'active_id', 'parent', function_string + '[' + props.domain + ']']))();\n      if (component === Tree) {\n        const field = window.models.env[model]._fields[parent_props.name];\n        props.model = field.relation;\n        props.field = field.type === 'one2many' ? field.inverse : parent_props.name;\n        if (field.type !== 'one2many') {\n          props.parent_model = model;\n          props.tree_arch = element.outerHTML;\n        }\n        if (parent_props.invisible) props.invisible = parent_props.invisible;\n        if (parent_props.domain) props.domain = parent_props.domain;\n      }\n      const children = recurse(element.children, props) || [(() => element.innerHTML)];\n      components.push(() => React.createElement(component, props, children.map((result) => result())));\n    }\n    if (!components.length) return null;\n    return components\n  }\n  return recurse([view])[0];\n}\n\nconst cachedViews = {};\n\nexport default class extends React.Component {\n  componentDidUpdate() {\n    const model = this.model, mode = this.mode;\n    if (window.tools.view[model].custom_init && window.tools.view[model].custom_init[model + '.' + mode]) window.tools.view[model].custom_init[model + '.' + mode].bind(this)(this.props);\n  }\n\n  render(props) {\n    const refresh = () => this.setState({});\n    this.refresh = refresh.bind(this);\n    window.models.env.context.refresh = this.refresh;\n    let model = window.models.env.context.active_model;\n    if (props.f7route && props.f7route.url) window.models.env.context.active_url = props.f7route.url;\n    else window.models.env.context.active_url = '/';\n    if (props.f7route && props.f7route.params && props.f7route.params.model) {\n      model = props.f7route.params.model;\n    }\n    const mode = 'form';\n    this.model = model;\n    this.mode = mode;\n    const id = props.f7route.query.id;\n    const view = window.tools.view[model].form;\n    window.models.env.context.active_model = model;\n    if (id) {\n      window.models.env.context.active_ids = [id];\n      //delete window.models.env.context.active_id;\n    }\n    else {\n      delete window.models.env.context.active_ids;\n    }\n    /*if (id) {\n      window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n    }*/\n    if (!cachedViews[view]) {\n      // eslint-disable-next-line\n      //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n      cachedViews[view] = parseView(view, model);\n    }\n\n    //if (window.tools.view[model].custom_init && window.tools.view[model].custom_init[model + '.' + mode]) window.tools.view[model].custom_init[model + '.' + mode].bind(this)(this.props);\n\n    return cachedViews[view]();\n  }\n}\n","import React from 'react';\nimport Form from '../Form';\nimport Header from '../Header';\nimport Button from '../Button';\nimport Sheet from '../Sheet';\nimport Group from '../Group';\nimport Field from '../Field';\nimport Tree from '../Tree';\nimport Footer from '../Footer';\nimport TreePage from './TreePage';\n//import {transform as Parser} from 'babel-core';\n//import preset from '@babel/preset-react';\nimport api from 'api';\n\nwindow.rapydComponents = {...window.rapydComponents, TreePage, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n\nconst function_string =\n`if (!active_id) return false;\nvar True = true;\nvar False = false;\nvar None = null;\nreturn `;\n\nfunction parseView(view, model) {\n  const customComponents = {...window.rapydComponents, TreePage, Form, Header, Button, Sheet, Group, Field, Tree, Footer};\n  view = new DOMParser().parseFromString(view, 'text/xml').children[0];\n  function recurse(elements, parent_props) {\n    let components = [];\n    for (let element of elements) {\n      const component = api.hasValue(element.tagName, '-') ? customComponents[element.tagName.split('-').map((word) => word[0].toUpperCase() + word.slice(1).toLowerCase()).join('')] : null || customComponents[element.tagName[0].toUpperCase() + element.tagName.toLowerCase().slice(1)] || customComponents[element.tagName] || element.tagName;\n      const props = {model};\n      for (let attribute of element.attributes) {\n        props[attribute.name] = attribute.value;\n      }\n      for (let attribute of ['invisible', 'required', 'readonly']) {\n        if (api.hasKey(props, attribute)) {\n          if (api.hasValue(['true', 'True'], props[attribute])) props[attribute] = true;\n          if (api.hasValue(['false', 'False'], props[attribute])) props[attribute] = false;\n          if (props[attribute].constructor === Boolean) continue;\n          if (api.hasValue(props[attribute], ' == ')) props[attribute] = props[attribute].replace('==', '===');\n          if (api.hasValue(props[attribute], ' != ')) props[attribute] = props[attribute].replace('!=', '!==');\n          if (api.hasValue(props[attribute], ' === ') || api.hasValue(props[attribute], ' !== ')) props[attribute] = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + props[attribute]]))();\n        }\n      }\n      if (props.domain) props.domain = new (Function.prototype.bind.apply(Function, [null, 'active_id', function_string + '[' + props.domain + ']']))();\n      if (component === Tree) {\n        props.model = window.models.env[model]._fields[parent_props.name].relation;\n        props.field = window.models.env[model]._fields[parent_props.name].inverse;\n      }\n      const children = recurse(element.children, props) || [(() => element.innerHTML)];\n      components.push(() => React.createElement(component, props, console.log(children) || children.map((result) => result())));\n    }\n    if (!components.length) return null;\n    return components\n  }\n  return recurse([view])[0];\n}\n\nconst cachedViews = {};\n\nexport default class extends React.Component {\n  componentDidUpdate() {\n    const model = this.model, mode = this.mode;\n    if (window.tools.view[model].custom_init && window.tools.view[model].custom_init[model + '.' + mode]) window.tools.view[model].custom_init[model + '.' + mode].bind(this)(this.props);\n  }\n\n  render(props) {\n    let model = window.models.env.context.active_model;\n    let mode = window.models.env.context.active_mode;\n    if (props.f7route && props.f7route.url) window.models.env.context.active_url = props.f7route.url;\n    else window.models.env.context.active_url = '/';\n    if (props.f7route && props.f7route.params && props.f7route.params.view_id) {\n      const view_id = props.f7route.params.view_id.split('.');\n      model = view_id.slice(0, -1).join('.');\n      mode = view_id[view_id.length - 1];\n      //window.models.env.context.active_url = props.f7route.url;\n    }\n    this.model = model;\n    this.mode = mode;\n    //const id = props.f7route.query.id;\n    const view = window.tools.view[model][mode];\n    if (window.tools.view[model].contexts[mode]) Object.assign(window.models.env.context, window.tools.view[model].contexts[mode]);\n    window.models.env.context.active_model = model;\n    //window.models.env.context.active_ids = [id];\n    /*if (id) {\n      window.models.env[model].browse(id).then((record) => window.models.env.context.active_id = record);\n    }*/\n    if (!cachedViews[view]) {\n      // eslint-disable-next-line\n      //cachedViews[view] = eval(Parser(view, {presets: [preset]}).code);\n      cachedViews[view] = parseView(view, model);\n    }\n\n    //if (window.tools.view[model].custom_init && window.tools.view[model].custom_init[model + '.' + mode]) window.tools.view[model].custom_init[model + '.' + mode].bind(this)(props);\n\n    return cachedViews[view]();\n  }\n}\n","import React from 'react';\nimport {\n    Page,\n    Navbar,\n    NavLeft,\n    NavTitle,\n    NavRight,\n    Link,\n    Toolbar,\n    Block,\n    BlockTitle,\n    List,\n    ListItem,\n    Row,\n    Col,\n    Button\n} from 'framework7-react';\nimport LoginPage from './LoginPage';\nimport TreePage from './TreePage';\nimport FormPage from './FormPage';\nimport CustomPage from './CustomPage';\n//import api from 'api';\n\nexport default function (props) {\n\n  if (window.models === undefined) {\n    return (<LoginPage/>);\n  }\n  else if (window.tools.configuration.home_view) {\n    const mode = window.tools.configuration.home_view.split('.').slice(-1)[0];\n    const model = window.tools.configuration.home_view.split('.').slice(0, -1).join('.');\n    window.models.env.context.active_mode = mode;\n    window.models.env.context.active_model = model;\n    if (mode === 'tree') {\n      return (<TreePage/>);\n    }\n    else if (mode === 'form') {\n      return (<FormPage/>);\n    }\n    else if (mode !== 'chat') return (<CustomPage/>);\n  }\n\n  return (\n  <Page>\n    <Navbar>\n      <NavLeft>\n        <Link iconMd=\"material:menu\" panelOpen=\"left\"></Link>\n      </NavLeft>\n      <NavTitle>Home</NavTitle>\n      <NavRight>\n        <Link iconMd=\"material:person\" panelOpen=\"right\"></Link>\n      </NavRight>\n    </Navbar>\n    <Toolbar>\n      <Link>Left Link</Link>\n      <Link>Right Link</Link>\n    </Toolbar>\n    <Block strong>\n      <p>Here is your blank Framework7 app. Let's see what we have here.</p>\n    </Block>\n    <BlockTitle>Navigation</BlockTitle>\n    <List>\n      <ListItem link=\"/about/\" title=\"About\"></ListItem>\n      <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n    </List>\n    <BlockTitle>Modals</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised popupOpen=\"#popup\">Popup</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised loginScreenOpen=\"#login-screen\">Login Screen</Button>\n        </Col>\n      </Row>\n    </Block>\n    <BlockTitle>Panels</BlockTitle>\n    <Block strong>\n      <Row>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"left\">Left Panel</Button>\n        </Col>\n        <Col width=\"50\">\n          <Button fill raised panelOpen=\"right\">Right Panel</Button>\n        </Col>\n      </Row>\n    </Block>\n    <List>\n      <ListItem link=\"/dynamic-route/blog/45/post/125/?foo=bar#about\" title=\"Dynamic Route\"></ListItem>\n      <ListItem link=\"/load-something-that-doesnt-exist/\" title=\"Default Route (404)\"></ListItem>\n    </List>\n  </Page>\n  );\n}\n","import React from 'react';\nimport { Page, Navbar, Link, Block, BlockTitle } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"About\" backLink=\"Back\"></Navbar>\n    <BlockTitle>About My App</BlockTitle>\n    <Block strong>\n      <p>Here is About page!</p>\n      <p>You can go <Link back>back</Link>.</p>\n      <p>Mauris posuere sit amet metus id venenatis. Ut ante dolor, tempor nec commodo rutrum, varius at sem. Nullam ac nisi non neque ornare pretium. Nulla mauris mauris, consequat et elementum sit amet, egestas sed orci. In hac habitasse platea dictumst.</p>\n      <p>Fusce eros lectus, accumsan eget mi vel, iaculis tincidunt felis. Nulla tincidunt pharetra sagittis. Fusce in felis eros. Nulla sit amet aliquam lorem, et gravida ipsum. Mauris consectetur nisl non sollicitudin tristique. Praesent vitae metus ac quam rhoncus mattis vel et nisi. Aenean aliquet, felis quis dignissim iaculis, lectus quam tincidunt ligula, et venenatis turpis risus sed lorem. Morbi eu metus elit. Ut vel diam dolor.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport { Page, Navbar, Block } from 'framework7-react';\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Not found\" backLink=\"Back\" />\n    <Block strong>\n      <p>Sorry</p>\n      <p>Requested content not found.</p>\n    </Block>\n  </Page>\n);\n","import React from 'react';\nimport {Page, Navbar, Button, Link} from 'framework7-react';\n\nimport api from 'api';\n\nlet hide = false;\n\nfunction hidePanel() {\n  api.globals.app.params.panel.leftBreakpoint = hide ? 768 : 1000000;\n  api.globals.app.panel.left.initBreakpoints();\n  hide = !hide;\n}\n\nexport default () => (\n  <Page>\n    <Navbar title=\"Menu\"/>\n    <div id=\"menu\" className=\"list list-block media-list chevron-center inset\" style={{fontWeight: 500}} panelClose>\n      {window.tools.keys(window.tools.menu, 'sequence').as_array().map((menu, index) => (\n      <ul>\n        <li className=\"accordion-item\">\n          <a className={'item-link item-content' + (window.tools.menu[menu].childs.length < 1 ? ' panel-close external' : '')} onClick={window.tools.menu[menu].childs.length < 1 && ((event) => event.preventDefault() || api.globals.app.panel.left.close() === {} || Object.assign(window.models.env.context, window.tools.menu[menu].context) === {} || api.globals.app.views.main.router.navigate(event.currentTarget.href.split('#!')[1]))} href={window.tools.menu[menu].childs.length < 1 && '#!/' + (window.tools.menu[menu].view_id ? 'view' : 'tree') + '/' + (window.tools.menu[menu].view_id || window.tools.menu[menu].model)} data-view=\"#main-view\">\n            <div className=\"item-inner\">\n              <div className=\"item-title\">{window.tools.menu[menu].string}</div>\n            </div>\n          </a>\n          {window.tools.menu[menu].childs.as_array().map((child_menu, index) => (\n          <div className=\"accordion-item-content\">\n            <a className=\"item-content panel-close external\" onClick={(event) => event.preventDefault() || api.globals.app.panel.left.close() === {} || Object.assign(window.models.env.context, child_menu.context) === {} || api.globals.app.views.main.router.navigate(event.currentTarget.href.split('#!')[1])} href={'#!/' + (child_menu.view_id ? 'view' : 'tree') + '/' + (child_menu.view_id || child_menu.model)} data-view=\"#main-view\">\n              <div className=\"item-inner\">\n                <div className=\"item-title\">{child_menu.string}</div>\n              </div>\n            </a>\n          </div>))}\n        </li>\n      </ul>))}\n    </div>\n    <Button fill id=\"pwa_install_button\" onClick={async () => api.globals.InstallPromp.prompt() || (await api.globals.InstallPromp.userChoice === 'accepted') && (document.getElementById('pwa_install_button').style.display = 'none')} style={{display: api.globals.InstallPrompt ? 'inline-block' : 'none', margin: '10px'}}>Install</Button>\n    <Link iconMd=\"material:more_horiz\" iconSize=\"30\" onClick={hidePanel} style={{display: 'inline-block', margin: '10px'}}/>\n  </Page>\n);\n","import React from 'react';\nimport api from 'api';\nimport { Page, Navbar, NavLeft, Block, Button, BlockTitle, List, ListItem, Icon, Toolbar, Link, Tabs, Tab } from 'framework7-react';\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {'name': ''};\n  }\n\n  async componentDidMount(props) {\n    api.globals.app = this.$f7;\n    if (api.globals.app.device.ios) document.body.style.height = 'calc(100% + 20px)';\n    window.tools.navigate = api.globals.app.views.main.router.navigate.bind(api.globals.app.views.main.router);\n    window.tools.dialog = api.globals.app.dialog;\n    this.setState({'name': await window.models.env.user.browse(window.models.env.user.id.toString()).then((record) => record.name)});\n  }\n\n  render = (props) => (\n    <Page>\n      <Navbar>\n        <NavLeft className=\"user-link\">\n          <List>\n            <ListItem link=\"#\" title={this.state.name}>\n              <Icon material=\"person\"></Icon>\n            </ListItem>\n          </List>\n        </NavLeft>\n      </Navbar>\n      <Toolbar tabbar>\n        <Link tabLink=\"#notification\" tabLinkActive>Notifications</Link>\n        {/*<Link tabLink=\"#message\">Messages</Link>*/}\n      </Toolbar>\n      <Tabs>\n        <Tab id=\"notification\" className=\"page-content\" tabActive style={{paddingTop: '0px'}}>\n          <List mediaList style={{marginTop: '0px'}}>\n            <ListItem link=\"#\" title=\"Notification Title\" after=\"17:20\" text=\"Notification Text\"/>\n          </List>\n          <Button fill onClick={api.logout} style={{display: 'inline-block', margin: '10px'}}>Logout</Button>\n        </Tab>\n        {/*<Tab id=\"message\" className=\"page-content\">\n          <Block>\n            <p>Tab 2 content</p>\n            ...\n          </Block>\n        </Tab>*/}\n      </Tabs>\n      {/*<Block strong>\n        <p>Right panel content goes here</p>\n      </Block>\n      <BlockTitle>Load page in panel</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\"></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\"></ListItem>\n      </List>\n      <BlockTitle>Load page in main view</BlockTitle>\n      <List>\n        <ListItem link=\"/about/\" title=\"About\" view=\"#main-view\" panelClose></ListItem>\n        <ListItem link=\"/form/\" title=\"Form\" view=\"#main-view\" panelClose></ListItem>\n      </List>*/}\n    </Page>\n  )\n}\n","import HomePage from './components/pages/HomePage';\nimport AboutPage from './components/pages/AboutPage';\nimport TreePage from './components/pages/TreePage';\nimport FormPage from './components/pages/FormPage';\nimport CustomPage from './components/pages/CustomPage';\nimport NotFound from './components/pages/NotFound';\nimport PanelLeft from './components/pages/PanelLeft';\nimport PanelRight from './components/pages/PanelRight';\n\nconst routes = () => window.models ? [\n  {\n    path: '/',\n    component: HomePage,\n  },\n  {\n    path: '/panel-left/',\n    component: PanelLeft,\n  },\n  {\n    path: '/panel-right/',\n    component: PanelRight,\n  },\n  {\n    path: '/about/',\n    component: AboutPage,\n  },\n  {\n    path: '/tree/:model',\n    component: TreePage,\n  },\n  {\n    path: '/form/:model',\n    component: FormPage,\n  },\n  {\n    path: '/view/:view_id',\n    component: CustomPage,\n  },\n  {\n    path: '(.*)',\n    component: NotFound,\n  },\n] : [{path: '(.*)', component: HomePage}];\n\nexport default routes;\n","import React from 'react';\nimport {\n  App,\n  Panel,\n  View,\n  Statusbar,\n  Popup,\n  Page,\n  Navbar,\n  NavRight,\n  Link,\n  Block,\n  LoginScreen,\n  LoginScreenTitle,\n  List,\n  ListItem,\n  Label,\n  Input,\n  ListButton,\n  BlockFooter\n} from 'framework7-react';\n\nimport routes from '../routes';\n\nimport api from 'api';\n\nexport default function (props) {\n  const tools = window.tools;\n\n  const manifest = tools ? {\n    \"short_name\": tools.configuration.app_name || \"App\",\n    \"name\": tools.configuration.long_name || tools.configuration.app_name || \"App\",\n    \"description\": tools.configuration.app_description || \"A webclient for Rapydframework based apps\",\n    \"scope\": ((href) => href.substring(0, href.lastIndexOf('/')) + '/')(window.location.origin + window.location.pathname),\n    \"start_url\": ((href) => href.substring(0, href.lastIndexOf('/')) + '/')(window.location.origin + window.location.pathname) + '/index.html',\n    \"display\": 'standalone',\n    \"background_color\": 'white',\n    \"icons\": [{\n      \"src\": ((href) => href.substring(0, href.lastIndexOf('/')) + '/')(window.location.origin + window.location.pathname) + '/' + (tools.configuration.icon_big || \"icon-512.png\"),\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": ((href) => href.substring(0, href.lastIndexOf('/')) + '/')(window.location.origin + window.location.pathname) + '/' + (tools.configuration.icon_small || \"icon-192.png\"),\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\"\n    }],\n  } : null;\n\n  let manifestRegistered = false;\n  api.globals.registerManifest = async () => {\n    if (manifestRegistered || !tools || !window.fetch) return;\n    let validManifest;\n    try {\n      const manifest_json = await fetch(document.getElementById('rapyd-app-manifest').href).then((result) => result.json());\n      if (manifest_json.start_url) validManifest = true;\n    }\n    catch (error) {}\n    if (validManifest) return;\n    manifest.theme_color = document.querySelector('meta[name=theme-color]').content;\n    const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});\n    document.getElementById('rapyd-app-manifest').setAttribute('href', URL.createObjectURL(blob));\n    manifestRegistered = true;\n  }\n\n  const f7params = {\n    id: 'org.rapyd.client', // App bundle ID\n    name: 'App', // App name\n    theme: 'md', // Automatic theme detection\n    // App routes\n    routes: routes(),\n    panel: {\n      leftBreakpoint: 960,\n    },\n  };\n\n  return (\n    <App params={f7params} colorTheme={(window.tools && window.tools.configuration.color_theme) ? (window.tools && window.tools.configuration.color_theme) : 'gray'}>\n      {/* Statusbar */}\n      <Statusbar />\n\n      { window.models !== undefined &&\n        <Panel left reveal>\n          <View url=\"/panel-left/\" />\n        </Panel>\n      }\n\n      { window.models !== undefined &&\n        <Panel right cover>\n          <View url=\"/panel-right/\"/>\n        </Panel>\n      }\n\n      {/* Main View */}\n      <View id=\"main-view\" url=\"/\" main className=\"ios-edges\" preloadPreviousPage={false} pushState/>\n\n      {/*\n      <Popup id=\"popup\">\n        <View>\n          <Page>\n            <Navbar title=\"Popup\">\n              <NavRight>\n                <Link popupClose>Close</Link>\n              </NavRight>\n            </Navbar>\n            <Block>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Neque, architecto. Cupiditate laudantium rem nesciunt numquam, ipsam. Voluptates omnis, a inventore atque ratione aliquam. Omnis iusto nemo quos ullam obcaecati, quod.</Block>\n          </Page>\n        </View>\n      </Popup>*/}\n\n      {/* Login Screen */}\n      <LoginScreen id=\"login-screen\">\n        <View>\n          <Page loginScreen>\n            <LoginScreenTitle>Login</LoginScreenTitle>\n            <List form>\n              <ListItem>\n                <Label>Username</Label>\n                <Input name=\"username\" placeholder=\"Username\" type=\"text\"></Input>\n              </ListItem>\n              <ListItem>\n                <Label>Password</Label>\n                <Input name=\"password\" type=\"password\" placeholder=\"Password\"></Input>\n              </ListItem>\n            </List>\n            <List>\n              <ListButton title=\"Sign In\" loginScreenClose></ListButton>\n              <BlockFooter>\n                <p>Click Sign In to close Login Screen</p>\n              </BlockFooter>\n            </List>\n          </Page>\n        </View>\n      </LoginScreen>\n    </App>\n  );\n}\n","// Import React and ReactDOM\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n// Import Framework7\nimport Framework7 from 'framework7/framework7.esm.bundle';\n\n// Import Framework7-React plugin\nimport Framework7React from 'framework7-react';\n\nimport * as Framework7Components from 'framework7-react';\n\n// Import main App component\nimport App from './components/App.jsx';\n\nimport Page from './components/Page.jsx';\n\nimport Flatpickr from './components/Flatpickr.jsx';\n\n// Framework7 styles\nimport 'framework7/css/framework7.min.css';\n\n// Icons\nimport './css/icons.css';\n\n// Custom app styles\nimport './css/app.css';\n\nimport * as OfflinePluginRuntime from 'offline-plugin/runtime';\n\nimport api from 'api';\n\nOfflinePluginRuntime.install({onInstalled: () => OfflinePluginRuntime.update(), onUpdateReady: () => window.tools ? api.globals.app.dialog.confirm('Update available, apply it?', () => OfflinePluginRuntime.applyUpdate(() => window.location.reload())) : OfflinePluginRuntime.applyUpdate(() => window.location.reload())});\n\n// Init Framework7-React plugin\nFramework7.use(Framework7React);\n\nwindow.React = React;\nwindow.ReactDOM = ReactDOM;\n\nwindow.rapydComponents = {...Framework7Components, ...window.rapydComponents, Page, Flatpickr};\n\n// Mount React App\n(async () => {\n  const wait_session = api.get_session();\n  try {\n    window.addEventListener('beforeinstallprompt', async (event) => {\n      event.preventDefault();\n      await wait_session;\n      api.globals.InstallPromp = event;\n      await api.wait_exist(() => document.getElementById('pwa_install_button'));\n      document.getElementById('pwa_install_button').style.display = 'inline-block';\n    });\n  }\n  catch (error) {\n    console.error(error);\n  }\n  await wait_session;\n  const tools = window.tools;\n  if (tools && (tools.configuration.long_name || tools.configuration.app_name)) document.querySelector('title').innerHTML = tools.configuration.long_name || tools.configuration.app_name;\n  await ReactDOM.render(\n    React.createElement(App),\n    document.getElementById('app'),\n  );\n  if (tools && tools.configuration.custom_navbar) {\n    var style = document.createElement('style');\n    style.innerHTML = '.navbar, .toolbar, .statusbar {background-color: ' + window.tools.configuration.custom_navbar + '!important}';\n    document.querySelector('head').append(style);\n  }\n  if (document.querySelector('div.navbar')) {\n    const color_element = document.createElement('meta');\n    color_element.name = 'theme-color';\n    color_element.content = '#' + getComputedStyle(document.querySelector('.navbar'), null).backgroundColor.replace('rgb(', '').replace(')', '').split(', ').map(function(c) {return parseInt(c).toString(16)}).map(function(hex) {return hex.length === 1 ? \"0\" + hex : hex}).join('');\n    document.querySelector('head').appendChild(color_element);\n    api.globals.registerManifest();\n  }\n})();\n","if (!window.ReactDOM) {\n  throw Error('ReactDOM must be defined on global variable');\n}\n\nmodule.exports = window.ReactDOM;\n"],"sourceRoot":""}